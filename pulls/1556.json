{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bips/pulls/1556",
    "id": 1757407529,
    "node_id": "PR_kwDOAN28mc5ov-kp",
    "html_url": "https://github.com/bitcoin/bips/pull/1556",
    "diff_url": "https://github.com/bitcoin/bips/pull/1556.diff",
    "patch_url": "https://github.com/bitcoin/bips/pull/1556.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1556",
    "commits_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bips/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bips/issues/1556/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/b6be5615a6ad668973159804d2975597bfd265f0",
    "number": 1556,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "bip-tombriar-compressed-transactions",
    "user": {
      "login": "TomBriar",
      "id": 90657314,
      "node_id": "MDQ6VXNlcjkwNjU3MzE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomBriar",
      "html_url": "https://github.com/TomBriar",
      "followers_url": "https://api.github.com/users/TomBriar/followers",
      "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
      "organizations_url": "https://api.github.com/users/TomBriar/orgs",
      "repos_url": "https://api.github.com/users/TomBriar/repos",
      "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TomBriar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This document proposes a serialization scheme for compressing bitcoin transactions. The compressed bitcoin transactions can reach a serialized size of less than 50% of the original serialized transaction. One of the methods for compressing, involves reducing the transaction outpoints in a potentially lossy way, therefore it is an optional path for compression. Without compressing the outpoints, compressed transactions still reach less then 70% of the original size.\r\n\r\nReference Implementation:\r\nhttps://github.com/bitcoin/bitcoin/pull/29134\r\n\r\nThe reference implementation includes two new RPC endpoints to demonstrate how to use compressed transactions. The compressrawtransaction takes in a raw hex-encoded transaction and returns a compressed hex-encoded transaction, while the decompressrawtransaction accepts a compressed hex-encoded transaction and returns the original raw hex-encoded transaction. \r\n\r\nThanks-\r\nTom.",
    "labels": [
      {
        "id": 275845989,
        "node_id": "MDU6TGFiZWwyNzU4NDU5ODk=",
        "url": "https://api.github.com/repos/bitcoin/bips/labels/New%20BIP",
        "name": "New BIP",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2024-03-05T17:53:47Z",
    "updated_at": "2024-04-29T13:23:55Z",
    "mergeable": true,
    "mergeable_state": "clean",
    "merge_commit_sha": "5d3a34b9bc1fb14286d95705d204872a95a08cbf",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TomBriar:bip-tombriar-compressed-transactions",
      "ref": "bip-tombriar-compressed-transactions",
      "sha": "b6be5615a6ad668973159804d2975597bfd265f0",
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 741030865,
        "node_id": "R_kgDOLCs70Q",
        "name": "bips",
        "full_name": "TomBriar/bips",
        "owner": {
          "login": "TomBriar",
          "id": 90657314,
          "node_id": "MDQ6VXNlcjkwNjU3MzE0",
          "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TomBriar",
          "html_url": "https://github.com/TomBriar",
          "followers_url": "https://api.github.com/users/TomBriar/followers",
          "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
          "organizations_url": "https://api.github.com/users/TomBriar/orgs",
          "repos_url": "https://api.github.com/users/TomBriar/repos",
          "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TomBriar/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TomBriar/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": true,
        "url": "https://api.github.com/repos/TomBriar/bips",
        "archive_url": "https://api.github.com/repos/TomBriar/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TomBriar/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TomBriar/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TomBriar/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TomBriar/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TomBriar/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TomBriar/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TomBriar/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TomBriar/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TomBriar/bips/contributors",
        "deployments_url": "https://api.github.com/repos/TomBriar/bips/deployments",
        "downloads_url": "https://api.github.com/repos/TomBriar/bips/downloads",
        "events_url": "https://api.github.com/repos/TomBriar/bips/events",
        "forks_url": "https://api.github.com/repos/TomBriar/bips/forks",
        "git_commits_url": "https://api.github.com/repos/TomBriar/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TomBriar/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TomBriar/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TomBriar/bips.git",
        "issue_comment_url": "https://api.github.com/repos/TomBriar/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TomBriar/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TomBriar/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TomBriar/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TomBriar/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TomBriar/bips/languages",
        "merges_url": "https://api.github.com/repos/TomBriar/bips/merges",
        "milestones_url": "https://api.github.com/repos/TomBriar/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TomBriar/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TomBriar/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TomBriar/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:TomBriar/bips.git",
        "stargazers_url": "https://api.github.com/repos/TomBriar/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/TomBriar/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TomBriar/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/TomBriar/bips/subscription",
        "tags_url": "https://api.github.com/repos/TomBriar/bips/tags",
        "teams_url": "https://api.github.com/repos/TomBriar/bips/teams",
        "trees_url": "https://api.github.com/repos/TomBriar/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TomBriar/bips.git",
        "hooks_url": "https://api.github.com/repos/TomBriar/bips/hooks",
        "svn_url": "https://github.com/TomBriar/bips",
        "homepage": "",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 13922,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-04-15T15:56:49Z",
        "created_at": "2024-01-09T14:59:27Z",
        "updated_at": "2024-01-09T14:59:27Z"
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "b3701faef2bdb98a0d7ace4eedbeefa2da4c89ed",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 14531737,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDUzMTczNw==",
        "name": "bips",
        "full_name": "bitcoin/bips",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bips",
        "archive_url": "https://api.github.com/repos/bitcoin/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bips/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bips/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bips/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bips/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bips/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bips.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bips/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bips/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bips.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bips/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bips/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bips/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bips.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bips/hooks",
        "svn_url": "https://github.com/bitcoin/bips",
        "homepage": "",
        "language": "Wikitext",
        "forks_count": 5236,
        "stargazers_count": 8939,
        "watchers_count": 8939,
        "size": 14927,
        "default_branch": "master",
        "open_issues_count": 82,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": false,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-04-29T13:37:13Z",
        "created_at": "2013-11-19T17:18:41Z",
        "updated_at": "2024-04-29T00:41:03Z"
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
      }
    },
    "author_association": "NONE",
    "draft": false,
    "additions": 293,
    "deletions": 0,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 21,
    "comments": 1
  },
  "events": [
    {
      "event": "commented",
      "id": 2007388248,
      "node_id": "IC_kwDOAN28mc53plBY",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/2007388248",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T14:50:29Z",
      "updated_at": "2024-03-19T14:50:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hi Tom,\r\n\r\nThanks for posting this. I'd suggest rewording the abstract and PR description to avoid talking in terms of Core internals (classes, subclasses, etc) and instead simply describe the serialization. It's fine to describe suggested RPC endpoints since these give an idea of how the specification might be used.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#issuecomment-2007388248",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1556"
    },
    {
      "event": "reviewed",
      "id": 1946494203,
      "node_id": "PRR_kwDOAN28mc50BST7",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946494203",
      "submitted_at": "2024-03-19T14:51:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946497767,
      "node_id": "PRR_kwDOAN28mc50BTLn",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946497767",
      "submitted_at": "2024-03-19T14:53:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946503054,
      "node_id": "PRR_kwDOAN28mc50BUeO",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946503054",
      "submitted_at": "2024-03-19T14:54:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946506211,
      "node_id": "PRR_kwDOAN28mc50BVPj",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946506211",
      "submitted_at": "2024-03-19T14:54:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946517126,
      "node_id": "PRR_kwDOAN28mc50BX6G",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946517126",
      "submitted_at": "2024-03-19T14:57:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946528506,
      "node_id": "PRR_kwDOAN28mc50Bar6",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946528506",
      "submitted_at": "2024-03-19T14:59:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946533267,
      "node_id": "PRR_kwDOAN28mc50Bb2T",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946533267",
      "submitted_at": "2024-03-19T15:00:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946536297,
      "node_id": "PRR_kwDOAN28mc50Bclp",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946536297",
      "submitted_at": "2024-03-19T15:01:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "reviewed",
      "id": 1946538497,
      "node_id": "PRR_kwDOAN28mc50BdIB",
      "url": null,
      "actor": null,
      "commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-1946538497",
      "submitted_at": "2024-03-19T15:02:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12314875609,
      "node_id": "HRFPE_lADOAN28mc6BVN_QzwAAAALeBhbZ",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/12314875609",
      "actor": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-01T19:28:05Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12315225461,
      "node_id": "HRFPE_lADOAN28mc6BVN_QzwAAAALeC211",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/12315225461",
      "actor": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-01T20:02:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12315262424,
      "node_id": "HRFPE_lADOAN28mc6BVN_QzwAAAALeC_3Y",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/12315262424",
      "actor": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-01T20:07:07Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGI2YmU1NjE1YTZhZDY2ODk3MzE1OTgwNGQyOTc1NTk3YmZkMjY1ZjA",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/b6be5615a6ad668973159804d2975597bfd265f0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/b6be5615a6ad668973159804d2975597bfd265f0",
      "tree": {
        "sha": "0ddc95396ba071f73ad05aa7606280446fb5a2d0",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/0ddc95396ba071f73ad05aa7606280446fb5a2d0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/deae64bfd31f6938253c05392aa355bf6d7e7605",
          "sha": "deae64bfd31f6938253c05392aa355bf6d7e7605",
          "html_url": "https://github.com/bitcoin/bips/commit/deae64bfd31f6938253c05392aa355bf6d7e7605"
        }
      ],
      "message": "bip-tombriar-compressed-transactions",
      "committer": {
        "name": "Tom Briar",
        "email": "tombriar08@Gmail.com",
        "date": "2024-04-15T15:56:42Z"
      },
      "author": {
        "name": "Tom Briar",
        "email": "tombriar08@Gmail.com",
        "date": "2024-01-09T16:47:40Z"
      },
      "sha": "b6be5615a6ad668973159804d2975597bfd265f0"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12472906935,
      "node_id": "HRFPE_lADOAN28mc6BVN_QzwAAAALncXS3",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/12472906935",
      "actor": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-15T15:56:50Z"
    },
    {
      "event": "labeled",
      "id": 12581204817,
      "node_id": "LE_lADOAN28mc6BVN_QzwAAAALt5fNR",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/12581204817",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-23T20:18:31Z",
      "label": {
        "name": "New BIP",
        "color": "5319e7"
      }
    },
    {
      "event": "reviewed",
      "id": 2028496221,
      "node_id": "PRR_kwDOAN28mc546GVd",
      "url": null,
      "actor": null,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Light first review. Looks pretty good, could you please add the mandatory \"Backwards Compatibility\" section (even if it just says that there are no concerns) and take a look at the preamble?",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1556#pullrequestreview-2028496221",
      "submitted_at": "2024-04-29T13:23:55Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530537438",
      "pull_request_review_id": 1946494203,
      "id": 1530537438,
      "node_id": "PRRC_kwDOAN28mc5bOiXe",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 44,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "grammar: `transactions` should be `transaction` or `transaction's` here and in the 3 lines below.\r\n\r\nI'd also change \"optional\" to \"if present according to the metadata field, a CompactSize encoding the transaction version\". So it's clear on a first read what \"optional\" means.",
      "created_at": "2024-03-19T14:51:50Z",
      "updated_at": "2024-03-19T14:51:51Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530537438",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530537438"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 44,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530539586",
      "pull_request_review_id": 1946497767,
      "id": 1530539586,
      "node_id": "PRRC_kwDOAN28mc5bOi5C",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 42,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "grammar: you inconsistently capitalize Bits/bits and Bytes/bytes, and inconsistently use plural bytes/byte and bits/bit",
      "created_at": "2024-03-19T14:53:08Z",
      "updated_at": "2024-03-19T14:53:08Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530539586",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530539586"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 42,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530544025",
      "pull_request_review_id": 1946503054,
      "id": 1530544025,
      "node_id": "PRRC_kwDOAN28mc5bOj-Z",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 84,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe mention that for optut types other than P2TR and P2SH this bit is unused.",
      "created_at": "2024-03-19T14:54:05Z",
      "updated_at": "2024-03-19T14:54:05Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530544025",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530544025"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 84,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530546318",
      "pull_request_review_id": 1946506211,
      "id": 1530546318,
      "node_id": "PRRC_kwDOAN28mc5bOkiO",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 88,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`inputs` should be `input's` or `input`. Also you inconsistently capitalize Input in this section.",
      "created_at": "2024-03-19T14:54:38Z",
      "updated_at": "2024-03-19T14:54:38Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530546318",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530546318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530553645",
      "pull_request_review_id": 1946517126,
      "id": 1530553645,
      "node_id": "PRRC_kwDOAN28mc5bOmUt",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 136,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "When linking you should use the title of the section rather than `here`. This helps screen readers and other accessibility tools, and also helps sight-readers know where the link is going to go.",
      "created_at": "2024-03-19T14:57:00Z",
      "updated_at": "2024-03-19T14:57:01Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530553645",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530553645"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530561453",
      "pull_request_review_id": 1946528506,
      "id": 1530561453,
      "node_id": "PRRC_kwDOAN28mc5bOoOt",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 183,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd reword this because it's hard to tell whether you're about to describe an \"ideal\" transaction or a \"common\" one or what. I suggest\r\n\r\n```\r\nThe compression scheme was designed to be optimal for a \"typical\" transaction\r\nspending a few close-in-age inputs and having one or two outputs. Here are size\r\nvalues for such a transaction which demonstrate the effectiveness of the compression.\r\n```",
      "created_at": "2024-03-19T14:59:32Z",
      "updated_at": "2024-03-19T14:59:42Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530561453",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530561453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530564376",
      "pull_request_review_id": 1946533267,
      "id": 1530564376,
      "node_id": "PRRC_kwDOAN28mc5bOo8Y",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Field !! Requirements !! Savings Up To\n+|-\n+| Version || Less than four || 30 Bits\n+|-\n+| Input Count || Less than four || 30 Bits\n+|-\n+| Output Count || Less than four || 30 Bits\n+|-\n+| LockTime || 0 || 30 Bits\n+|-\n+| Input Sequence || 0x00, 0xFFFFFFFE, or 0xFFFFFFFF || 62 Bits For Each Input\n+|-\n+| Input Txid || Compressed Outpoint || 23 - 31 Bytes For Each Input\n+|-\n+| Input Vout || Compressed Outpoint || (-1) - 3 Bytes For Each Input\n+|-\n+| Input Signature  || Non-custom Script Signing || 40 - 72 Bytes For Each Legacy Input\n+|-\n+| Input Hash Type || 0x00 for Taproot, 0x01 for Legacy || 7 Bits For Each Input\n+|-\n+| Output Script || Non-custom Scripts || 2 - 5 Bytes For Each Output\n+|-\n+| Output Amount || No Restrictions || (-1) - 7 Bytes For Each Output\n+|}\n+\n+=== Motivation ===\n+Bitcoin transactions currently contain a large amount of white space and padding. Specific fields are often one of a minimal number of possibilities. Leveraging these facts, we can create an encoding for 90% of Bitcoin transactions that are roughly 25-50% smaller.\n+\n+=== Rational ===\n+\n+The four main methods to achieve a lower transactions size are:\n+\n+1. Packing transaction metadata before it and each of its inputs and outputs to determine the structure of the data that follows.\n+\n+2. Replacing 32-bit numeric values with either variable-length integers (VarInts) or compact-integers (CompactSizes).\n+\n+3. Using compressed signatures and public key recovery upon decompression.\n+\n+4. Replacing the 36-byte txid/vout pair with a block height and index.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 225,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Both the \"Motivation\" and \"Rationale\" sections should go up top, after the abstract :). Nobody is going to read this far without a motivation.",
      "created_at": "2024-03-19T15:00:32Z",
      "updated_at": "2024-03-19T15:00:32Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530564376",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530564376"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530566244",
      "pull_request_review_id": 1946536297,
      "id": 1530566244,
      "node_id": "PRRC_kwDOAN28mc5bOpZk",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Field !! Requirements !! Savings Up To\n+|-\n+| Version || Less than four || 30 Bits\n+|-\n+| Input Count || Less than four || 30 Bits\n+|-\n+| Output Count || Less than four || 30 Bits\n+|-\n+| LockTime || 0 || 30 Bits\n+|-\n+| Input Sequence || 0x00, 0xFFFFFFFE, or 0xFFFFFFFF || 62 Bits For Each Input\n+|-\n+| Input Txid || Compressed Outpoint || 23 - 31 Bytes For Each Input\n+|-\n+| Input Vout || Compressed Outpoint || (-1) - 3 Bytes For Each Input\n+|-\n+| Input Signature  || Non-custom Script Signing || 40 - 72 Bytes For Each Legacy Input\n+|-\n+| Input Hash Type || 0x00 for Taproot, 0x01 for Legacy || 7 Bits For Each Input\n+|-\n+| Output Script || Non-custom Scripts || 2 - 5 Bytes For Each Output\n+|-\n+| Output Amount || No Restrictions || (-1) - 7 Bytes For Each Output\n+|}\n+\n+=== Motivation ===\n+Bitcoin transactions currently contain a large amount of white space and padding. Specific fields are often one of a minimal number of possibilities. Leveraging these facts, we can create an encoding for 90% of Bitcoin transactions that are roughly 25-50% smaller.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 213,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd say \"typical Bitcoin transactions\" rather than just \"Bitcoin transactions\". Technically, no part of a transaction is \"whitespace\" or meaningless. It's just that *usually* the version, locktime, sequence numbers, etc., are one of a few values.",
      "created_at": "2024-03-19T15:01:21Z",
      "updated_at": "2024-03-19T15:01:21Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530566244",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530566244"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 213,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530567388",
      "pull_request_review_id": 1946538497,
      "id": 1530567388,
      "node_id": "PRRC_kwDOAN28mc5bOprc",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Field !! Requirements !! Savings Up To\n+|-\n+| Version || Less than four || 30 Bits\n+|-\n+| Input Count || Less than four || 30 Bits\n+|-\n+| Output Count || Less than four || 30 Bits\n+|-\n+| LockTime || 0 || 30 Bits\n+|-\n+| Input Sequence || 0x00, 0xFFFFFFFE, or 0xFFFFFFFF || 62 Bits For Each Input\n+|-\n+| Input Txid || Compressed Outpoint || 23 - 31 Bytes For Each Input\n+|-\n+| Input Vout || Compressed Outpoint || (-1) - 3 Bytes For Each Input\n+|-\n+| Input Signature  || Non-custom Script Signing || 40 - 72 Bytes For Each Legacy Input\n+|-\n+| Input Hash Type || 0x00 for Taproot, 0x01 for Legacy || 7 Bits For Each Input\n+|-\n+| Output Script || Non-custom Scripts || 2 - 5 Bytes For Each Output\n+|-\n+| Output Amount || No Restrictions || (-1) - 7 Bytes For Each Output\n+|}\n+\n+=== Motivation ===\n+Bitcoin transactions currently contain a large amount of white space and padding. Specific fields are often one of a minimal number of possibilities. Leveraging these facts, we can create an encoding for 90% of Bitcoin transactions that are roughly 25-50% smaller.\n+\n+=== Rational ===\n+\n+The four main methods to achieve a lower transactions size are:\n+\n+1. Packing transaction metadata before it and each of its inputs and outputs to determine the structure of the data that follows.\n+\n+2. Replacing 32-bit numeric values with either variable-length integers (VarInts) or compact-integers (CompactSizes).\n+\n+3. Using compressed signatures and public key recovery upon decompression.\n+\n+4. Replacing the 36-byte txid/vout pair with a block height and index.\n+\n+=== Reference Implementation ===\n+\n+This reference implementation adds two new RPC endpoints, compressrawtransaction and decompressrawtransaction. The first accepts a raw hex-encoded transaction and returns a compact hex-encoded transaction; also included in the output is a list of warnings to help ensure there are no unexpected uncompressed values. The second accepts a compact hex transaction and returns the uncompressed raw hex-encoded transaction.\n+\n+https://github.com/bitcoin/bitcoin/pull/29134\n+\n+=== Test Vectors ===\n+\n+==== Taproot ====\n+\n+===== Uncompressed =====\n+<code>020000000001017ad1d0cc314504ec06f1b5c786c50cf3cda30bd5be88cf08ead571b0ce7481fb0000000000fdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226201408ce65b3170d3fbc68e3b6980650514dc53565f915d14351f83050ff50c8609495b7aa96271c3c99cdac1a92b1b45e77a4a870251fc1673596793adf2494565e500000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec7f2db1ed00b0218ce65b3170d3fbc68e3b6980650514dc53565f915d14351f83050ff50c8609495b7aa96271c3c99cdac1a92b1b45e77a4a870251fc1673596793adf2494565e58efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+==== P2WPKH ====\n+\n+===== Uncompressed =====\n+<code>0200000000010144bcf05ab48b8789268a7ca07133241ad654c0739ac7165015b2d669eadb10ea0000000000fdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226202473044022043ab639a98dfbc704f16a35bf25b8b72acb4cb928fd772285f1fcf63725caa85022001c9ff354504e7024708bce61f30370c8db13da8170cef4e8e4c4cdad0f71bfe0121030072484c24705512bfb1f7f866d95f808d81d343e552bc418113e1b9a1da0eb400000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec712db1ec72932643ab639a98dfbc704f16a35bf25b8b72acb4cb928fd772285f1fcf63725caa8501c9ff354504e7024708bce61f30370c8db13da8170cef4e8e4c4cdad0f71bfe8efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+==== P2SH-P2WPKH ====\n+\n+===== Uncompressed =====\n+<code>0200000000010192fb2e4332b43dc9a73febba67f3b7d97ba890673cb08efde2911330f77bbdfc00000000171600147a1979232206857167b401fdac1ffbf33f8204fffdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226202473044022041eb682e63c25b85a5a400b11d41cf4b9c25f309090a5f3e0b69dc15426da90402205644ddc3d5179bab49cce4bf69ebfaeab1afa34331c1a0a70be2927d2836b0e8012103c483f1b1bd24dd23b3255a68d87ef9281f9d080fd707032ccb81c1cc56c5b00200000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec7c3db1ec7d981641eb682e63c25b85a5a400b11d41cf4b9c25f309090a5f3e0b69dc15426da9045644ddc3d5179bab49cce4bf69ebfaeab1afa34331c1a0a70be2927d2836b0e87a1979232206857167b401fdac1ffbf33f8204ff8efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+==== P2PKH ====\n+\n+===== Uncompressed =====\n+<code>02000000015f5be26862482fe2fcc900f06ef26ee256fb205bc4773e5a402d0c1b88b82043000000006a473044022031a20f5d9212023b510599c9d53d082f8e07faaa2d51482e078f8e398cb50d770220635abd99220ad713a081c4f20b83cb3f491ed8bd032cb151a3521ed144164d9c0121027977f1b6357cead2df0a0a19570088a1eb9115468b2dfa01439493807d8f1294fdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226200000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec7c2db1ec7d981431a20f5d9212023b510599c9d53d082f8e07faaa2d51482e078f8e398cb50d77635abd99220ad713a081c4f20b83cb3f491ed8bd032cb151a3521ed144164d9c8efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+== Acknowledgements ==\n+Thank you to Andrew Poelstra who helped invent and develop the ideas in the proposal and the code in the reference implementation!",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 268,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I appreciate the enthusiasm but I think this'd read better with a period instead of the exclamation point.",
      "created_at": "2024-03-19T15:02:00Z",
      "updated_at": "2024-03-19T15:02:00Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1530567388",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1530567388"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 268,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1539850570",
      "pull_request_review_id": 1961327811,
      "id": 1539850570,
      "node_id": "PRRC_kwDOAN28mc5byEFK",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 84,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530544025,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's used for all script types but has special implications for P2TR and P2SH-WPKH. I reworded for clarity.",
      "created_at": "2024-03-26T18:07:14Z",
      "updated_at": "2024-03-26T18:07:14Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1539850570",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1539850570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 84,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779173",
      "pull_request_review_id": 1972010342,
      "id": 1546779173,
      "node_id": "PRRC_kwDOAN28mc5cMfol",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 44,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530537438,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:49:05Z",
      "updated_at": "2024-04-01T19:49:05Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546779173",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779173"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 44,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779306",
      "pull_request_review_id": 1972010558,
      "id": 1546779306,
      "node_id": "PRRC_kwDOAN28mc5cMfqq",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 42,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530539586,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:49:15Z",
      "updated_at": "2024-04-01T19:49:15Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546779306",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779306"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 42,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779590",
      "pull_request_review_id": 1972011015,
      "id": 1546779590,
      "node_id": "PRRC_kwDOAN28mc5cMfvG",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 88,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530546318,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:49:35Z",
      "updated_at": "2024-04-01T19:49:35Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546779590",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779590"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779821",
      "pull_request_review_id": 1972011376,
      "id": 1546779821,
      "node_id": "PRRC_kwDOAN28mc5cMfyt",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 136,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530553645,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:49:51Z",
      "updated_at": "2024-04-01T19:49:51Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546779821",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779821"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779916",
      "pull_request_review_id": 1972011560,
      "id": 1546779916,
      "node_id": "PRRC_kwDOAN28mc5cMf0M",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 183,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530561453,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:49:59Z",
      "updated_at": "2024-04-01T19:49:59Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546779916",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546779916"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546780215",
      "pull_request_review_id": 1972012046,
      "id": 1546780215,
      "node_id": "PRRC_kwDOAN28mc5cMf43",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Field !! Requirements !! Savings Up To\n+|-\n+| Version || Less than four || 30 Bits\n+|-\n+| Input Count || Less than four || 30 Bits\n+|-\n+| Output Count || Less than four || 30 Bits\n+|-\n+| LockTime || 0 || 30 Bits\n+|-\n+| Input Sequence || 0x00, 0xFFFFFFFE, or 0xFFFFFFFF || 62 Bits For Each Input\n+|-\n+| Input Txid || Compressed Outpoint || 23 - 31 Bytes For Each Input\n+|-\n+| Input Vout || Compressed Outpoint || (-1) - 3 Bytes For Each Input\n+|-\n+| Input Signature  || Non-custom Script Signing || 40 - 72 Bytes For Each Legacy Input\n+|-\n+| Input Hash Type || 0x00 for Taproot, 0x01 for Legacy || 7 Bits For Each Input\n+|-\n+| Output Script || Non-custom Scripts || 2 - 5 Bytes For Each Output\n+|-\n+| Output Amount || No Restrictions || (-1) - 7 Bytes For Each Output\n+|}\n+\n+=== Motivation ===\n+Bitcoin transactions currently contain a large amount of white space and padding. Specific fields are often one of a minimal number of possibilities. Leveraging these facts, we can create an encoding for 90% of Bitcoin transactions that are roughly 25-50% smaller.\n+\n+=== Rational ===\n+\n+The four main methods to achieve a lower transactions size are:\n+\n+1. Packing transaction metadata before it and each of its inputs and outputs to determine the structure of the data that follows.\n+\n+2. Replacing 32-bit numeric values with either variable-length integers (VarInts) or compact-integers (CompactSizes).\n+\n+3. Using compressed signatures and public key recovery upon decompression.\n+\n+4. Replacing the 36-byte txid/vout pair with a block height and index.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 225,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530564376,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:50:20Z",
      "updated_at": "2024-04-01T19:50:20Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546780215",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546780215"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546780318",
      "pull_request_review_id": 1972012211,
      "id": 1546780318,
      "node_id": "PRRC_kwDOAN28mc5cMf6e",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Field !! Requirements !! Savings Up To\n+|-\n+| Version || Less than four || 30 Bits\n+|-\n+| Input Count || Less than four || 30 Bits\n+|-\n+| Output Count || Less than four || 30 Bits\n+|-\n+| LockTime || 0 || 30 Bits\n+|-\n+| Input Sequence || 0x00, 0xFFFFFFFE, or 0xFFFFFFFF || 62 Bits For Each Input\n+|-\n+| Input Txid || Compressed Outpoint || 23 - 31 Bytes For Each Input\n+|-\n+| Input Vout || Compressed Outpoint || (-1) - 3 Bytes For Each Input\n+|-\n+| Input Signature  || Non-custom Script Signing || 40 - 72 Bytes For Each Legacy Input\n+|-\n+| Input Hash Type || 0x00 for Taproot, 0x01 for Legacy || 7 Bits For Each Input\n+|-\n+| Output Script || Non-custom Scripts || 2 - 5 Bytes For Each Output\n+|-\n+| Output Amount || No Restrictions || (-1) - 7 Bytes For Each Output\n+|}\n+\n+=== Motivation ===\n+Bitcoin transactions currently contain a large amount of white space and padding. Specific fields are often one of a minimal number of possibilities. Leveraging these facts, we can create an encoding for 90% of Bitcoin transactions that are roughly 25-50% smaller.",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 213,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530566244,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:50:28Z",
      "updated_at": "2024-04-01T19:50:28Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546780318",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546780318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 213,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546780620",
      "pull_request_review_id": 1972012790,
      "id": 1546780620,
      "node_id": "PRRC_kwDOAN28mc5cMf_M",
      "diff_hunk": "@@ -0,0 +1,268 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a new primitive CCompressedTransaction and its required sub-classes. The CCompressedTransaction can reach a serialized size of less than 50% of the original serialized transaction. Compression of the transaction outpoints can be lossy and is therefore optional. When the outpoints are left uncompressed, the serialized size is still less than 70% of the original size.\n+\n+=== Specification ===\n+\n+==== Primitives ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| CompactSize || 1-5 bytes || For 0-253, encode the value directly in one byte. For 254-65535, encode 254 followed by 2 little-endian bytes. For 65536-(2^32-1), encode 255 followed by 4 little-endian bytes\n+|-\n+| CompactSize Flag || 2 Bits || 1, 2 or 3 indicate literal values. 0 indicates that the value will be encoded in a later CompactInt\n+|-\n+| VarInt || 1+ Bytes || 7-bit little-endian encoding, with each 7-bit word encoded in a byte. The highest bit of each byte is 1 if more bytes follow, and 0 for the last byte\n+|-\n+| VLP-Bytestream || 2+ Bytes || A VarInt Length Prefixed Bytestream. Has a VarInt prefixed to determine the length.\n+|}\n+\n+==== General Schema ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Transaction metadata || 1 bytes || Information on the structure of the transaction. See [[#transaction-metadata|Transaction Metadata]]\n+|-\n+| Version || 0-5 Bytes || An optional CompactSize containing the transactions version.\n+|-\n+| Input Count || 0-5 Bytes || An optional CompactSize containing he transactions input count.\n+|-\n+| Output Count || 0-5 Bytes || An optional CompactSize containing he transactions output count.\n+|-\n+| LockTime || 0-5 Bytes || An optional CompactSize containing he transactions LockTime if its non zero.\n+|-\n+| Minimum Blockheight || 1-5 Bytes || A VarInt containg the Minimum Blockheight of the transaction locktime and input blockheights are given as offsets.\n+|-\n+| Input Metadata+Output Metadata || 1+ Bytes || A Encoding containing metadata on all the inputs and then all the outputs of the transaction. For each input see [[#input-metadata|Input Metadata]], for each output see [[#output-metadata|Output Metadata]].\n+|-\n+| Input Data || 66+ Bytes || See [[#input-data|Input Data]].\n+|-\n+| Output Data || 3+ Bytes || See [[#output-data|Output Data]].\n+|}\n+\n+<span id=\"transaction-metadata\"></span>\n+==== Transaction Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Version || 2 Bits || A CompactSize flag for the transaction version.\n+|-\n+| Input Count || 2 Bits || A CompactSize flag for the transaction input count.\n+|-\n+| Output Count || 2 Bits || A CompactSize flag for the transaction output count.\n+|-\n+| LockTime || 2 bit || A Boolean to indicate if the transaction has a LockTime.\n+|}\n+\n+<span id=\"input-metadata\"></span>\n+==== Input Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Compressed Signature || 1 Bit || Signature compression flag. For P2TR: 1 for keyspend, 0 for scriptspend; For P2SH: 0 for p2sh, 1 for p2sh-wpkh.\n+|-\n+| Standard Hash || 1 Bit || A flag to determine if this Input's Signature Hash Type is standard (0x00 for Taproot, 0x01 for Legacy/Segwit).\n+|-\n+| Standard Squence || 2 Bits || A CompactSize flag for the inputs sequence. Encode literal values as follows: 1 = 0x00000000, 2 = 0xFFFFFFFE, 3 = 0xFFFFFFFF.\n+|}\n+\n+<span id=\"output-metadata\"></span>\n+==== Output Metadata ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Encoded Script Type || 3 Bits || [[#script-type-encoding|Encoded Script Type]].\n+|}\n+\n+<span id=\"script-type-encoding\"></span>\n+==== Script Type Encoding ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Script Type !! Value\n+|-\n+| Uncompressed P2PK || 0b000\n+|-\n+| Compressed P2PK || 0b001\n+|-\n+| P2PKH || 0b010\n+|-\n+| P2SH || 0b011\n+|-\n+| P2WSH || 0b100\n+|-\n+| P2WPKH || 0b101\n+|-\n+| P2TR || 0b110\n+|-\n+| Uncompressed Custom Script || 0b111\n+|}\n+\n+<span id=\"input-data\"></span>\n+==== Input Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Sequence || 0-5 Bytes || An Optional VarInt containing the sequence if it was non-standard.\n+|-\n+| Txid Blockheight || 1-5 Bytes || A VarInt Either containing 0 if this an uncompressed input, or it contains the offset from Minimum Blockheight for this Txid.\n+|-\n+| Txid/Signature Data || 65+ Bytes || Txid/Signatures are determined to be uncompressed either by the output script of the previous transaction, or if the Txid Blockheight is zero. For each Compressed Txid/Signature see [[#compressed-data|here]]. For each Uncompressed Txid/Signature see [[#uncompressed-data|here]].\n+|}\n+\n+<span id=\"compressed-data\"></span>\n+==== Compressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid Block Index || 1-5 Bytes || A VarInt containing the flattened index from the Txid Blockheight for the Vout.\n+|-\n+| Signature || 64 Bytes || Contains the 64 byte signature.\n+|-\n+| Hash Type || 0-1 Bytes || An Optional Byte containing the Hash Type if it was non-standard.\n+|}\n+\n+<span id=\"uncompressed-data\"></span>\n+==== Uncompressed Txid/Signature Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Txid || 32 Bytes || Contains the 32 byte Txid.\n+|-\n+| Vout || 1-5 Bytes || A CompactSize Containing the Vout of the Txid.\n+|-\n+| Signature || 2+ Bytes || A VLP-Bytestream containing the signature.\n+|}\n+\n+<span id=\"output-data\"></span>\n+==== Output Data ====\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Name !! Width !! Description\n+|-\n+| Output Script || 2+ Bytes || A VLP-Bytestream containing the output script.\n+|-\n+| Amount || 1-9 Bytes || A VarInt containing the output amount.\n+|}\n+\n+==== Ideal Transaction ====\n+\n+The target transaction for the most optimal compression was chosen\n+based off the most common transactions that are likely to be used\n+for purposes that requires the best compression.\n+\n+{| class=\"wikitable\" style=\"margin:auto\"\n+|-\n+! Field !! Requirements !! Savings Up To\n+|-\n+| Version || Less than four || 30 Bits\n+|-\n+| Input Count || Less than four || 30 Bits\n+|-\n+| Output Count || Less than four || 30 Bits\n+|-\n+| LockTime || 0 || 30 Bits\n+|-\n+| Input Sequence || 0x00, 0xFFFFFFFE, or 0xFFFFFFFF || 62 Bits For Each Input\n+|-\n+| Input Txid || Compressed Outpoint || 23 - 31 Bytes For Each Input\n+|-\n+| Input Vout || Compressed Outpoint || (-1) - 3 Bytes For Each Input\n+|-\n+| Input Signature  || Non-custom Script Signing || 40 - 72 Bytes For Each Legacy Input\n+|-\n+| Input Hash Type || 0x00 for Taproot, 0x01 for Legacy || 7 Bits For Each Input\n+|-\n+| Output Script || Non-custom Scripts || 2 - 5 Bytes For Each Output\n+|-\n+| Output Amount || No Restrictions || (-1) - 7 Bytes For Each Output\n+|}\n+\n+=== Motivation ===\n+Bitcoin transactions currently contain a large amount of white space and padding. Specific fields are often one of a minimal number of possibilities. Leveraging these facts, we can create an encoding for 90% of Bitcoin transactions that are roughly 25-50% smaller.\n+\n+=== Rational ===\n+\n+The four main methods to achieve a lower transactions size are:\n+\n+1. Packing transaction metadata before it and each of its inputs and outputs to determine the structure of the data that follows.\n+\n+2. Replacing 32-bit numeric values with either variable-length integers (VarInts) or compact-integers (CompactSizes).\n+\n+3. Using compressed signatures and public key recovery upon decompression.\n+\n+4. Replacing the 36-byte txid/vout pair with a block height and index.\n+\n+=== Reference Implementation ===\n+\n+This reference implementation adds two new RPC endpoints, compressrawtransaction and decompressrawtransaction. The first accepts a raw hex-encoded transaction and returns a compact hex-encoded transaction; also included in the output is a list of warnings to help ensure there are no unexpected uncompressed values. The second accepts a compact hex transaction and returns the uncompressed raw hex-encoded transaction.\n+\n+https://github.com/bitcoin/bitcoin/pull/29134\n+\n+=== Test Vectors ===\n+\n+==== Taproot ====\n+\n+===== Uncompressed =====\n+<code>020000000001017ad1d0cc314504ec06f1b5c786c50cf3cda30bd5be88cf08ead571b0ce7481fb0000000000fdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226201408ce65b3170d3fbc68e3b6980650514dc53565f915d14351f83050ff50c8609495b7aa96271c3c99cdac1a92b1b45e77a4a870251fc1673596793adf2494565e500000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec7f2db1ed00b0218ce65b3170d3fbc68e3b6980650514dc53565f915d14351f83050ff50c8609495b7aa96271c3c99cdac1a92b1b45e77a4a870251fc1673596793adf2494565e58efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+==== P2WPKH ====\n+\n+===== Uncompressed =====\n+<code>0200000000010144bcf05ab48b8789268a7ca07133241ad654c0739ac7165015b2d669eadb10ea0000000000fdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226202473044022043ab639a98dfbc704f16a35bf25b8b72acb4cb928fd772285f1fcf63725caa85022001c9ff354504e7024708bce61f30370c8db13da8170cef4e8e4c4cdad0f71bfe0121030072484c24705512bfb1f7f866d95f808d81d343e552bc418113e1b9a1da0eb400000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec712db1ec72932643ab639a98dfbc704f16a35bf25b8b72acb4cb928fd772285f1fcf63725caa8501c9ff354504e7024708bce61f30370c8db13da8170cef4e8e4c4cdad0f71bfe8efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+==== P2SH-P2WPKH ====\n+\n+===== Uncompressed =====\n+<code>0200000000010192fb2e4332b43dc9a73febba67f3b7d97ba890673cb08efde2911330f77bbdfc00000000171600147a1979232206857167b401fdac1ffbf33f8204fffdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226202473044022041eb682e63c25b85a5a400b11d41cf4b9c25f309090a5f3e0b69dc15426da90402205644ddc3d5179bab49cce4bf69ebfaeab1afa34331c1a0a70be2927d2836b0e8012103c483f1b1bd24dd23b3255a68d87ef9281f9d080fd707032ccb81c1cc56c5b00200000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec7c3db1ec7d981641eb682e63c25b85a5a400b11d41cf4b9c25f309090a5f3e0b69dc15426da9045644ddc3d5179bab49cce4bf69ebfaeab1afa34331c1a0a70be2927d2836b0e87a1979232206857167b401fdac1ffbf33f8204ff8efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+==== P2PKH ====\n+\n+===== Uncompressed =====\n+<code>02000000015f5be26862482fe2fcc900f06ef26ee256fb205bc4773e5a402d0c1b88b82043000000006a473044022031a20f5d9212023b510599c9d53d082f8e07faaa2d51482e078f8e398cb50d770220635abd99220ad713a081c4f20b83cb3f491ed8bd032cb151a3521ed144164d9c0121027977f1b6357cead2df0a0a19570088a1eb9115468b2dfa01439493807d8f1294fdffffff0188130000000000001600142da377ed4978fefa043a58489912f8e28e16226200000000</code>\n+\n+===== Compressed =====\n+<code>16b1ec7c2db1ec7d981431a20f5d9212023b510599c9d53d082f8e07faaa2d51482e078f8e398cb50d77635abd99220ad713a081c4f20b83cb3f491ed8bd032cb151a3521ed144164d9c8efefefe7d2da377ed4978fefa043a58489912f8e28e162262a608</code>\n+\n+== Acknowledgements ==\n+Thank you to Andrew Poelstra who helped invent and develop the ideas in the proposal and the code in the reference implementation!",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": null,
      "original_position": 268,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "517ba8414c06633d7bc2436aa874093287954f3f",
      "in_reply_to_id": 1530567388,
      "user": {
        "login": "TomBriar",
        "id": 90657314,
        "node_id": "MDQ6VXNlcjkwNjU3MzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/90657314?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TomBriar",
        "html_url": "https://github.com/TomBriar",
        "followers_url": "https://api.github.com/users/TomBriar/followers",
        "following_url": "https://api.github.com/users/TomBriar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TomBriar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TomBriar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TomBriar/subscriptions",
        "organizations_url": "https://api.github.com/users/TomBriar/orgs",
        "repos_url": "https://api.github.com/users/TomBriar/repos",
        "events_url": "https://api.github.com/users/TomBriar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TomBriar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, Thanks!",
      "created_at": "2024-04-01T19:50:40Z",
      "updated_at": "2024-04-01T19:50:40Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1546780620",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1546780620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 268,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1583079012",
      "pull_request_review_id": 2028496221,
      "id": 1583079012,
      "node_id": "PRRC_kwDOAN28mc5eW95k",
      "diff_hunk": "@@ -0,0 +1,293 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": 7,
      "original_position": 7,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this is mixing up the \"Comments-URI\" and the \"Post-History\" headers.\r\n```suggestion\r\n  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-tombriar-compressed-transactions\r\n```",
      "created_at": "2024-04-29T13:19:46Z",
      "updated_at": "2024-04-29T13:23:55Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1583079012",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1583079012"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": 6,
      "original_start_line": 6,
      "start_side": "RIGHT",
      "line": 7,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1583080207",
      "pull_request_review_id": 2028496221,
      "id": 1583080207,
      "node_id": "PRRC_kwDOAN28mc5eW-MP",
      "diff_hunk": "@@ -0,0 +1,293 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": 11,
      "original_position": 11,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n  License: BSD-3-Clause\r\n  Post-History: https://github.com/bitcoin/bitcoin/pull/29134\r\n                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\r\n```",
      "created_at": "2024-04-29T13:20:34Z",
      "updated_at": "2024-04-29T13:23:55Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1583080207",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1583080207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 11,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1583080520",
      "pull_request_review_id": 2028496221,
      "id": 1583080520,
      "node_id": "PRRC_kwDOAN28mc5eW-RI",
      "diff_hunk": "@@ -0,0 +1,293 @@\n+<pre>\n+  BIP: ?\n+  Layer: API/RPC\n+  Title: Compressed Transactions RPC\n+  Author: Tom Briar <tombriar11@protonmail.com>\n+  Comments-URI: https://github.com/bitcoin/bitcoin/pull/29134\n+                https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-August/021924.html\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-02-01\n+  License: BSD-3-Clause\n+</pre>\n+\n+== Introduction ==\n+\n+=== Abstract ===\n+This document proposes a serialization scheme for compressing Bitcoin transactions. The compressed Bitcoin transactions can reach a serialized size of less than 50% of the original serialized transaction. One method for compressing involves reducing the transaction outpoints in a potentially lossy way. Therefore, it is an optional path for compression. Compressing the outpoints is necessary for compressed transactions to reach less than 70% of the original size.\n+\n+=== Motivation ===\n+Typical Bitcoin transactions usually contain a large amount of white space and padding due to specific fields that are often one of a minimal number of possibilities. We can use this fact and a few similar methods to create an encoding for 90% of Bitcoin transactions that are roughly 25-50% smaller.\n+\n+=== Rational ===",
      "path": "bip-tombriar-compressed-transactions.mediawiki",
      "position": 22,
      "original_position": 22,
      "commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "original_commit_id": "b6be5615a6ad668973159804d2975597bfd265f0",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n=== Rationale ===\r\n```",
      "created_at": "2024-04-29T13:20:49Z",
      "updated_at": "2024-04-29T13:23:55Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1556#discussion_r1583080520",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1583080520"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1556"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    }
  ]
}