{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bips/pulls/1687",
    "id": 2130099671,
    "node_id": "PR_kwDOAN28mc5-9r3X",
    "html_url": "https://github.com/bitcoin/bips/pull/1687",
    "diff_url": "https://github.com/bitcoin/bips/pull/1687.diff",
    "patch_url": "https://github.com/bitcoin/bips/pull/1687.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1687",
    "commits_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bips/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bips/issues/1687/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
    "number": 1687,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "BIP375: Sending Silent Payments in PSBTs",
    "user": {
      "login": "andrewtoth",
      "id": 237213,
      "node_id": "MDQ6VXNlcjIzNzIxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrewtoth",
      "html_url": "https://github.com/andrewtoth",
      "followers_url": "https://api.github.com/users/andrewtoth/followers",
      "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
      "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
      "repos_url": "https://api.github.com/users/andrewtoth/repos",
      "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This BIP adds support for sending silent payments using PSBTs.\r\n\r\nIf there are multiple entities handling the PSBT that do not have access to some input private keys, a DLEQ proof by the signer may be added for other entities to verify the corresponding ECDH shares used to derive the output scripts were generated correctly. This is specified in BIP374. For the common case of a single entity that has access to all private keys, the DLEQ proof generation is unnecessary.\r\n\r\nSpending support is trivial and can be done with a modification to BIP370 to add a new input field for the tweak data.",
    "labels": [
      {
        "id": 275845989,
        "node_id": "MDU6TGFiZWwyNzU4NDU5ODk=",
        "url": "https://api.github.com/repos/bitcoin/bips/labels/New%20BIP",
        "name": "New BIP",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2024-10-17T12:39:57Z",
    "updated_at": "2025-01-13T15:46:01Z",
    "mergeable": true,
    "mergeable_state": "clean",
    "merge_commit_sha": "216cda6e96261482f87da0030dc3a6590ccd86fd",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "andrewtoth:silent-payments-psbt",
      "ref": "silent-payments-psbt",
      "sha": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 224773098,
        "node_id": "MDEwOlJlcG9zaXRvcnkyMjQ3NzMwOTg=",
        "name": "bips",
        "full_name": "andrewtoth/bips",
        "owner": {
          "login": "andrewtoth",
          "id": 237213,
          "node_id": "MDQ6VXNlcjIzNzIxMw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andrewtoth",
          "html_url": "https://github.com/andrewtoth",
          "followers_url": "https://api.github.com/users/andrewtoth/followers",
          "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
          "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
          "repos_url": "https://api.github.com/users/andrewtoth/repos",
          "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/andrewtoth/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": true,
        "url": "https://api.github.com/repos/andrewtoth/bips",
        "archive_url": "https://api.github.com/repos/andrewtoth/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/andrewtoth/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/andrewtoth/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/andrewtoth/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/andrewtoth/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/andrewtoth/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/andrewtoth/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/andrewtoth/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/andrewtoth/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/andrewtoth/bips/contributors",
        "deployments_url": "https://api.github.com/repos/andrewtoth/bips/deployments",
        "downloads_url": "https://api.github.com/repos/andrewtoth/bips/downloads",
        "events_url": "https://api.github.com/repos/andrewtoth/bips/events",
        "forks_url": "https://api.github.com/repos/andrewtoth/bips/forks",
        "git_commits_url": "https://api.github.com/repos/andrewtoth/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/andrewtoth/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/andrewtoth/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/andrewtoth/bips.git",
        "issue_comment_url": "https://api.github.com/repos/andrewtoth/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/andrewtoth/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/andrewtoth/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/andrewtoth/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/andrewtoth/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/andrewtoth/bips/languages",
        "merges_url": "https://api.github.com/repos/andrewtoth/bips/merges",
        "milestones_url": "https://api.github.com/repos/andrewtoth/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/andrewtoth/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/andrewtoth/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/andrewtoth/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:andrewtoth/bips.git",
        "stargazers_url": "https://api.github.com/repos/andrewtoth/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/andrewtoth/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/andrewtoth/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/andrewtoth/bips/subscription",
        "tags_url": "https://api.github.com/repos/andrewtoth/bips/tags",
        "teams_url": "https://api.github.com/repos/andrewtoth/bips/teams",
        "trees_url": "https://api.github.com/repos/andrewtoth/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/andrewtoth/bips.git",
        "hooks_url": "https://api.github.com/repos/andrewtoth/bips/hooks",
        "svn_url": "https://github.com/andrewtoth/bips",
        "homepage": "bitcoin.org",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 15860,
        "default_branch": "bip-schnorr",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-01-13T15:45:59Z",
        "created_at": "2019-11-29T03:52:22Z",
        "updated_at": "2024-12-24T05:49:42Z",
        "allow_forking": true
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "6a6ef3585f4a81390c8d2211b0b5ab8ddd794214",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 14531737,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDUzMTczNw==",
        "name": "bips",
        "full_name": "bitcoin/bips",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bips",
        "archive_url": "https://api.github.com/repos/bitcoin/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bips/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bips/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bips/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bips/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bips/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bips.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bips/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bips/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bips.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bips/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bips/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bips/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bips.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bips/hooks",
        "svn_url": "https://github.com/bitcoin/bips",
        "homepage": "",
        "language": "Wikitext",
        "forks_count": 5452,
        "stargazers_count": 9619,
        "watchers_count": 9619,
        "size": 15808,
        "default_branch": "master",
        "open_issues_count": 38,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": false,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-01-07T14:52:20Z",
        "created_at": "2013-11-19T17:18:41Z",
        "updated_at": "2025-01-13T12:11:31Z",
        "allow_forking": true
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 336,
    "deletions": 2,
    "changed_files": 3,
    "commits": 12,
    "review_comments": 57,
    "comments": 2
  },
  "events": [
    {
      "event": "unsubscribed",
      "id": 14699383550,
      "node_id": "UE_lADOAN28mc6apsiAzwAAAANsJsr-",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/14699383550",
      "actor": {
        "login": "Karthik0521",
        "id": 159101140,
        "node_id": "U_kgDOCXuw1A",
        "avatar_url": "https://avatars.githubusercontent.com/u/159101140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Karthik0521",
        "html_url": "https://github.com/Karthik0521",
        "followers_url": "https://api.github.com/users/Karthik0521/followers",
        "following_url": "https://api.github.com/users/Karthik0521/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Karthik0521/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Karthik0521/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Karthik0521/subscriptions",
        "organizations_url": "https://api.github.com/users/Karthik0521/orgs",
        "repos_url": "https://api.github.com/users/Karthik0521/repos",
        "events_url": "https://api.github.com/users/Karthik0521/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Karthik0521/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-17T13:23:24Z"
    },
    {
      "event": "subscribed",
      "id": 14699385213,
      "node_id": "SE_lADOAN28mc6apsiAzwAAAANsJtF9",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/14699385213",
      "actor": {
        "login": "Karthik0521",
        "id": 159101140,
        "node_id": "U_kgDOCXuw1A",
        "avatar_url": "https://avatars.githubusercontent.com/u/159101140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Karthik0521",
        "html_url": "https://github.com/Karthik0521",
        "followers_url": "https://api.github.com/users/Karthik0521/followers",
        "following_url": "https://api.github.com/users/Karthik0521/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Karthik0521/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Karthik0521/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Karthik0521/subscriptions",
        "organizations_url": "https://api.github.com/users/Karthik0521/orgs",
        "repos_url": "https://api.github.com/users/Karthik0521/repos",
        "events_url": "https://api.github.com/users/Karthik0521/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Karthik0521/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-17T13:23:30Z"
    },
    {
      "event": "labeled",
      "id": 14699724610,
      "node_id": "LE_lADOAN28mc6apsiAzwAAAANsK_9C",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/14699724610",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-17T13:44:07Z",
      "label": {
        "name": "New BIP",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 2423182905,
      "node_id": "IC_kwDOAN28mc6QbtY5",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/2423182905",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-18T20:26:23Z",
      "updated_at": "2024-10-18T20:26:23Z",
      "author_association": "MEMBER",
      "body": "Mailing list post on Oct 17 at https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#issuecomment-2423182905",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1687"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14735699089,
      "node_id": "HRFPE_lADOAN28mc6apsiAzwAAAANuUOyR",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/14735699089",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "81187dc0a172e7cfb1cbb2695b59084ddd467831",
      "commit_url": "https://api.github.com/repos/andrewtoth/bips/commits/81187dc0a172e7cfb1cbb2695b59084ddd467831",
      "created_at": "2024-10-19T15:06:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14736066646,
      "node_id": "HRFPE_lADOAN28mc6apsiAzwAAAANuVohW",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/14736066646",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ed4530f3ecbad9ffa06cbb6a9e917f0547debbef",
      "commit_url": "https://api.github.com/repos/andrewtoth/bips/commits/ed4530f3ecbad9ffa06cbb6a9e917f0547debbef",
      "created_at": "2024-10-19T15:28:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14764819328,
      "node_id": "HRFPE_lADOAN28mc6apsiAzwAAAANwDUOA",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/14764819328",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "commit_url": "https://api.github.com/repos/andrewtoth/bips/commits/e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "created_at": "2024-10-21T13:23:51Z"
    },
    {
      "event": "reviewed",
      "id": 2393818183,
      "node_id": "PRR_kwDOAN28mc6OrsRH",
      "url": null,
      "actor": null,
      "commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2393818183",
      "submitted_at": "2024-10-24T22:25:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "reviewed",
      "id": 2399834343,
      "node_id": "PRR_kwDOAN28mc6PCpDn",
      "url": null,
      "actor": null,
      "commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2399834343",
      "submitted_at": "2024-10-28T18:07:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "reviewed",
      "id": 2430540807,
      "node_id": "PRR_kwDOAN28mc6Q3xwH",
      "url": null,
      "actor": null,
      "commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I did a light review and left a few questions mostly. Your idea makes sense, the content is coming along nicely, and I have found no issues regarding the formatting.\r\n\r\nPerhaps some of the answers to my questions could be recorded as footnotes in the Rationale, where they seem likely to be of interest to future readers.",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2430540807",
      "submitted_at": "2024-11-12T20:43:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "reviewed",
      "id": 2439395304,
      "node_id": "PRR_kwDOAN28mc6RZjfo",
      "url": null,
      "actor": null,
      "commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "As specified, computing the sum of ECDH_SHARE values requires some additional validation to ensure the computed script outputs are spendable.\r\n\r\nThis makes some intermediate states of a PSBT that are currently allowed either unsafe (potentially creating unspendable outputs) or with validation introduces potential for failure, because a signer is technically allowed to add ECDH shares for two non-disjoint input sets with a non-empty symmetric difference.\r\n\r\nInstead of introducing this additional validation I think it would be simpler to specify one ECDH share per input, as a per input field, this is actually more compact without DLEQ proofs, as Murch notes, better for privacy, and IMO seems easier to implement, but at the very least I think this needs clarification on how to compute the sum safely.",
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2439395304",
      "submitted_at": "2024-11-15T20:58:26Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "labeled",
      "id": 15318010278,
      "node_id": "LE_lADOAN28mc6apsiAzwAAAAORBkmm",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15318010278",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-15T21:45:25Z",
      "label": {
        "name": "PR Author action required",
        "color": "e99695"
      }
    },
    {
      "event": "unlabeled",
      "id": 15767786990,
      "node_id": "UNLE_lADOAN28mc6apsiAzwAAAAOr1VXu",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15767786990",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-26T20:03:35Z",
      "label": {
        "name": "PR Author action required",
        "color": "e99695"
      }
    },
    {
      "event": "reviewed",
      "id": 2524762294,
      "node_id": "PRR_kwDOAN28mc6WfNC2",
      "url": null,
      "actor": null,
      "commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2524762294",
      "submitted_at": "2024-12-28T16:18:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "reviewed",
      "id": 2524956343,
      "node_id": "PRR_kwDOAN28mc6Wf8a3",
      "url": null,
      "actor": null,
      "commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "One question about calculating the output keys, other than that this looks good. ",
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2524956343",
      "submitted_at": "2024-12-29T14:30:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "commented",
      "id": 2566703854,
      "node_id": "IC_kwDOAN28mc6Y_Mru",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/2566703854",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:29Z",
      "updated_at": "2024-12-31T20:45:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "@murchandamus @jonatack @nothingmuch @guggero @theStack thank you all for your reviews.\r\n\r\n- Updated the spec to have either per-input or global ECDH shares and DLEQ proofs, instead of using subsets.\r\n- Specified using BIP374 to compute and verify DLEQ proofs.\r\n- Suggest adding BIP32 derivation paths for pubkey hashed inputs, so the public key is available before the witness or scriptSig is added.\r\n- Updated output key due to conflict with #1540.\r\n- Added silent payment label output type for computing change.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#issuecomment-2566703854",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1687"
    },
    {
      "event": "mentioned",
      "id": 15791908589,
      "node_id": "MEE_lADOAN28mc6apsiAzwAAAAOtRWbt",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908589",
      "actor": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:30Z"
    },
    {
      "event": "subscribed",
      "id": 15791908593,
      "node_id": "SE_lADOAN28mc6apsiAzwAAAAOtRWbx",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908593",
      "actor": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:30Z"
    },
    {
      "event": "mentioned",
      "id": 15791908597,
      "node_id": "MEE_lADOAN28mc6apsiAzwAAAAOtRWb1",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908597",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:30Z"
    },
    {
      "event": "subscribed",
      "id": 15791908601,
      "node_id": "SE_lADOAN28mc6apsiAzwAAAAOtRWb5",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908601",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:30Z"
    },
    {
      "event": "mentioned",
      "id": 15791908605,
      "node_id": "MEE_lADOAN28mc6apsiAzwAAAAOtRWb9",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908605",
      "actor": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:31Z"
    },
    {
      "event": "subscribed",
      "id": 15791908608,
      "node_id": "SE_lADOAN28mc6apsiAzwAAAAOtRWcA",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908608",
      "actor": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:31Z"
    },
    {
      "event": "mentioned",
      "id": 15791908612,
      "node_id": "MEE_lADOAN28mc6apsiAzwAAAAOtRWcE",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908612",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:31Z"
    },
    {
      "event": "subscribed",
      "id": 15791908617,
      "node_id": "SE_lADOAN28mc6apsiAzwAAAAOtRWcJ",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908617",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:31Z"
    },
    {
      "event": "mentioned",
      "id": 15791908618,
      "node_id": "MEE_lADOAN28mc6apsiAzwAAAAOtRWcK",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908618",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:31Z"
    },
    {
      "event": "subscribed",
      "id": 15791908619,
      "node_id": "SE_lADOAN28mc6apsiAzwAAAAOtRWcL",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15791908619",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-31T20:45:31Z"
    },
    {
      "event": "reviewed",
      "id": 2536456566,
      "node_id": "PRR_kwDOAN28mc6XL0F2",
      "url": null,
      "actor": null,
      "commit_id": "3bfecc3d5d37b1dc77bbd6a139d61adeb1da1664",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 3bfecc3d5d37b1dc77bbd6a139d61adeb1da1664.",
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2536456566",
      "submitted_at": "2025-01-08T08:36:49Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "reviewed",
      "id": 2537843945,
      "node_id": "PRR_kwDOAN28mc6XRGzp",
      "url": null,
      "actor": null,
      "commit_id": "3bfecc3d5d37b1dc77bbd6a139d61adeb1da1664",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2537843945",
      "submitted_at": "2025-01-08T18:05:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "reviewed",
      "id": 2537846101,
      "node_id": "PRR_kwDOAN28mc6XRHVV",
      "url": null,
      "actor": null,
      "commit_id": "3bfecc3d5d37b1dc77bbd6a139d61adeb1da1664",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Assigned 375.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1687#pullrequestreview-2537846101",
      "submitted_at": "2025-01-08T18:07:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
    },
    {
      "event": "renamed",
      "id": 15857862691,
      "node_id": "RTE_lADOAN28mc6apsiAzwAAAAOxM8gj",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15857862691",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-08T18:08:00Z",
      "rename": {
        "from": "Bip Draft: Sending Silent Payments in PSBTs",
        "to": "BIP375: Sending Silent Payments in PSBTs"
      }
    },
    {
      "event": "comment_deleted",
      "id": 15860676358,
      "node_id": "CDE_lADOAN28mc6apsiAzwAAAAOxXrcG",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15860676358",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-08T22:26:11Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGQwMmVlZDQzMzdmYzA0ODJkYmI5YTI0ODEzOTIyZGM1MmJmYjA0YzQ",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/d02eed4337fc0482dbb9a24813922dc52bfb04c4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/d02eed4337fc0482dbb9a24813922dc52bfb04c4",
      "tree": {
        "sha": "ec0edf47940d5ee0bd27167541691ffb80ccdcd0",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/ec0edf47940d5ee0bd27167541691ffb80ccdcd0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ec0edf47940d5ee0bd27167541691ffb80ccdcd0\nparent 6a6ef3585f4a81390c8d2211b0b5ab8ddd794214\nauthor Andrew Toth <andrewstoth@gmail.com> 1729351719 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782161 -0500\n\nBip Draft: Sending Silent Payments in PSBTs\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVEACgkQYAB6/Ik4\nsBhUuQ//abp9xS/riU6IghwUCXuRxI4OcB460RBJ8eTm1U4TORYecz1kqh3AQyz8\n9zeYyDWaLpo/+boPb98hW1Ncxo/RTzQrVPrzDZYa1abpn7KwSm040bv+k9+A55Qp\nSzGTlrwS9HMPux6haXrjDL90IinL7tc/9eoIaHV4EGDCvh4qw9tSwgVNUp+ElAMl\nEqqV2cgPL6FUN0ckP5J+SSDWLDM2luuhiuYulIxKqBxzPp8etO0IMEiqusRPhmkA\neEFQn6Od2pOP0AUqLOzMMR6HYGufb2ghfqAl2AwwT8ZT/ZIGiz9EKhFAymn1VpbH\n6ZFOPwwlvYWjlgL4M1nrBWTWPO0OAxLTlV8oJICsZspxslOZoZiDVMmOeH9SuycQ\nE0vFAV4U2A9CIte7e2k2ujArkGmYd0NJIC1Xa96oy7rjdgZqOr1XrlAHtmV9YRv5\nd8TO6V/ZP4X5/RDWvFhHNngZjoMi1HqCxAqJuDSfZ3DIg6ajQBftrGYXx4S3mNBn\nHK0MvMMb1+eTpmw6xQ42BZ1WpmK8ixccrdME7kUkYZ2JrDHZx6awR7gdSuDTT5MN\nqt4cDFrQJ7PrUqNv3Dp40smlLjwQ8T2FG37QqZ+vlyVlFQuvBx4NYyhauCEOqie8\nq+bhvargvnG+z8iRoCU3W0mQcutCmNYCWdF9gFvpeGX49jY7zh0=\n=YItu\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/6a6ef3585f4a81390c8d2211b0b5ab8ddd794214",
          "sha": "6a6ef3585f4a81390c8d2211b0b5ab8ddd794214",
          "html_url": "https://github.com/bitcoin/bips/commit/6a6ef3585f4a81390c8d2211b0b5ab8ddd794214"
        }
      ],
      "message": "Bip Draft: Sending Silent Payments in PSBTs",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:21Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-10-19T15:28:39Z"
      },
      "sha": "d02eed4337fc0482dbb9a24813922dc52bfb04c4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGViMTE1YWZhN2ZhYmQwYTNiZTlmNjFjMzljMzE0OGNmMzhiNmM1ZjE",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/eb115afa7fabd0a3be9f61c39c3148cf38b6c5f1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/eb115afa7fabd0a3be9f61c39c3148cf38b6c5f1",
      "tree": {
        "sha": "19ef1b1d3d82b4bb4e0e4fdbf7b615366a50e09a",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/19ef1b1d3d82b4bb4e0e4fdbf7b615366a50e09a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 19ef1b1d3d82b4bb4e0e4fdbf7b615366a50e09a\nparent d02eed4337fc0482dbb9a24813922dc52bfb04c4\nauthor Andrew Toth <andrewstoth@gmail.com> 1733772167 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782161 -0500\n\nUpdate bip-PSBT-SP.mediawiki\n\nCo-authored-by: Yuval Kogman <nothingmuch@woobling.org>",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVEACgkQYAB6/Ik4\nsBh1FBAAhossjA52+PBPMRFKtvLnMPRE+q5jSu4/IPzwXurLnsU3pZSRTbv7Bhu8\n1SIbg348LTIY9xglNpLj5OjXVx+coGS1TgmU4A9EKzajaa1CDUB+iIUz9ZP6c82v\n6nvvy01u/Cn8wxQi1PWh0rOQVUHVT6oFsMdFhG144eCFA3hC+QFAgM8/HkSTUQLP\nTcYxuyzNNt8Bv2ljUXQJV2HJ8XkWmrtNbd+DPv5BVbhg3W9YTzIFR11WR2/EbkHo\n/5vAI6N4UGXToH5stjQe5myeDr4+f3cKu7bNnlqlUKYxdRGYg4qol5Yp3BiQPpTj\nIX4mpNfXVSez4oAQm304ll7dmkNH80VN3NOn0uqWv3xkEqTPRsdZ03RbBpZTC1kX\nfWjNiDBaJ+aBqojnMpu94gY66miaLv/xXF5sYQu062kwGq77Qzbvuzf+bO+OFfSl\nJ2YAXlekV7Pk+1or4dssFzAXCjWydRpqI1eKEZuZrLZFHTgj62jB2dsqLCdD6fzJ\nspBNeNhWnKfAmrRXjTRmqKSmg3GKu57wAhymktFbCJuHMINJMoOYrkic0rMbBkHx\nZJr9Tzo9rDKYsWveSFhO7AcmdIMXSiMcMDv9qeR9e+6VooTXxSa1aU+/86f7I89d\n5VNzM63tNq7Z7+AK8KSJeL7tcV7mHW5RUbVZJgkXXzIUu+dvScg=\n=14kF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/d02eed4337fc0482dbb9a24813922dc52bfb04c4",
          "sha": "d02eed4337fc0482dbb9a24813922dc52bfb04c4",
          "html_url": "https://github.com/bitcoin/bips/commit/d02eed4337fc0482dbb9a24813922dc52bfb04c4"
        }
      ],
      "message": "Update bip-PSBT-SP.mediawiki\n\nCo-authored-by: Yuval Kogman <nothingmuch@woobling.org>",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:21Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-09T19:22:47Z"
      },
      "sha": "eb115afa7fabd0a3be9f61c39c3148cf38b6c5f1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKDhlOTBmMDJkYzUwODVhNmZmMTgxM2ZjMGI0ODMwMDJkNTdhNDgyYmU",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/8e90f02dc5085a6ff1813fc0b483002d57a482be",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/8e90f02dc5085a6ff1813fc0b483002d57a482be",
      "tree": {
        "sha": "af9f96d36e468900055cbbe1458990c5db3ab214",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/af9f96d36e468900055cbbe1458990c5db3ab214"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree af9f96d36e468900055cbbe1458990c5db3ab214\nparent eb115afa7fabd0a3be9f61c39c3148cf38b6c5f1\nauthor Andrew Toth <andrewstoth@gmail.com> 1733876364 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782161 -0500\n\nUpdate size of ECDH share and unify spacing\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVEACgkQYAB6/Ik4\nsBhbsw/+PVzWWy1cEs5zkMIJtzvxU7WN8iMVjLyiFjNKh4tgFo7FM1Lkh7UQe16F\nS/nVwaMZaMAUf3JBiM5r1tKOGk0ZiN0gInZdw/djj690AkXfFQj7VYwpFvdTBjN2\n18IvRCbV02/mRht1Kso3WTPek9YNo0G+pSMXphuWkDVC8tnWSqLDsv05/rYCCPtP\n3Gc8yCICfJ+EGEf509ibN27Zj5X30SXUdgZhS15kCGlkTA2AS4m9ym09P5Tj4LLZ\nk+wRurgajtnp5Kum0Cwu85k8FJUCsLY2DDQHW8BPZEdPr8/UB/WZ9jEgXWIDPm0K\nmcvU3D7RvL6U3bJUA7BjV/jw5uLY9U3d+Tbun71dXg/VLPY4zGjOhUDeFsIhcdup\nyB6SDrvYscZq91VQMVyPt2BNUpekH5XkAuhVLVH1Js3e2yedX9ob0euD/GeHqDZL\nr4OQsF3tK6EXoK7EOKwKb27SN8y2D8J3Rz8go7aHXCOZ9tlyFMZz0TGDjgT6F6E8\nw3X4PFn3PbWNcF7hQskWeOjugklynlzBOPWkNg3jMhVm5CrzYzIuGGFEdDAUk+m4\nLrVvLWzxkIJ3yYCnLxSduLp6ZSCfWX7YejObg1cZS+y6XJ1nHGjln8dPlpookM4p\nCpOsG3rvw5t2L0b13i3feQeANqokI6wN90hDWvdL/g58UnmFfyg=\n=5HdF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/eb115afa7fabd0a3be9f61c39c3148cf38b6c5f1",
          "sha": "eb115afa7fabd0a3be9f61c39c3148cf38b6c5f1",
          "html_url": "https://github.com/bitcoin/bips/commit/eb115afa7fabd0a3be9f61c39c3148cf38b6c5f1"
        }
      ],
      "message": "Update size of ECDH share and unify spacing",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:21Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-11T00:19:24Z"
      },
      "sha": "8e90f02dc5085a6ff1813fc0b483002d57a482be"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGY3NDZhZTcwMGZlNWZhOTMwMzQxMWFmODUxYjliODY1OGEwNThhMGE",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/f746ae700fe5fa9303411af851b9b8658a058a0a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/f746ae700fe5fa9303411af851b9b8658a058a0a",
      "tree": {
        "sha": "06c4fc3d86063492ac5ee486eaa3c2a7da0e8dda",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/06c4fc3d86063492ac5ee486eaa3c2a7da0e8dda"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 06c4fc3d86063492ac5ee486eaa3c2a7da0e8dda\nparent 8e90f02dc5085a6ff1813fc0b483002d57a482be\nauthor Andrew Toth <andrewstoth@gmail.com> 1735003019 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782162 -0500\n\nAdd post history and BIP dependencies\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVIACgkQYAB6/Ik4\nsBh9rg/+Mc164ouFdwRhp8C9gIdBVdr/q0aw7aG0GCpmeBVFH4aX1TqojVI0AAvn\n7mcBWDZe1lwjeEPUtp1c25pwPrQD6nI3ju3fnz71WHkMwCE0PQh7LdGiwojrlLaf\n3HFn9CDzBYYZuRIXfX+dVFd7n0Wmpd4cpuOWf1ZpKAJvkcTOd0qYnFVX88fEbwvE\ni6JpLIfOn+6zDrRsumNBaxOPo96ydZ4ZiCqtHkSX054/sSYo8diUl4/YD6bnA5AK\n53dGa8r/paVobpGrBu+Sj/PfcHRAhzb9rn1FJICv0DJT5uGEo83zI1QKzEzNKh3q\n9mxOoJyJPsDpx9bQZzJSQGPT8ccW9Tjjs8Maf3AtaRVUcsd+lXF7Z+yBi+Ls14TH\nLnEyruJvXXwPufV8rAT2XRmcuzuVG1nPLGd67z/enotSPMFup0PvySJonOetTfBR\nPWVETNWoe1yNVFPUSxC1MfKjVPdj3OsVTs7O9ou/Axfzfg2O0WeTP+h8rYwyG31Z\nb8qpFzkz/Y8mRBADh4GmSvrmvpQlhMWu+b4Vd285GVSlYl7iFxOBfEEX/3UA5z13\nK8A3l0E5LHzDayozPgLUw9NPUqH1hggzq13VKNgMtGlefOTFgK+vwjx3vmhuB586\nsc3b0YMlO01UMPfGpItjfPxJKAhCD2gvD50Dm9rHGf3tg7z7DcU=\n=IHOE\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/8e90f02dc5085a6ff1813fc0b483002d57a482be",
          "sha": "8e90f02dc5085a6ff1813fc0b483002d57a482be",
          "html_url": "https://github.com/bitcoin/bips/commit/8e90f02dc5085a6ff1813fc0b483002d57a482be"
        }
      ],
      "message": "Add post history and BIP dependencies",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:22Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-24T01:16:59Z"
      },
      "sha": "f746ae700fe5fa9303411af851b9b8658a058a0a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKDBkNWUxNGNlMTkxY2FiY2UwMTMxMTg3MjkxYTJiMjlkZWJiZjVhZTE",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/0d5e14ce191cabce0131187291a2b29debbf5ae1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/0d5e14ce191cabce0131187291a2b29debbf5ae1",
      "tree": {
        "sha": "7745e15ed4095e219e2cd9baeb7ca6359d3158aa",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/7745e15ed4095e219e2cd9baeb7ca6359d3158aa"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7745e15ed4095e219e2cd9baeb7ca6359d3158aa\nparent f746ae700fe5fa9303411af851b9b8658a058a0a\nauthor Andrew Toth <andrewstoth@gmail.com> 1735003046 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782162 -0500\n\nClarify motivation\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVIACgkQYAB6/Ik4\nsBioJxAAmYs+1LoZNIYgwKuC5sGhq2BB6n5rqe53xdohriScXnuqbT+NcugyI6eH\nxTgndeCvhz+zTMANGqTZ2T7+ifJ5610ff+SFpd0JGHUKUWoqDFJaKBul7/lN/g1O\n6rTv6NCCzkUJeJKrAc1ubuLMkrlJgtjFc1jroHHXnU+OFkGJV5+bJxXcJPixHuvg\nKSfUHeZBiVGIRAstOrr5+9RfCYB636wHX/IcDuMDVqVDLzKpRD1J7haSErx5oJ3a\n+YzqY9cwoOC8k9FmEHYhoAYtnMY/+Ue0KhtzkrEAotQ5hKQ9S9pKSHEaAjy/oclJ\npGQpljyXg6A3GHrJRbpGehw4WbWbXtjEHmI1ZNmH2zzD991k52tSLg+N+SxhtI7S\nBpd4I747h7MBDX/dQwRZy97LHOIeOBAX4CwQiOnOUkkB9Lz7cv0ldpeyePct4zlM\nHHaRM/pURlvx20efG6vjChu2+u4KO7hIG8aF8WOFh596l0E2lHQBGbtAdb1bgE1C\ne4N33GWgSd3bA5v3miobA1r470MAZUbdpui0i0rS5l714hB9XhBTG2PupD4Vg+IS\nvt54X+Zstb7gQQKtGFsc9W97Evxx9/Tmp2ZlSvffGAnnvPvDjvRxmnEPNg+Dlf6e\nzOExZiy+K67HTw5fHhzapLzDelia0YiN+eutuf3kLaSs4SUTHo8=\n=FEhN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/f746ae700fe5fa9303411af851b9b8658a058a0a",
          "sha": "f746ae700fe5fa9303411af851b9b8658a058a0a",
          "html_url": "https://github.com/bitcoin/bips/commit/f746ae700fe5fa9303411af851b9b8658a058a0a"
        }
      ],
      "message": "Clarify motivation",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:22Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-24T01:17:26Z"
      },
      "sha": "0d5e14ce191cabce0131187291a2b29debbf5ae1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGMxMmVhNWFjNTg0YjVkZWUzZWQ4ZDI0NDZiMTdiMTA0MTI4OTdjNDU",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/c12ea5ac584b5dee3ed8d2446b17b10412897c45",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/c12ea5ac584b5dee3ed8d2446b17b10412897c45",
      "tree": {
        "sha": "890009a1c59e74daac8e9f5a31181a686d78a705",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/890009a1c59e74daac8e9f5a31181a686d78a705"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 890009a1c59e74daac8e9f5a31181a686d78a705\nparent 0d5e14ce191cabce0131187291a2b29debbf5ae1\nauthor Andrew Toth <andrewstoth@gmail.com> 1735003067 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782162 -0500\n\nMove updater to before signer\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVIACgkQYAB6/Ik4\nsBgYuw/+JCgYjaIle4NTB6G/xTIPyeqZfDT/xJN13jt84Lx6Md2eDrBRdUlIvpC1\nwONOZmRnd7W0ZpD4F8puYrbTrhnDYFqQDuNiuldqFVnCAAO7KzIQJkaCJNlaolGg\ncVMUc1feJVYXmOcprbi77tbuucJapQc9+afSJ58oBP0HdKU+wF3jwuDkvAYSEcKR\nC2l9+uCv34YkhwK/6ZMj3jucC27mOAaiL/YW4RwVdsv4Ip0LpC+mTzPKY45IhY+e\nlH8/5mLfPz3ZfGGc6mR+cXqrwQnZR9XnoVdprKpfQj8ntQ2AfzGertaHpQ+TR/b5\n8ptrz255SEyMxZgXo0A4o+3JPx+GHwlwVwYitQbIcRM5hCyr/CM6a5KU+E2ZvgoN\npVSRqRVrPwoBg1inEu58byYldXSdYZ/hBZZycTX4gyK8GrECuhkxwvQVEQ/Zkp0z\nOvgIISy9RJwG8bdZoBNrDotpUJ+fX4wTRvFzDkZbMe8rJZBkHyZCzx9LvBVOb8gq\n+RkluGeJfK0UndfNOD9GwT5LIYRFSsFb1Q7A1XSRwGMQtXr4o0YRh4PqEqdmnJP0\nAUBoh4m443zWbpaRE918syFDC+sOBD8D+bQgAphcsphomI6V9o7cnFn5mqAWGSeW\nY+4sb2G9X+xPUCKH1IrF+FX07qZHetYi0IrbPROagk4SCW7CIro=\n=fG/c\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/0d5e14ce191cabce0131187291a2b29debbf5ae1",
          "sha": "0d5e14ce191cabce0131187291a2b29debbf5ae1",
          "html_url": "https://github.com/bitcoin/bips/commit/0d5e14ce191cabce0131187291a2b29debbf5ae1"
        }
      ],
      "message": "Move updater to before signer",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:22Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-24T01:17:47Z"
      },
      "sha": "c12ea5ac584b5dee3ed8d2446b17b10412897c45"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGQyOWUyZjgxYWY3MmJhNjQzOGUxZDM1N2UyNjAxM2JlYWRkZjg2NzY",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/d29e2f81af72ba6438e1d357e26013beaddf8676",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/d29e2f81af72ba6438e1d357e26013beaddf8676",
      "tree": {
        "sha": "69cb80fb42f7fec94374675251d422f78eb77149",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/69cb80fb42f7fec94374675251d422f78eb77149"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 69cb80fb42f7fec94374675251d422f78eb77149\nparent c12ea5ac584b5dee3ed8d2446b17b10412897c45\nauthor Andrew Toth <andrewstoth@gmail.com> 1735003126 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782162 -0500\n\nClarify output script and sp info mutual exclusion and unique id\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVIACgkQYAB6/Ik4\nsBhBnBAAtiTDYVG9jeYf44lo81Sxwkh8uBlyvkTkQeJQSdGx+O11dDYaxTRBFtiM\nPnWzBpJkTEso1lVrVmK20WdY7tDcHuNX8hphORgT4qrqfTgPNObyHrLBRR5Vh+xj\n1ns3Ga5FFVzpqPsFtxjTKTjw2zEYuizII7yRZhfcUZYPniXmCwagAffw3cHRkXF4\nMb5wlk3/jNLqxV8inX++HctJ6VW9hWNhcA5ZSd8Za8nmsgqtARV6Aena3IRV6Ygt\nXUN/IbF/sA8ABP2WvqBHDS4iMcMO29/Hhe7X+H+COc4/ePMr/h0NHbAFFTFOMPWU\nZwYzorvEAMnPaLeA+RFykyIMmYsS3TZEzM/4lWgPcQgIKOBgvBcMDJEFeuuNqtOo\nIV4DarrZNDBeEhiONh0u4+jrXQW2KE865zjFuohbarcw0jbC6feqJ6Kg3bZTB6h4\nkJW89S5IZTxWj/yzRk0CP31au/u1QCc9VaMkXqoEoKEZfJEnHEF3rXjWXHM9dGSc\nfEwPehs/CN04T+U6O8nFBXYmQgj40NLndnHhrxNwHBwJLuQ8P/RxaiJ+r2VUY2UW\nV0zvIxRjtwV/Kjcf9PC8ixPkb7YpqxLaksyCwVpTB3aaYWRs20+Bduo7d22aUlwr\nMB1P8/SD5RACllsz5T3izBgPGucZYIaeJLg/70qr0WMuq2QBA/c=\n=+rIk\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/c12ea5ac584b5dee3ed8d2446b17b10412897c45",
          "sha": "c12ea5ac584b5dee3ed8d2446b17b10412897c45",
          "html_url": "https://github.com/bitcoin/bips/commit/c12ea5ac584b5dee3ed8d2446b17b10412897c45"
        }
      ],
      "message": "Clarify output script and sp info mutual exclusion and unique id",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:22Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-24T01:18:46Z"
      },
      "sha": "d29e2f81af72ba6438e1d357e26013beaddf8676"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKDk5NTI1OTlmMzIwMjFmNWE3Nzk4YjM4ZDU0MGRjMGQ3ZmQ0MWYwZGM",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/9952599f32021f5a7798b38d540dc0d7fd41f0dc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/9952599f32021f5a7798b38d540dc0d7fd41f0dc",
      "tree": {
        "sha": "c17d08f615ee65fd95ce720912fa022456186562",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/c17d08f615ee65fd95ce720912fa022456186562"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c17d08f615ee65fd95ce720912fa022456186562\nparent d29e2f81af72ba6438e1d357e26013beaddf8676\nauthor Andrew Toth <andrewstoth@gmail.com> 1735003141 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782162 -0500\n\nAdd newline\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVIACgkQYAB6/Ik4\nsBiDEhAAuqMiRjW1eLJaPTQx5ZkMzRco7gEUR2LOws7RIG75Fc3aFH70jEqvi6Cw\nIaquzx+sO1rP5TOO7FPJ4om0MisvRcobn5tVMtCx3oWYtpC1f4r2rSNMJf1abUnX\noJZCKzmR8gbGdAIuhbA2kIb3foV333pt2fqY7TtSSfcqNs6+t88o+iBj8tWU7NFu\nTGR1RTn8McGa43EK4vh2I8CLAiSXjE8ya6fFGPj8D+5rdp7Cl+laYC/Mm15QlzDq\ncHVrGW2iig0FumDRJBKWsinxiyX3Oqm7IA12atAol0HBqG3LDQjA+Nt/FJxaReRP\n+vcS3oOceqg1zuFMMW9xXOtYCRaE3Q8q6o0/uP1llfg2p0daJnxTfFad4PLkbmhp\njPiXXZo1FvxhW6rzfjlqNF+Jgj5yjryLNAk1h/CXdbL7n6HvigXUTyb3kz4+oncY\nDSztBDcebY+HJNEDEezs4aLbSRjPZuf6W5YF5gcBT0MCSafoRgpgfPDikORAefxG\n8P5gDG763EE71QlNlee4gln9nBFwkU0ZyMPsJAmtPiRZOPFMkv8K8L1bLjyJbP4z\nytB2F21FNlgdPF63TN5TfviXhSrWubh/O8IX6x/v/s/oACHhvH1dKLXsR0OQtuC+\n/T5z4IcmtksPth56wTLGIlg1eyaPdVEXqSONQrL0iuspnrLoX6A=\n=7dJq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/d29e2f81af72ba6438e1d357e26013beaddf8676",
          "sha": "d29e2f81af72ba6438e1d357e26013beaddf8676",
          "html_url": "https://github.com/bitcoin/bips/commit/d29e2f81af72ba6438e1d357e26013beaddf8676"
        }
      ],
      "message": "Add newline",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:22Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-24T01:19:01Z"
      },
      "sha": "9952599f32021f5a7798b38d540dc0d7fd41f0dc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKDY1MWZmZGRlZDhiZTdmMmZlOTBjN2U3MjAxNTZiYjRhYTc2MTg0MDI",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/651ffdded8be7f2fe90c7e720156bb4aa7618402",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/651ffdded8be7f2fe90c7e720156bb4aa7618402",
      "tree": {
        "sha": "66124fb8a73c2b42cae179478de3ea446dcb7046",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/66124fb8a73c2b42cae179478de3ea446dcb7046"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 66124fb8a73c2b42cae179478de3ea446dcb7046\nparent 9952599f32021f5a7798b38d540dc0d7fd41f0dc\nauthor Andrew Toth <andrewstoth@gmail.com> 1735003160 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782162 -0500\n\nAdd ref for why sighash_all is required\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVIACgkQYAB6/Ik4\nsBjJVg//cC7NBkMSB/iO1cB4i2ULZwkSS+tnav5J+yexjTa6EvnBQEq6YoAj528U\nIkOousAwLPnRhbZEmmzL6y++rbH7qDVHDlxclz1Zw2OsZbg0iPSB40pq6YKhY5rB\nBqBeSR9+elfztD8F7YWVhqqbjQc2+Oij6xNo8AsGgl0KIzhuDjIWWb52U1q+zmgu\nYhIQA6ZYosKWkoH1izqEQnSnHtEpy/CjI8oTKLcpcdRh+f8BRvj1//Zb8pJuNdZ9\nU42FBytqXIdrZ2AoYnX2GRf4xxUWlppj4VzSSf2eRxSK5rUuFL7aZvijh8TvTfxv\n14VivFnAlJVDS/NQ1z3873TvZylvpn13GRx34b+Z26FUrtByv0GoeROBbw6eybT/\nmSDedl5sYQVMSoGcHbB6NWe9wQqpW3scMkLcmJz6MRpeWIBLfXySAaOQvgiiiTVo\nLHX7rPHzXtKJX/y6JBrcueBwWSi7cNF+L+OUHA+gDkbNXXxDyvRrVAHiw0vA1qCv\nKWrgYZ845zVvEWkoEyDWB44/dwI8lSr/jyF/zol3d+xvtiWi0ufxQ70CVmtIToIJ\nMtwWWTpcXSX3ugv4qXt85t74N5L93J1M7n1zuxxBeLS5syEbk5KvDPJSVLBsgcvg\n0JOa5c1cxK2BdCrbb3rI2h9CXCC+iXxnBEdXA6OpYqX22VtWII4=\n=EmUi\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/9952599f32021f5a7798b38d540dc0d7fd41f0dc",
          "sha": "9952599f32021f5a7798b38d540dc0d7fd41f0dc",
          "html_url": "https://github.com/bitcoin/bips/commit/9952599f32021f5a7798b38d540dc0d7fd41f0dc"
        }
      ],
      "message": "Add ref for why sighash_all is required",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:22Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-24T01:19:20Z"
      },
      "sha": "651ffdded8be7f2fe90c7e720156bb4aa7618402"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKDRhN2E3Y2Y3NDY4Njc3MmQ2MjZhYzBjZDdiZGY0MTZjYTlkZjU5MGI",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/4a7a7cf74686772d626ac0cd7bdf416ca9df590b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/4a7a7cf74686772d626ac0cd7bdf416ca9df590b",
      "tree": {
        "sha": "9520657a336608bfd34ceea414c4d9cee63c11bd",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/9520657a336608bfd34ceea414c4d9cee63c11bd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9520657a336608bfd34ceea414c4d9cee63c11bd\nparent 651ffdded8be7f2fe90c7e720156bb4aa7618402\nauthor Andrew Toth <andrewstoth@gmail.com> 1735677671 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782162 -0500\n\nSplit up shares and proofs into global or per input fields\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMVIACgkQYAB6/Ik4\nsBhRdA/9GCPxnKmhlf1yJyXu3ZGp8uXUMqGX5NUWuLeSrmHkEDy6k9Og6VeaNsha\nF94Ju8c/yBDa0p9q2YKTJ229RbqRTqeAVhrMl1z7jas+D1rBQvHDQhwN0g5UHg5q\nJpMuabTDNJv3xJKVUyzzbqBziWM03Mmy3aSzWFoDKz3ow3LVZaRBrtmWWXrauSqi\nA77SYP6NsfM6SxMVZ0BfsRTY7t/t7iJeXxUX6cyuLwf0CmbrBb6K3sojpI50gqgr\nWxJobrwNQ55EoN/aVJTN3WXaybpaKr3z8L2IFwiCqGKnVhuhFQN2EW3F1GfEiDui\nW/WJ/3FVSDgACa9G32FaAv/4yJhwVa1C5rKNCKrsAGTKJ56bv/4YnOA3H7NhyNX7\nybR0Td6wiERZsfTh3kBIntW31AhI1I+q+gR4VVD7jV05dXotPnpT6E/m0vy1183h\nIKd+mgUNFNtSxThbuxK3nFrpHlJm9zQuSYisOo+DmxpAuKegZahjaiSCsyfwhZKL\nFVJeZSMknGeZEx1fNorif2LZ6SzODOQoHdSYeF1mYeRbCmVm8nQW1SjbOnToiCnT\nqho3VP3Qac63odGr/ivZuWw7bel+uXXlFlV6XjCasZ8urJqh6Btzzm+0OPlILbDP\nSO4090dxHTsUGsVyAt0SnkFprRld6F0yUxrKR4FXuV5GeeKlV64=\n=KiYk\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/651ffdded8be7f2fe90c7e720156bb4aa7618402",
          "sha": "651ffdded8be7f2fe90c7e720156bb4aa7618402",
          "html_url": "https://github.com/bitcoin/bips/commit/651ffdded8be7f2fe90c7e720156bb4aa7618402"
        }
      ],
      "message": "Split up shares and proofs into global or per input fields",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:29:22Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2024-12-31T20:41:11Z"
      },
      "sha": "4a7a7cf74686772d626ac0cd7bdf416ca9df590b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKDE0NGM0YTNhMTU1ZTA4MWI4ZmQ3YWI2OTAwNjcwMWNkOTE3NzNiY2I",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/144c4a3a155e081b8fd7ab69006701cd91773bcb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/144c4a3a155e081b8fd7ab69006701cd91773bcb",
      "tree": {
        "sha": "95bd5f96455491dd52b00e1f28d45332cce78d40",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/95bd5f96455491dd52b00e1f28d45332cce78d40"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 95bd5f96455491dd52b00e1f28d45332cce78d40\nparent 4a7a7cf74686772d626ac0cd7bdf416ca9df590b\nauthor Andrew Toth <andrewstoth@gmail.com> 1736782432 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736782432 -0500\n\nUpdate to BIP375\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFMmAACgkQYAB6/Ik4\nsBgRRQ/8CJY5dqSH1+z8wtqwH97FCxXkkdvA9HJa7tvUwGFHjisnLnB6OLhmQGVp\nyQyEOrjwLoEpQls2BFX403yVlZO2MLeWbMFSH4KR9UHoEHYTHEpQlc9COD2QDRKr\nZq34vNsjThEi9ey9p4itCVftyXkyFROmC9nIwpgiA6dk+jLil+9zLKPUguPPpe8y\nF+16FO4lxbWVgkC0oUQcssRyZoquzIDHCC1OCwFMVa8bvUN/ZqV7pO55yuY1e5yg\n9kjknLtS/K/YYZOGS2MBgNCTbE4PntvZjPgiolIUICLvB6eKeAXYno+il6a3+wT+\n8BIKgF7ipEcl7tml3iJURgoBihmsX4T+O/zqNuDtHhVk7XL2CiNKRrC/owThGa8i\nDXrtAvJg6h5uMcVqKiDs1Z7+PX8YLyoKtk/fd+dxWHuXIRaL04IvTXmSOT9cTEwM\nuTkFheWEedLy5jEivdiwTMZtdlhxYo97HZvxNz1vkLEqjF8kmByMoRfHISrk8mpR\nitiG6Dpx8pAOnyWRthb06k5oBkTwNqNUkYUq3HqI3Fvtnwh2pClj2xNPirRA2OEm\nFfxt17doA/0CKmpMjBmcgqKSC8/DePPMOzzRWikMMnJ/8yM0Zvb4a9PD9q3Erq4B\nCNucTwb2i61qqndrXzFWC/vbDRshaJ13XzZTI63B1MMJ1x2kmIE=\n=pv4j\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/4a7a7cf74686772d626ac0cd7bdf416ca9df590b",
          "sha": "4a7a7cf74686772d626ac0cd7bdf416ca9df590b",
          "html_url": "https://github.com/bitcoin/bips/commit/4a7a7cf74686772d626ac0cd7bdf416ca9df590b"
        }
      ],
      "message": "Update to BIP375",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:33:52Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:33:52Z"
      },
      "sha": "144c4a3a155e081b8fd7ab69006701cd91773bcb"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15907398508,
      "node_id": "HRFPE_lADOAN28mc6apsiAzwAAAAO0J6Ns",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/15907398508",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "144c4a3a155e081b8fd7ab69006701cd91773bcb",
      "commit_url": "https://api.github.com/repos/andrewtoth/bips/commits/144c4a3a155e081b8fd7ab69006701cd91773bcb",
      "created_at": "2025-01-13T15:33:57Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGZmZTUzMTNhZmM5ZTNlN2M5ZjkzMGIwMjEzYjc5OGZlYWUwYjhlYmM",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "tree": {
        "sha": "1caa8cb88bbefaabe6f39478d4711002c5dcfc6b",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/1caa8cb88bbefaabe6f39478d4711002c5dcfc6b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1caa8cb88bbefaabe6f39478d4711002c5dcfc6b\nparent 144c4a3a155e081b8fd7ab69006701cd91773bcb\nauthor Andrew Toth <andrewstoth@gmail.com> 1736783157 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1736783157 -0500\n\nUpdate fields in bip174\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmeFNTUACgkQYAB6/Ik4\nsBju2RAAijODvRigCyUoB8cCKIHVCFlpm0tcKJOjDJrXDxA366DBM1plmqJsla+S\nZtEvCwUFsCTeNQ3eyUdkVNoegiR9WiT2dtQES7AJBe4/RyZdtM6crHIzdgukQFVt\nfv+joinwKFS5W+1ujEXP6bKbxr/1rN7Rz1zH46ARVGR8tACzNyk5WXWX4x8Ax6F/\nM1dM0u7Go+4o6/RZYJYGINsgVAUB66LJ/6nimtSZh1Xnn0wH13bqvbsyE066N2FB\nAbGlPGJb3immK/bfLEUnywJbByr2Fy6Xzvy6xdGDk0DffxKcf8n+q96X/PiadtUj\nQcKBnH8qzO+rw6sPrNtyEpUGXdIBwZ5+8NI0VL3O+OzOIn9vFn6eX671fHUElk9N\nXxi15n63SLrgu46BEUSKHwR61DsVznAX09e0yyWjEmD5gEw4DHstFkB3OrcvwsMH\nyRhp3wOWwwfikRXcOPDtE/T9v3c3RH1VBh12ifdxAsln8QeCRjRfagY3W/OikHYF\nY5yh9gztg7rS0BD7HSwEGzaBfCiQ4QfM/DMhzfSMrLIdAAUY+E9T5gF93rU/d+XV\nG/8ZuMMs+BfjYdZ9QIRMwtmyYN6SiFrC5IbVrQjiw4RNxIc95C7BVOcMvK/ZqoXz\nO/0+EIrRIP1rrm6BcJaihrqLrv27Mw+XDTsTrTt7FKVRHMTthZ8=\n=i36V\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/144c4a3a155e081b8fd7ab69006701cd91773bcb",
          "sha": "144c4a3a155e081b8fd7ab69006701cd91773bcb",
          "html_url": "https://github.com/bitcoin/bips/commit/144c4a3a155e081b8fd7ab69006701cd91773bcb"
        }
      ],
      "message": "Update fields in bip174",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:45:57Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-01-13T15:45:57Z"
      },
      "sha": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1815770840",
      "pull_request_review_id": 2393818183,
      "id": 1815770840,
      "node_id": "PRRC_kwDOAN28mc5sOnbY",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 63,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Suggest defining \"Discrete Log Equality Proofs (DLEQ)\" above this / on first use, and discuss overlap with #1689 (if any) or linkage to be made between the two.",
      "created_at": "2024-10-24T22:25:14Z",
      "updated_at": "2024-10-24T22:25:14Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1815770840",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1815770840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1819522208",
      "pull_request_review_id": 2399834343,
      "id": 1819522208,
      "node_id": "PRRC_kwDOAN28mc5sc7Sg",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "as already noted in the DLEQ gist, this should have a size of 33 bytes instead, as it represents a point on the curve (https://gist.github.com/andrewtoth/df97c3260cc8d12f09d3855ee61322ea?permalink_comment_id=5250407#gistcomment-5250407), and representing it as x-only very likely only increases complexity for the DLEQ proof.",
      "created_at": "2024-10-28T18:07:45Z",
      "updated_at": "2024-10-28T18:07:46Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1819522208",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1819522208"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 57,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838674868",
      "pull_request_review_id": 2430540807,
      "id": 1838674868,
      "node_id": "PRRC_kwDOAN28mc5tl_O0",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 21,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Consistency nit: \"BIP370\", but \"BIP352\"",
      "created_at": "2024-11-12T19:49:06Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838674868",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838674868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 20,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838690816",
      "pull_request_review_id": 2430540807,
      "id": 1838690816,
      "node_id": "PRRC_kwDOAN28mc5tmDIA",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 30,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "What creates the requirement to sign with `SIGHASH_ALL`? A quick check suggests that BIP352 only recommends it, but doesnt require it, and BIP370 doesnt seem to impose such a requirement. I might have missed something of course.",
      "created_at": "2024-11-12T19:55:24Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838690816",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838690816"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838693715",
      "pull_request_review_id": 2430540807,
      "id": 1838693715,
      "node_id": "PRRC_kwDOAN28mc5tmD1T",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 31,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If there is a single signer, why would others need to be able to verify? If there are multiple signers, wouldnt all signers need to collaborate by putting forth shares rather than \"computing silent payment outputs\"?",
      "created_at": "2024-11-12T19:56:49Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838693715",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838693715"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838700325",
      "pull_request_review_id": 2430540807,
      "id": 1838700325,
      "node_id": "PRRC_kwDOAN28mc5tmFcl",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 38,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Does it make sense to require the presence of either `PSBT_OUT_SCRIPT` or `PSBT_OUT_SP_V0_INFO`? What if there is another future extension of BIP370 that provides a third option?\r\n\r\nWould it perhaps be sufficient to declare an output that has both the fields `PSBT_OUT_SCRIPT` and `PSBT_OUT_SP_V0_INFO` to make the PSBT invalid (i.e. at most one of these two can be present)?\r\n\r\nPerhaps the interplay of these two fields could be elaborated.",
      "created_at": "2024-11-12T20:01:58Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838700325",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838700325"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838709641",
      "pull_request_review_id": 2430540807,
      "id": 1838709641,
      "node_id": "PRRC_kwDOAN28mc5tmHuJ",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 100,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I found this sentence confusing. Does this also hold if both `PSBT_OUT_SP_V0_INFO` and `PSBT_OUT_SCRIPT` are specified on an output?",
      "created_at": "2024-11-12T20:09:32Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838709641",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838709641"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838710334",
      "pull_request_review_id": 2430540807,
      "id": 1838710334,
      "node_id": "PRRC_kwDOAN28mc5tmH4-",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 109,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I only understood here that both of these fields can be set at the same time. Perhaps that could be explained above where `PSBT_OUT_SP_V0_INFO` is first introduced.",
      "created_at": "2024-11-12T20:10:13Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838710334",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838710334"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838719699",
      "pull_request_review_id": 2430540807,
      "id": 1838719699,
      "node_id": "PRRC_kwDOAN28mc5tmKLT",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 114,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This might be a bit out of scope for your PR, but I was just wondering:\r\nSilent Payment transactions disallow inputs spending native segwit outputs with version > 1, but should it perhaps also exclude native segwit outputs with version 1 that are not P2TR inputs? Most of version 1 is yet unencumbered, are Silent Payments robust in regard to Pay to Anchor?",
      "created_at": "2024-11-12T20:18:22Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838719699",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838719699"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 113,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838722213",
      "pull_request_review_id": 2430540807,
      "id": 1838722213,
      "node_id": "PRRC_kwDOAN28mc5tmKyl",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 133,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "As mentioned above, this seems to be stricter than BIP352 itself. Is this intentional?",
      "created_at": "2024-11-12T20:20:37Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838722213",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838722213"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838729742",
      "pull_request_review_id": 2430540807,
      "id": 1838729742,
      "node_id": "PRRC_kwDOAN28mc5tmMoO",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.\n+If a sighash type is not provided and there are silent payment outputs present, the signer must sign using SIGHASH_ALL.\n+\n+====Computing the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer may generate a proof for other entities to generate the output scripts and verify that the output scripts were generated correctly.\n+\n+Generate a global ECDH share for each scan key ''B<sub>scan</sub>'' and all eligible inputs the Signer has private keys for as follows:\n+\n+Using the notation from [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#specification BIP352]\n+\n+* Let ''A<sub>n</sub>'' be the sum of the public keys ''A'' of all eligible inputs\n+* Let ''a<sub>n</sub>'' be the sum of the private keys ''a'' of all eligible inputs\n+* Let ''C =  a<sub>n</sub>B<sub>scan</sub>''\n+\n+Use a key ''B<sub>scan</sub>'' followed by a list of the outpoints of all eligible inputs.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 148,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I was surprised that we provide a single share and a single DLEQ proof per participant rather than one per input. In case there are multiple participants, this leaks to all other participants which inputs were provided in bulk by one party. I was wondering if there might be better privacy properties if participants provide a separate share for each input, that way all subsequent participants do not know how previous inputs group if the PSBT is passed in a circle rather than shared with all participants after each step. Maybe Im overthinking this, though.",
      "created_at": "2024-11-12T20:27:11Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838729742",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838729742"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838737778",
      "pull_request_review_id": 2430540807,
      "id": 1838737778,
      "node_id": "PRRC_kwDOAN28mc5tmOly",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.\n+If a sighash type is not provided and there are silent payment outputs present, the signer must sign using SIGHASH_ALL.\n+\n+====Computing the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer may generate a proof for other entities to generate the output scripts and verify that the output scripts were generated correctly.\n+\n+Generate a global ECDH share for each scan key ''B<sub>scan</sub>'' and all eligible inputs the Signer has private keys for as follows:\n+\n+Using the notation from [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#specification BIP352]\n+\n+* Let ''A<sub>n</sub>'' be the sum of the public keys ''A'' of all eligible inputs\n+* Let ''a<sub>n</sub>'' be the sum of the private keys ''a'' of all eligible inputs\n+* Let ''C =  a<sub>n</sub>B<sub>scan</sub>''\n+\n+Use a key ''B<sub>scan</sub>'' followed by a list of the outpoints of all eligible inputs.\n+\n+Set the value for the key of PSBT_GLOBAL_SP_ECDH_SHARE to ''C''.\n+\n+Compute the DLEQ proof for ''C'' using ''a<sub>n</sub>'' and ''B<sub>scan</sub>''.\n+Set the value for the key of PSBT_GLOBAL_SP_DLEQ to the proof.\n+\n+====Verifying the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer should verify the ECDH shares for all eligible inputs it does not have the private key for using the proofs provided by other Signers.\n+\n+====Computing the Output Scripts====\n+\n+Compute the PSBT_OUT_SCRIPT using the procedure in [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#user-content-Creating_outputs BIP352] but substituting ''aB<sub>scan</sub>'' with the sum of all PSBT_GLOBAL_SP_ECDH_SHAREs for that scan key.\n+If there are multiple silent payment codes with the same scan key, sort the codes lexicographically in ascending order to determine the ordering of the ''k'' value.\n+If there are multiple silent payment codes with both the same scan and spend keys, sort the subgroup by output index in ascending order.\n+\n+====Change Detection====\n+\n+Updaters may add two PSBT_OUT_BIP32_DERIVATION key-value-pairs with the corresponding derivation path of both the scan and spend keys. The Signer can then use these fields to verify that the silent payment code is change.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 167,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Should the \"Updater\" role perhaps appear before the \"Signer\"? Adding change would probably happen at the same time participants add inputs, so surely before signing?\r\n\r\n",
      "created_at": "2024-11-12T20:34:43Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838737778",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838737778"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838743978",
      "pull_request_review_id": 2430540807,
      "id": 1838743978,
      "node_id": "PRRC_kwDOAN28mc5tmQGq",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 13,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n  License: BSD-2-Clause\r\n  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\r\n  Requires: 352, 370\r\n```",
      "created_at": "2024-11-12T20:40:38Z",
      "updated_at": "2024-11-12T20:43:27Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1838743978",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1838743978"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844322136",
      "pull_request_review_id": 2439395304,
      "id": 1844322136,
      "node_id": "PRRC_kwDOAN28mc5t7h9Y",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 30,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838690816,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I had the same question. The rationale in BIP 352 seems to imply that just forbidding ANYONECANPAY, i.e. that all signatures must fully commit to the input set, which seems sufficient even the PSBT setting?",
      "created_at": "2024-11-15T18:53:55Z",
      "updated_at": "2024-11-15T20:58:26Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1844322136",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844322136"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844333056",
      "pull_request_review_id": 2439395304,
      "id": 1844333056,
      "node_id": "PRRC_kwDOAN28mc5t7koA",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 125,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n* Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\r\n* Verify the DLEQ proofs for all inputs it does not have the private keys for.\r\n* If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\r\n```",
      "created_at": "2024-11-15T19:03:17Z",
      "updated_at": "2024-11-15T20:58:26Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1844333056",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844333056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 123,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844379984",
      "pull_request_review_id": 2439395304,
      "id": 1844379984,
      "node_id": "PRRC_kwDOAN28mc5t7wFQ",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 55,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This seems to imply any subset of the inputs can be specified, presumably for grouping by owner.\r\n\r\nThe main advantage over allowing only one outpoint per ECDH share seems to be a reduction in proving complexity for signers who choose to provide DLEQ proofs, since the 36 byte outpoint outweighs a `a * B_scan` if it were provided in a per input field with an output index or even B_scan as the keydata.\r\n\r\nSome disadvantages:\r\n\r\n1. Mostly theoretical privacy concern: the DLEQ proof is publicly verifiable, and so much stronger heuristic for common ownership than the traditional common input ownership heuristic. Other parties or observers of the PSBT might store or leak such values, which hurts Signers' deniability.\r\n2. If the outpoint lists are not disjoint, then the correct sum might not be computable even if all inputs are accounted for by some share. If every ECDH_SHARE corresponded to only a single outpoint, as long as each signer contributes a value for each input, in any order, the sum can always be computed. If users modify a PSBT over multiple devices with partly overlapping access to private keys, single input shares ensure all intermediate states can lead to a fully signed state, regardless of the order in which the user proceeded.",
      "created_at": "2024-11-15T19:47:35Z",
      "updated_at": "2024-11-15T20:58:26Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1844379984",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844379984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844390045",
      "pull_request_review_id": 2439395304,
      "id": 1844390045,
      "node_id": "PRRC_kwDOAN28mc5t7yid",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 68,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "For a given set of outpoints, there are multiple relevant `B_scan` generators all of which share share the same `a` witness in their respective proofs. This could be one batch proof per SP output set, instead of per individual B_scan. Although only a single 64 byte proof per input set is required, the prover and verifier complexity is the same as n proofs, where n is the number of SP outputs.",
      "created_at": "2024-11-15T19:57:51Z",
      "updated_at": "2024-11-15T20:58:26Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1844390045",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844390045"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 66,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844433999",
      "pull_request_review_id": 2439395304,
      "id": 1844433999,
      "node_id": "PRRC_kwDOAN28mc5t79RP",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 129,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "IIUC, if it were not for this, blinding the SP_V0_INFO field would be technically be possible.\r\n\r\nSince that would necessarily add another round of communication between the various entities, as only only updaters with access to the blinding keys could set the output.\r\n\r\nA global flag to indicate whether the additional round is required might make sense?\r\n\r\nThis flag might have 3 values, indicating if blinding is not used (allowing signers to update outputs), optional (precluding that), or required in which case all outputs must have SP_V0_INFO, with dummy values used for non-SP outputs. \"required\" or \"mandatory\" blinding is a bit misleading, it's providing deniability as to which outputs use SP, not requiring SP and blinding actually be used.",
      "created_at": "2024-11-15T20:34:42Z",
      "updated_at": "2024-11-15T20:58:26Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1844433999",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844433999"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 127,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844465220",
      "pull_request_review_id": 2439395304,
      "id": 1844465220,
      "node_id": "PRRC_kwDOAN28mc5t8E5E",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.\n+If a sighash type is not provided and there are silent payment outputs present, the signer must sign using SIGHASH_ALL.\n+\n+====Computing the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer may generate a proof for other entities to generate the output scripts and verify that the output scripts were generated correctly.\n+\n+Generate a global ECDH share for each scan key ''B<sub>scan</sub>'' and all eligible inputs the Signer has private keys for as follows:\n+\n+Using the notation from [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#specification BIP352]\n+\n+* Let ''A<sub>n</sub>'' be the sum of the public keys ''A'' of all eligible inputs\n+* Let ''a<sub>n</sub>'' be the sum of the private keys ''a'' of all eligible inputs\n+* Let ''C =  a<sub>n</sub>B<sub>scan</sub>''\n+\n+Use a key ''B<sub>scan</sub>'' followed by a list of the outpoints of all eligible inputs.\n+\n+Set the value for the key of PSBT_GLOBAL_SP_ECDH_SHARE to ''C''.\n+\n+Compute the DLEQ proof for ''C'' using ''a<sub>n</sub>'' and ''B<sub>scan</sub>''.\n+Set the value for the key of PSBT_GLOBAL_SP_DLEQ to the proof.\n+\n+====Verifying the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer should verify the ECDH shares for all eligible inputs it does not have the private key for using the proofs provided by other Signers.\n+\n+====Computing the Output Scripts====\n+\n+Compute the PSBT_OUT_SCRIPT using the procedure in [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#user-content-Creating_outputs BIP352] but substituting ''aB<sub>scan</sub>'' with the sum of all PSBT_GLOBAL_SP_ECDH_SHAREs for that scan key.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 161,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": null,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Assuming my suggestion to make shares be one per input is rejected, this needs to verify that the sets of outpoints in all ECDH_SHARE fields for a given scan key form a valid partition of the [BIP 352 input set](https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#inputs-for-shared-secret-derivation) (no duplicates, no missing outpoints) before computing the sum of the values, or this sum might differ from `b_scanA` where `A` is also is computed as in [BIP 352 scanning](https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#scanning).",
      "created_at": "2024-11-15T20:44:02Z",
      "updated_at": "2024-11-15T20:58:26Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1844465220",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1844465220"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 161,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845565863",
      "pull_request_review_id": 2441128988,
      "id": 1845565863,
      "node_id": "PRRC_kwDOAN28mc5uARmn",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 30,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838690816,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Signing with `SIGHASH_NONE` doesn't make sense because you will have to generate the ECDH shares for all payments, but they could then be removed or new ones added. So you will have to go back to the signer again. I suppose technically this could be allowed but I don't see a use for it, and it could be used by a griefer to force the party to keep going back to the signer. If you want to have a signer sign all non-eligible inputs with `SIGHASH_NONE`, give the signer the inputs before adding any silent payment outputs. It would then fall back to BIP 370.\r\nSigning with `SIGHASH_SINGLE` would allow another participant to add a payment to the same scan key, but a lower lexicographic order, invalidating the `k` value in the output script.\r\nSigning with `SIGHASH_ANYONECANPAY` is unsafe as per BIP 352.\r\n\r\nI suppose I could add this as a footnote.\r\nBut also, I don't think this sentence should be in the motivation section.",
      "created_at": "2024-11-17T19:20:09Z",
      "updated_at": "2024-11-17T19:26:30Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845565863",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845565863"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845587960",
      "pull_request_review_id": 2441149305,
      "id": 1845587960,
      "node_id": "PRRC_kwDOAN28mc5uAW_4",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 31,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838693715,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> If there is a single signer, why would others need to be able to verify?\r\n\r\nIn the case of a hardware wallet connected to a software wallet, the hardware wallet is the single signer but the software wallet must verify that the output is computed properly before broadcasting.\r\n\r\n> If there are multiple signers, wouldnt all signers need to collaborate by putting forth shares rather than \"computing silent payment outputs\"?\r\n\r\nYes, all signers need to collaborate and put forth shares, but they must also compute the output script before signing. This computed output script must be added to the PSBT before signing to be compatible with BIP 370 signing process. After it is added, the other signers can compute the output script to verify themselves before signing.",
      "created_at": "2024-11-17T19:32:54Z",
      "updated_at": "2024-11-17T19:32:54Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845587960",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845587960"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845602201",
      "pull_request_review_id": 2441168885,
      "id": 1845602201,
      "node_id": "PRRC_kwDOAN28mc5uAaeZ",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 38,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838700325,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think making these fields exclusive will work. The `PSBT_OUT_SCRIPT` must be added to sign the PSBT. The `PSBT_OUT_SP_V0_INFO` must be present to verify that the `PSBT_OUT_SCRIPT` is actually correct after it is added.\r\n\r\n> What if there is another future extension of BIP370 that provides a third option?\r\n\r\nThat would indeed soften this requirement. This BIP would have to be modified to support that extension, making it\r\n\r\n> If either `PSBT_OUT_SCRIPT` or `PSBT_OUT_NEW_EXTENSION` are not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\r\n\r\nI don't really have an idea on how this could be made more graceful for that scenario.\r\n\r\n> Perhaps the interplay of these two fields could be elaborated.\r\n\r\nI will add some more context in a footnote, thanks.",
      "created_at": "2024-11-17T19:40:15Z",
      "updated_at": "2024-11-17T19:40:16Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845602201",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845602201"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845603206",
      "pull_request_review_id": 2441170030,
      "id": 1845603206,
      "node_id": "PRRC_kwDOAN28mc5uAauG",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 100,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838709641,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "No, it does not hold once `PSBT_OUT_SCRIPT` is added to an output. Only outputs without that field would need to fall back to `PSBT_OUT_SP_V0_INFO`. I will clarify this in the text.",
      "created_at": "2024-11-17T19:42:14Z",
      "updated_at": "2024-11-17T19:42:14Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845603206",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845603206"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845604453",
      "pull_request_review_id": 2441171335,
      "id": 1845604453,
      "node_id": "PRRC_kwDOAN28mc5uAbBl",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 114,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838719699,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I believe BIP 352 specifies that only the script template `OP_1 <32 bytes>` is used, and not that it is segwit v1. So, P2A does not follow that template, and will be ignored. But, segwit versions higher than v1 specifically are prohibited for forward compatibility reasons.\r\n\r\nThis is what I understood from @josibake's explanation.",
      "created_at": "2024-11-17T19:49:42Z",
      "updated_at": "2024-11-17T19:49:42Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845604453",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845604453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 113,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845605920",
      "pull_request_review_id": 2441172677,
      "id": 1845605920,
      "node_id": "PRRC_kwDOAN28mc5uAbYg",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 133,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838722213,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is intentional. `SIGHASH_SINGLE` is unsafe for `k` values. `SIGHASH_NONE` does not make sense since you will have to compute ECDH shares for the outputs, but you presumably don't care about the outputs if you are signing with that flag.",
      "created_at": "2024-11-17T19:54:06Z",
      "updated_at": "2024-11-17T19:54:06Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845605920",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845605920"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845607851",
      "pull_request_review_id": 2441174695,
      "id": 1845607851,
      "node_id": "PRRC_kwDOAN28mc5uAb2r",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.\n+If a sighash type is not provided and there are silent payment outputs present, the signer must sign using SIGHASH_ALL.\n+\n+====Computing the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer may generate a proof for other entities to generate the output scripts and verify that the output scripts were generated correctly.\n+\n+Generate a global ECDH share for each scan key ''B<sub>scan</sub>'' and all eligible inputs the Signer has private keys for as follows:\n+\n+Using the notation from [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#specification BIP352]\n+\n+* Let ''A<sub>n</sub>'' be the sum of the public keys ''A'' of all eligible inputs\n+* Let ''a<sub>n</sub>'' be the sum of the private keys ''a'' of all eligible inputs\n+* Let ''C =  a<sub>n</sub>B<sub>scan</sub>''\n+\n+Use a key ''B<sub>scan</sub>'' followed by a list of the outpoints of all eligible inputs.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 148,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838729742,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is provided as a performance optimization so that there is only one proof for multiple inputs.\r\nIt is not required to combine all your inputs. You could selectively add different shares and proofs for each inputs you don't want to link. I suppose I could make that option more explicit in the text. ",
      "created_at": "2024-11-17T19:56:30Z",
      "updated_at": "2024-11-17T19:56:30Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845607851",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845607851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845636474",
      "pull_request_review_id": 2441212210,
      "id": 1845636474,
      "node_id": "PRRC_kwDOAN28mc5uAi16",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 55,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844379984,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> The main advantage over allowing only one outpoint per ECDH share seems to be a reduction in proving complexity for signers who choose to provide DLEQ proofs\r\n\r\nThe main advantage is reduction in both ECDH share generation and proving complexity.\r\nAll outpoint private keys can be summed, and then only a single ECC mult for the shares, and 2 ECC mults for the proof.\r\n\r\nConsider the common case of a single sig wallet using a hardware signing device receiving many small inputs over time. The wallet now contains 100 utxos and wants to spend to a single silent payment address.\r\nBy using single share and proof for each outpoint, that is 100 * ECDH share + 100 * DLEQ proof (2 ECC mults) + 100 * signatures = 400 ECC mults.\r\nBy summing all inputs, the result is now 1 * ECDH share + 1 * DLEQ proof (2 ECC mults) + 100 signatures = 103 ECC mults.\r\nOn a simple hardware signing device, this makes the signing time 4x, making it potentially a few minutes to over 10.\r\n\r\nre: disadvantages\r\n1. It is only an option to combine the inputs. You can still provide a share and proof per input or whatever combination of inputs you'd like. I will make this more clear in the text. I believe the single sig with hardware wallet is the most common case though, so we should optimize for that case.\r\n2. This is indeed a potential pitfall. It could also be addressed by providing a share and proof per input as a fallback. I will add some text to address this situation.",
      "created_at": "2024-11-17T20:25:25Z",
      "updated_at": "2024-11-17T20:25:25Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845636474",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845636474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845638467",
      "pull_request_review_id": 2441213924,
      "id": 1845638467,
      "node_id": "PRRC_kwDOAN28mc5uAjVD",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 68,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844390045,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, this is a great insight, thank you!\r\n\r\nWould it not also reduce the complexity, since it would only be one proof to verify after summing the `B_scan` generators instead of verifying each proof individually?",
      "created_at": "2024-11-17T20:36:35Z",
      "updated_at": "2024-11-17T20:36:35Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845638467",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845638467"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 66,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845698574",
      "pull_request_review_id": 2441273088,
      "id": 1845698574,
      "node_id": "PRRC_kwDOAN28mc5uAyAO",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 68,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844390045,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If you mean given $P = aG$, and scan keys $(B_i)_{i=1}^n$, it's possible to prove knowlege of $a$ in $Q = a (n^{-1} \\sum B_i)$ where $n^{-1} \\sum B_i$ is a public input, but I'm not sure this is sound / proving the same thing.\r\n\r\n[This reference (section 3.2.3.3)](https://dspacemainprd01.lib.uwaterloo.ca/server/api/core/bitstreams/780bbd3f-3e91-4cc2-8077-fe51d3257c5b/content) seems to suggest it isn't, see footnote 16 on page 73, there's additional delinearization terms which are similar to key cancellation mitigation (and afaict are amenable to Fiat-Shamir just the same). This is an improvement over my implied suggestion as batched multiplication be used, but it does not reduce it to a single multiplication. Admittedly I don't yet see how to actually attack soundness as a malicious prover, especially when the prover does not control the choice of the the B_scan keys.\r\n\r\nThe batch proof I'm familiar with involves having an R point per generator, so same structure as proposed in the DLEQ BIP, just generalized from 2 to n+1 verification equations. When the proof is encoded as the challenge and the response, the encoding the n+1 R points is implicit, so the size would still be 64 bytes and both prover and verifier work is concretely reduced (~half the verification equations, and a shared challenge hash), but not asymptotically as the total work is still linear for both prover and verifier.",
      "created_at": "2024-11-17T23:46:45Z",
      "updated_at": "2024-11-17T23:46:46Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1845698574",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1845698574"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 66,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1847314644",
      "pull_request_review_id": 2443792122,
      "id": 1847314644,
      "node_id": "PRRC_kwDOAN28mc5uG8jU",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 68,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844390045,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Using the mentioned protocol, \"RME-based common exponent Schnorr protocol\" (Henry14 3.2.3.3), the verifier performs 2+k ECC mults per proof, where k is the number of silent payment outputs, but the k mults can be shared for a batch of proofs, which large transactions can be a significant improvement in verifier complexity.\r\n\r\nCompared to this protocol the strawman protocol I described in the previous comment is broken in two ways, not just one:\r\n\r\n- two verification equations are needed, instead of only one (section 4.2 describes a lattice basis attack on soundness since the prover's responses are undetermined)\r\n- de-linearization (or in the multiplicative terms of Henry14, RME) is needed for soundness as well (see section 3.1.4.3)\r\n\r\nIn a non-interactive setting, the t_i terms of the random linear combination is generated by hashing.\r\n\r\nIf $t_i = H(B_1, B_2, \\dots, B_k)$ ($B_i$ is supposed to be `{B_{scan}}_i` but that apparently isn't in github's latex regex =P) the $k$ proofs would share the same delinearized sum $\\sum_{i=1}^k t_i B_i$, which appears as a term in the 2nd verification equation. This reduces $k^2$ ECC mults to $k$ (but asymptotically is the same because of other side of the equation still has a $\\sum_{i=1}^{k} t_i S_i$ term where $S_i = aB_i$ is a public input).\r\n\r\nUnfortunately the full set of SP_V0_INFO fields to be finalized before DLEQ proofs can be computed in that case, but if I understand Lemma 3.5 I think the $t_i$ values used for this can be derived as $t_i = H(B_i)$ without destroying the proof of soundness. If this is correct then this reduction in verifier computation could be applied to batch-verify whatever $k$ batch-DLEQs, but number of roundtrips is not reduced because new proofs would be needed for the new outputs, and verifiers would need to be given explicit subsets of the outputs for each batch proof indicating what it covers, instead of being able to construct the proof statements implicitly from the set of all SP_V0_INFO fields, so it's not clear that this is a meaningful improvement over hashing all of the $B_i$s to delinearize.",
      "created_at": "2024-11-18T21:42:14Z",
      "updated_at": "2024-11-18T21:45:18Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1847314644",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1847314644"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 66,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1876554375",
      "pull_request_review_id": 2489765546,
      "id": 1876554375,
      "node_id": "PRRC_kwDOAN28mc5v2fKH",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 55,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844379984,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "[Here's a blog post](https://blog.casa.io/bitcoin-multisig-hardware-signing-performance-2024/) of time it takes to sign transactions on various hardware devices. I think it makes sense to think about optimizing for this.",
      "created_at": "2024-12-09T19:22:24Z",
      "updated_at": "2024-12-09T19:22:25Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1876554375",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1876554375"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1876934043",
      "pull_request_review_id": 2490400738,
      "id": 1876934043,
      "node_id": "PRRC_kwDOAN28mc5v372b",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 129,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844433999,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think it's this requirement, but the one a few lines up:\r\n`* If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.`\r\n\r\nWe would need to only compute the output scripts for the non-blinded outputs.\r\nYes, if we want to hide which participants add an SP vs a regular taproot address entirely, we would need all outputs to have a dummy SP_V0_INFO and have everyone compute shares and proofs for them, even if they don't end up being used.",
      "created_at": "2024-12-09T23:50:16Z",
      "updated_at": "2024-12-09T23:50:16Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1876934043",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1876934043"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 127,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261107",
      "pull_request_review_id": 2521323226,
      "id": 1896261107,
      "node_id": "PRRC_kwDOAN28mc5xBqXz",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.\n+If a sighash type is not provided and there are silent payment outputs present, the signer must sign using SIGHASH_ALL.\n+\n+====Computing the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer may generate a proof for other entities to generate the output scripts and verify that the output scripts were generated correctly.\n+\n+Generate a global ECDH share for each scan key ''B<sub>scan</sub>'' and all eligible inputs the Signer has private keys for as follows:\n+\n+Using the notation from [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#specification BIP352]\n+\n+* Let ''A<sub>n</sub>'' be the sum of the public keys ''A'' of all eligible inputs\n+* Let ''a<sub>n</sub>'' be the sum of the private keys ''a'' of all eligible inputs\n+* Let ''C =  a<sub>n</sub>B<sub>scan</sub>''\n+\n+Use a key ''B<sub>scan</sub>'' followed by a list of the outpoints of all eligible inputs.\n+\n+Set the value for the key of PSBT_GLOBAL_SP_ECDH_SHARE to ''C''.\n+\n+Compute the DLEQ proof for ''C'' using ''a<sub>n</sub>'' and ''B<sub>scan</sub>''.\n+Set the value for the key of PSBT_GLOBAL_SP_DLEQ to the proof.\n+\n+====Verifying the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer should verify the ECDH shares for all eligible inputs it does not have the private key for using the proofs provided by other Signers.\n+\n+====Computing the Output Scripts====\n+\n+Compute the PSBT_OUT_SCRIPT using the procedure in [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#user-content-Creating_outputs BIP352] but substituting ''aB<sub>scan</sub>'' with the sum of all PSBT_GLOBAL_SP_ECDH_SHAREs for that scan key.\n+If there are multiple silent payment codes with the same scan key, sort the codes lexicographically in ascending order to determine the ordering of the ''k'' value.\n+If there are multiple silent payment codes with both the same scan and spend keys, sort the subgroup by output index in ascending order.\n+\n+====Change Detection====\n+\n+Updaters may add two PSBT_OUT_BIP32_DERIVATION key-value-pairs with the corresponding derivation path of both the scan and spend keys. The Signer can then use these fields to verify that the silent payment code is change.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 167,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838737778,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2024-12-24T01:20:24Z",
      "updated_at": "2024-12-24T01:20:24Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896261107",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261107"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261150",
      "pull_request_review_id": 2521323277,
      "id": 1896261150,
      "node_id": "PRRC_kwDOAN28mc5xBqYe",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 13,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838743978,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2024-12-24T01:20:29Z",
      "updated_at": "2024-12-24T01:20:29Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896261150",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261150"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261235",
      "pull_request_review_id": 2521323402,
      "id": 1896261235,
      "node_id": "PRRC_kwDOAN28mc5xBqZz",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 133,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838722213,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added a footnote to clarify this.",
      "created_at": "2024-12-24T01:20:44Z",
      "updated_at": "2024-12-24T01:20:44Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896261235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261452",
      "pull_request_review_id": 2521323687,
      "id": 1896261452,
      "node_id": "PRRC_kwDOAN28mc5xBqdM",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 38,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838700325,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Clarified this section and added a footnote.",
      "created_at": "2024-12-24T01:21:13Z",
      "updated_at": "2024-12-24T01:21:14Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896261452",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261452"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261697",
      "pull_request_review_id": 2521323934,
      "id": 1896261697,
      "node_id": "PRRC_kwDOAN28mc5xBqhB",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 109,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838710334,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added more context above.",
      "created_at": "2024-12-24T01:21:25Z",
      "updated_at": "2024-12-24T01:21:25Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896261697",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261933",
      "pull_request_review_id": 2521324258,
      "id": 1896261933,
      "node_id": "PRRC_kwDOAN28mc5xBqkt",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 100,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838709641,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I was incorrect. This *does* also hold if both are specified. I updated this section and added a footnote for the reasoning.",
      "created_at": "2024-12-24T01:21:56Z",
      "updated_at": "2024-12-24T01:21:56Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896261933",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896261933"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896262371",
      "pull_request_review_id": 2521324750,
      "id": 1896262371,
      "node_id": "PRRC_kwDOAN28mc5xBqrj",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 30,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838690816,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Removed the sentence, but also added a footnote in the Signer section to clarify why.",
      "created_at": "2024-12-24T01:22:50Z",
      "updated_at": "2024-12-24T01:22:50Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896262371",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896262371"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896262430",
      "pull_request_review_id": 2521324829,
      "id": 1896262430,
      "node_id": "PRRC_kwDOAN28mc5xBqse",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 21,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838674868,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2024-12-24T01:22:59Z",
      "updated_at": "2024-12-24T01:22:59Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896262430",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896262430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 20,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896262505",
      "pull_request_review_id": 2521324905,
      "id": 1896262505,
      "node_id": "PRRC_kwDOAN28mc5xBqtp",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1819522208,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2024-12-24T01:23:08Z",
      "updated_at": "2024-12-24T01:23:08Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896262505",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896262505"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 57,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896266653",
      "pull_request_review_id": 2521329391,
      "id": 1896266653,
      "node_id": "PRRC_kwDOAN28mc5xBrud",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 55,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844379984,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think the 2 main use cases will be for a wallet that has access to all inputs, or only one or a few that they would not like to link. So, perhaps having subsets of different inputs is not the best design for this spec.\r\n\r\nHow about optional fields per input or optional global fields? If the global fields are present, they represent the sum of all inputs. Otherwise, a field per input must be set. I think this is simpler than using the key to specify subsets.",
      "created_at": "2024-12-24T01:30:25Z",
      "updated_at": "2024-12-24T01:30:44Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896266653",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896266653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896267530",
      "pull_request_review_id": 2521330978,
      "id": 1896267530,
      "node_id": "PRRC_kwDOAN28mc5xBr8K",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>\n+| None\n+| No key data\n+| <tt><33 byte scan key> <33 byte spend key></tt>\n+| The scan and spend public keys from the silent payments address.\n+|\n+| 0\n+| 2\n+|}\n+\n+===Unique Identification===\n+\n+Silent payment capable PSBTs can be uniquely identified the same way as PSBTv2s, except when including silent payment outputs. For silent payment capable PSBTs, all silent payment outputs must use the PSBT_OUT_SP_V0_INFO instead of PSBT_OUT_SCRIPT as the output script when creating the unsigned transaction used for unique identification.\n+\n+==Roles==\n+\n+This document modifies some existing roles.\n+\n+===Constructor===\n+\n+All rules must be followed from PSBTv2 for this role, with the following exception:\n+When an output is added, it must have either PSBT_OUT_SCRIPT or PSBT_OUT_SP_V0_INFO, or both, set.\n+\n+Additionally to PSBTv2, the Constructor must also follow additional rules:\n+\n+Inputs spending an output with script using Segwit version > 1 may only be added if there are no outputs with PSBT_OUT_SP_V0_INFO set.\n+Outputs with PSBT_OUT_SP_V0_INFO set may only be added if there are no inputs spending an output script using Segwit version > 1.\n+\n+===Signer===\n+\n+All rules must be followed from PSBTv2 for this role. If there are any outputs with PSBT_OUT_SP_V0_INFO set, then the following additional rules must also be adhered to:\n+\n+If any input is spending an output with script using Segwit version > 1, the Signer must fail.\n+\n+For all outputs with PSBT_OUT_SP_V0_INFO set, the Signer should:\n+ - Compute and set an ECDH share and DLEQ proof using all inputs it has the private key for.\n+ - Verify the DLEQ proofs for all inputs it does not have the private keys for.\n+ - If all eligible inputs have an ECDH share, compute and set the PSBT_OUT_SCRIPT.\n+\n+If the Signer sets any missing PSBT_OUT_SCRIPTs, it must set the Inputs Modifiable flag to False.\n+\n+If any output does not have PSBT_OUT_SCRIPT set, the Signer must not yet add a signature.\n+\n+The Signer should additionally compute the silent payment addresses, optionally showing this data to the user instead of the computed segwit v1 addresses.\n+\n+If a sighash type is provided and there are silent payment outputs present, the signer must fail if the sighash type is not SIGHASH_ALL.\n+If a sighash type is not provided and there are silent payment outputs present, the signer must sign using SIGHASH_ALL.\n+\n+====Computing the DLEQ Proof====\n+\n+For each output with PSBT_OUT_SP_V0_INFO set, the Signer may generate a proof for other entities to generate the output scripts and verify that the output scripts were generated correctly.\n+\n+Generate a global ECDH share for each scan key ''B<sub>scan</sub>'' and all eligible inputs the Signer has private keys for as follows:\n+\n+Using the notation from [https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#specification BIP352]\n+\n+* Let ''A<sub>n</sub>'' be the sum of the public keys ''A'' of all eligible inputs\n+* Let ''a<sub>n</sub>'' be the sum of the private keys ''a'' of all eligible inputs\n+* Let ''C =  a<sub>n</sub>B<sub>scan</sub>''\n+\n+Use a key ''B<sub>scan</sub>'' followed by a list of the outpoints of all eligible inputs.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 148,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1838729742,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "See my comment [here](https://github.com/bitcoin/bips/pull/1687/files#r1896266653).",
      "created_at": "2024-12-24T01:31:55Z",
      "updated_at": "2024-12-24T01:31:56Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1896267530",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1896267530"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1898948171",
      "pull_request_review_id": 2524762294,
      "id": 1898948171,
      "node_id": "PRRC_kwDOAN28mc5xL6ZL",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.\n+|\n+| 0\n+| 2\n+|}\n+\n+One new per-output type is defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Data\n+| <tt>PSBT_OUT_SP_V0_INFO = 0x08</tt>",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 88,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": null,
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Just a drive-by comment that this value is now taken by `PSBT_OUT_MUSIG2_PARTICIPANT_PUBKEYS` which was added by https://github.com/bitcoin/bips/pull/1540.",
      "created_at": "2024-12-28T16:18:25Z",
      "updated_at": "2024-12-28T16:18:26Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1898948171",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1898948171"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1898955730",
      "pull_request_review_id": 2524768654,
      "id": 1898955730,
      "node_id": "PRRC_kwDOAN28mc5xL8PS",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 55,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844379984,
      "user": {
        "login": "nothingmuch",
        "id": 14242,
        "node_id": "MDQ6VXNlcjE0MjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nothingmuch",
        "html_url": "https://github.com/nothingmuch",
        "followers_url": "https://api.github.com/users/nothingmuch/followers",
        "following_url": "https://api.github.com/users/nothingmuch/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nothingmuch/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nothingmuch/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nothingmuch/subscriptions",
        "organizations_url": "https://api.github.com/users/nothingmuch/orgs",
        "repos_url": "https://api.github.com/users/nothingmuch/repos",
        "events_url": "https://api.github.com/users/nothingmuch/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nothingmuch/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "that seems very reasonable to me.\r\n\r\neven there might be some scenarios in subsets still make sense that seems like a corner case, if it's really important enough  an extension to this BIP could always be specified later",
      "created_at": "2024-12-28T17:24:36Z",
      "updated_at": "2024-12-28T17:24:36Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1898955730",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1898955730"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899140441",
      "pull_request_review_id": 2524956343,
      "id": 1899140441,
      "node_id": "PRRC_kwDOAN28mc5xMpVZ",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": null,
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I have an implementation question about this. If all the shares are `a * B_scan`, then how can the last signer (or the transaction extractor) calculate the output key? BIP-0352 mentions `input_hash = hash_BIP0352/Inputs(outpointL || A)`, but how would I extract `A` from the shares? Is it as simple as subtracting `B_scan` from the share?",
      "created_at": "2024-12-29T14:20:05Z",
      "updated_at": "2024-12-29T14:30:20Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1899140441",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899140441"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899145300",
      "pull_request_review_id": 2524962247,
      "id": 1899145300,
      "node_id": "PRRC_kwDOAN28mc5xMqhU",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ah, I guess a PSBT is supposed to contain all BIP-32 derivation information for all inputs. So `A` can be derived from the sum of all public keys. Is that correct? Then perhaps that could be mentioned here.",
      "created_at": "2024-12-29T14:50:56Z",
      "updated_at": "2024-12-29T14:50:56Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1899145300",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899145300"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899146532",
      "pull_request_review_id": 2524963515,
      "id": 1899146532,
      "node_id": "PRRC_kwDOAN28mc5xMq0k",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> how would I extract A from the shares?\r\n\r\n`A` in the context of the `input_hash` is `a*G`, or the sum of all public keys. This might be easier to understand from the receiver side https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#scanning.",
      "created_at": "2024-12-29T14:59:05Z",
      "updated_at": "2024-12-29T14:59:05Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1899146532",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899146532"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899147124",
      "pull_request_review_id": 2524964212,
      "id": 1899147124,
      "node_id": "PRRC_kwDOAN28mc5xMq90",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> a PSBT is supposed to contain all BIP-32 derivation information for all inputs\r\n\r\nI'm not sure I follow why we need BIP-32 derivation information? The public keys can be extracted from the prevout scripts of the inputs. https://github.com/bitcoin/bips/blob/master/bip-0352.mediawiki#inputs-for-shared-secret-derivation",
      "created_at": "2024-12-29T15:02:44Z",
      "updated_at": "2024-12-29T15:20:47Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1899147124",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899147124"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899147698",
      "pull_request_review_id": 2524964881,
      "id": 1899147698,
      "node_id": "PRRC_kwDOAN28mc5xMrGy",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think I understand, for output generation:\r\n\r\n`Let ecdh_shared_secret = input_hashaBscan`\r\n\r\nreplace `aBscan` with the ECDH share.\r\n\r\nThis is detailed [here](https://github.com/bitcoin/bips/pull/1687/files#diff-b41d8882b5f3bcf8086d19f64655573bdb4666f5091054c4b9509b60e185293aR174).",
      "created_at": "2024-12-29T15:06:47Z",
      "updated_at": "2024-12-29T15:06:48Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1899147698",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899147698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899160580",
      "pull_request_review_id": 2524976957,
      "id": 1899160580,
      "node_id": "PRRC_kwDOAN28mc5xMuQE",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, I understand that I need to replace `aB_scan` with the ECDH share. But how do I calculate the `input_hash`? For that I need the bare `A`. And when creating the output keys, there is no witness available yet from which I can extract the public keys (for example with a p2wkh input where we only have the public key hash in the prevout script).\r\n\r\nSo I think in a scenario where there are multiple signers, then the last signer that wants to create the output keys will need to have the BIP-32 derivation info available for non-Taproot inputs. Nothing can be signed at that point (e.g. no witness available), since the output keys aren't known yet.",
      "created_at": "2024-12-29T16:32:41Z",
      "updated_at": "2024-12-29T16:32:41Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1899160580",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899160580"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899167874",
      "pull_request_review_id": 2524983762,
      "id": 1899167874,
      "node_id": "PRRC_kwDOAN28mc5xMwCC",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ah I understand now. Other signers will not have the public keys without the witness or scriptSig. I'm still not clear why BIP-32 derivation is needed. There is the BIP-174 input field `PSBT_IN_HASH160` that can store the preimage that has the public key. I think the spec should be updated to have the updater add this field for any non-Taproot inputs. Does that make sense?",
      "created_at": "2024-12-29T17:29:46Z",
      "updated_at": "2024-12-29T17:29:46Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1899167874",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1899167874"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900039892",
      "pull_request_review_id": 2526355186,
      "id": 1900039892,
      "node_id": "PRRC_kwDOAN28mc5xQE7U",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "guggero",
        "id": 1008879,
        "node_id": "MDQ6VXNlcjEwMDg4Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008879?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/guggero",
        "html_url": "https://github.com/guggero",
        "followers_url": "https://api.github.com/users/guggero/followers",
        "following_url": "https://api.github.com/users/guggero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/guggero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/guggero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/guggero/subscriptions",
        "organizations_url": "https://api.github.com/users/guggero/orgs",
        "repos_url": "https://api.github.com/users/guggero/repos",
        "events_url": "https://api.github.com/users/guggero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/guggero/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "True, the `PSBT_IN_HASH160` should probably work as well. I just haven't seen this field being set \"in the wild\" up to now, so not sure if all wallets will set it correctly (at least `lnd` doesn't, which perhaps means it's not fully BIP-0174 compliant?).\r\nSo I thought the public key in the BIP-32 derivation fields is probably more likely to be set in most wallets.\r\nBut perhaps this BIP doesn't have to go into details around that and can just mention something along the lines of:\r\n\"Signers creating the output keys will not be able to extract public keys from the witness as at that point the inputs aren't signed yet. The meta information present in the PSBT should include the public key of each input though, so creating the sum of all input public keys (`A`) should happen based on that information\".",
      "created_at": "2024-12-31T10:28:00Z",
      "updated_at": "2024-12-31T10:28:00Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1900039892",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900039892"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900156330",
      "pull_request_review_id": 2526540148,
      "id": 1900156330,
      "node_id": "PRRC_kwDOAN28mc5xQhWq",
      "diff_hunk": "@@ -0,0 +1,196 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+  Post-History: https://groups.google.com/g/bitcoindev/c/5G5wzqUXyk4\n+  Requires: 352, 370\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP370 is not compatible with sending to silent payments as described in BIP352. \n+In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Additionally, the silent payment outputs computed by a signer must be verifiable by other entities, otherwise funds could be sent to an incorrect output script.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><33 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 58,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "c9589c588bdc7e265ca2a73ba54e0df1c1c95c7f",
      "in_reply_to_id": 1899140441,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> But perhaps this BIP doesn't have to go into details around that\r\n\r\nHmm I'm not sure that's a good idea to leave that unspecified. Different implementations could then depend on different metadata fields that may or may not be set and be incompatible. The purpose of a standard is to avoid that problem.\r\n\r\nIf it's easier we can use the BIP-32 derivation field since I see `PSBT_IN_HASH160` is not implemented in https://github.com/bitcoinjs/bip174 either. The difference is that the value of that field should be set to a fingerprint and derivation path which some signers might not want to share. We can specify in this document to set this field for non-taproot sp eligible inputs, and a zero fingerprint and empty path array for the value.",
      "created_at": "2024-12-31T15:09:52Z",
      "updated_at": "2024-12-31T15:09:52Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1900156330",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900156330"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900262957",
      "pull_request_review_id": 2526697446,
      "id": 1900262957,
      "node_id": "PRRC_kwDOAN28mc5xQ7Yt",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 63,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1815770840,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I link to BIP374 and added it as a dependency as well.",
      "created_at": "2024-12-31T20:47:06Z",
      "updated_at": "2024-12-31T20:47:07Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1900262957",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900262957"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900263122",
      "pull_request_review_id": 2526697672,
      "id": 1900263122,
      "node_id": "PRRC_kwDOAN28mc5xQ7bS",
      "diff_hunk": "@@ -0,0 +1,187 @@\n+<pre>\n+  BIP: ?\n+  Layer: Applications\n+  Title: Sending Silent Payments with PSBTs\n+  Author: Andrew Toth <andrewstoth@gmail.com>\n+          Ava Chow <me@achow101.com>\n+          josibake <josibake@protonmail.com>\n+  Comments-Summary: No comments yet.\n+  Comments-URI: TBD\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2024-05-14\n+  License: BSD-2-Clause\n+</pre>\n+\n+==Introduction==\n+\n+===Abstract===\n+\n+This document proposes additional fields and updated role responsibilities for BIP 370 PSBTv2\n+which adds support for sending to silent payments as described in BIP352.\n+\n+===Copyright===\n+\n+This BIP is licensed under the 2-clause BSD license.\n+\n+===Motivation===\n+\n+Partially Signed Bitcoin Transaction Version 2 as described in BIP 370 is not compatible with sending to silent payments as described in BIP352. In particular, the output script of a silent payment cannot be computed until after all transaction inputs have been added.\n+Also, any inputs that the Signer has the private keys for must be signed with SIGHASH_ALL and all inputs must not have any scriptPubKeys with Segwit version > 1.\n+Additionally, the silent payment outputs computed by a signer must be verifiable to other entities.\n+Therefore, new fields and role responsibilities must be added to carry, compute, and verify the silent payment data.\n+\n+==Specification==\n+\n+This document specifies new fields and new field inclusion/exclusion requirements.\n+\n+<tt>PSBT_OUT_SCRIPT</tt> is modified to be optional for outputs in silent payments capable PSBTs. If this field is not included in the output, then the field PSBT_OUT_SP_V0_INFO must be included.\n+\n+The new global types are defined as follows:\n+\n+{|\n+! Name\n+! <tt><keytype></tt>\n+! <tt><keydata></tt>\n+! <tt><keydata></tt> Description\n+! <tt><valuedata></tt>\n+! <tt><valuedata></tt> Description\n+! Versions Requiring Inclusion\n+! Versions Requiring Exclusion\n+! Versions Allowing Inclusion\n+|-\n+| Silent Payment Global ECDH Share\n+| <tt>PSBT_GLOBAL_SP_ECDH_SHARE = 0x07</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this ECDH share is for. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><32 byte share></tt>\n+| An ECDH share for a scan key, followed by a list of outpoints. The ECDH shared is computed with ''a * B_scan'', where ''a'' is the sum of all private keys of the inputs matching the list of outpoints, and ''B_scan'' is the scan key of a recipient.\n+|\n+| 0\n+| 2\n+|-\n+| Silent Payment Global DLEQ Proof\n+| <tt>PSBT_GLOBAL_SP_DLEQ = 0x08</tt>\n+| <tt><33 byte scan key> <36 byte outpoint>*</tt>\n+| The scan key and a list of outpoints corresponding to the prevouts of the inputs that this proof covers. The outpoints are composed of a 32 byte txid followed by a 32-bit little endian uint.\n+| <tt><64-byte proof></tt>\n+| A DLEQ proof computed for the matching ECDH share.",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 68,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "e2adb50e77562b513d98b730a36168f32ce3ec3e",
      "in_reply_to_id": 1844390045,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm not sure the added complexity is worth it to add this.",
      "created_at": "2024-12-31T20:47:53Z",
      "updated_at": "2024-12-31T20:47:53Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1900263122",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1900263122"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": 66,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1907592513",
      "pull_request_review_id": 2537843945,
      "id": 1907592513,
      "node_id": "PRRC_kwDOAN28mc5xs41B",
      "diff_hunk": "@@ -0,0 +1,262 @@\n+<pre>\n+  BIP: ?",
      "path": "bip-PSBT-SP.mediawiki",
      "position": null,
      "original_position": 2,
      "commit_id": "ffe5313afc9e3e7c9f930b0213b798feae0b8ebc",
      "original_commit_id": "3bfecc3d5d37b1dc77bbd6a139d61adeb1da1664",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Please update here with 375, add an equivalent README entry, and update the `Created` field to today's date.",
      "created_at": "2025-01-08T18:05:55Z",
      "updated_at": "2025-01-08T18:07:39Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1687#discussion_r1907592513",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1907592513"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1687"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2,
      "side": "RIGHT"
    }
  ]
}