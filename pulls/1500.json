{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bips/pulls/1500",
    "id": 1536572316,
    "node_id": "PR_kwDOAN28mc5bljuc",
    "html_url": "https://github.com/bitcoin/bips/pull/1500",
    "diff_url": "https://github.com/bitcoin/bips/pull/1500.diff",
    "patch_url": "https://github.com/bitcoin/bips/pull/1500.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1500",
    "commits_url": "https://api.github.com/repos/bitcoin/bips/pulls/1500/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bips/pulls/1500/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bips/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bips/issues/1500/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
    "number": 1500,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Add BIP for OP_TXHASH and OP_CHECKTXHASHVERIFY",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Citing from my e-mail to the mailing list, there are some open questions\r\n\r\n- [ ] Does the proposal sufficiently address concerns around resource usage and quadratic hashing?\r\n\r\n- [ ] Miraculously, once we came up with all possible fields that we might consider interesting, we filled exactly 16 spots. There is however one thing that I would have liked to be optionally available and I am unsure of which side to take in the proposal. This is including the TxFieldSelector as part of the hash. Doing so no longer makes the hash only represent the value being hashed, but also the field selector that was used; this would no longer make it possible to proof equality of fields. If a txhash as specified here would ever be used as a signature hash, it would definitely have to be included, but this could be done after the fact if OP_CAT was available. For signature hashes, the hash should ideally be somehow tagged, so we might need OP_CAT, or OP_CATSHA256 or something anyway.\r\n\r\n  - A solution could be to take an additional bit from each of the two \"in/output selector\" bytes, and assign to this bit \"commit to total number of in/outputs\" (instead of having 2 bits for this in the first byte).\r\n    - This would free up 2 bits in the first byte, one of which could be used for including the TxFieldSelector in the hash and the other one could be left free (OP_SUCCESS) to potentially revisit later-on.\r\n    -  This would limit the number of selectable leading in/outputs to 8,191 and the number of individually selectable in/outputs to 32, both of which seem reasonable or maybe even more desirable from a resource usage perspective.\r\n\r\n- [ ] General feedback of how people feel towards a proposal like this, which could either be implemented in a softfork as is, like BIP-119 or be combined in a single softfork with OP_CHECKSIGFROMSTACK and perhaps OP_CAT, OP_TWEAKADD and/or a hypothetical OP_TX.",
    "labels": [],
    "created_at": "2023-09-30T11:40:55Z",
    "updated_at": "2023-12-11T08:44:01Z",
    "mergeable": true,
    "mergeable_state": "clean",
    "merge_commit_sha": "7050cff396700162aa29ef0d4a029848498a91d9",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "stevenroose:txhash",
      "ref": "txhash",
      "sha": "71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
      "user": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 15035550,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNTAzNTU1MA==",
        "name": "bips",
        "full_name": "stevenroose/bips",
        "owner": {
          "login": "stevenroose",
          "id": 853468,
          "node_id": "MDQ6VXNlcjg1MzQ2OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/stevenroose",
          "html_url": "https://github.com/stevenroose",
          "followers_url": "https://api.github.com/users/stevenroose/followers",
          "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
          "organizations_url": "https://api.github.com/users/stevenroose/orgs",
          "repos_url": "https://api.github.com/users/stevenroose/repos",
          "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/stevenroose/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/stevenroose/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": true,
        "url": "https://api.github.com/repos/stevenroose/bips",
        "archive_url": "https://api.github.com/repos/stevenroose/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/stevenroose/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/stevenroose/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/stevenroose/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/stevenroose/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/stevenroose/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/stevenroose/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/stevenroose/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/stevenroose/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/stevenroose/bips/contributors",
        "deployments_url": "https://api.github.com/repos/stevenroose/bips/deployments",
        "downloads_url": "https://api.github.com/repos/stevenroose/bips/downloads",
        "events_url": "https://api.github.com/repos/stevenroose/bips/events",
        "forks_url": "https://api.github.com/repos/stevenroose/bips/forks",
        "git_commits_url": "https://api.github.com/repos/stevenroose/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/stevenroose/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/stevenroose/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/stevenroose/bips.git",
        "issue_comment_url": "https://api.github.com/repos/stevenroose/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/stevenroose/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/stevenroose/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/stevenroose/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/stevenroose/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/stevenroose/bips/languages",
        "merges_url": "https://api.github.com/repos/stevenroose/bips/merges",
        "milestones_url": "https://api.github.com/repos/stevenroose/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/stevenroose/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/stevenroose/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/stevenroose/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:stevenroose/bips.git",
        "stargazers_url": "https://api.github.com/repos/stevenroose/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/stevenroose/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/stevenroose/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/stevenroose/bips/subscription",
        "tags_url": "https://api.github.com/repos/stevenroose/bips/tags",
        "teams_url": "https://api.github.com/repos/stevenroose/bips/teams",
        "trees_url": "https://api.github.com/repos/stevenroose/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/stevenroose/bips.git",
        "hooks_url": "https://api.github.com/repos/stevenroose/bips/hooks",
        "svn_url": "https://github.com/stevenroose/bips",
        "homepage": "bitcoin.org",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 13663,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-12-11T08:42:35Z",
        "created_at": "2013-12-09T01:50:33Z",
        "updated_at": "2016-01-11T09:56:15Z"
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e918b50731397872ad2922a1b08a5a4cd1d6d546",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 14531737,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDUzMTczNw==",
        "name": "bips",
        "full_name": "bitcoin/bips",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bips",
        "archive_url": "https://api.github.com/repos/bitcoin/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bips/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bips/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bips/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bips/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bips/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bips.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bips/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bips/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bips.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bips/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bips/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bips/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bips.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bips/hooks",
        "svn_url": "https://github.com/bitcoin/bips",
        "homepage": "",
        "language": "Wikitext",
        "forks_count": 5671,
        "stargazers_count": 8519,
        "watchers_count": 8519,
        "size": 13659,
        "default_branch": "master",
        "open_issues_count": 128,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": false,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-12-11T08:42:38Z",
        "created_at": "2013-11-19T17:18:41Z",
        "updated_at": "2023-12-10T22:22:03Z"
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bips/pulls/1500"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 2430,
    "deletions": 0,
    "changed_files": 4,
    "commits": 1,
    "review_comments": 4,
    "comments": 2
  },
  "events": [
    {
      "event": "head_ref_force_pushed",
      "id": 10517205429,
      "node_id": "HRFPE_lADOAN28mc5ydFO8zwAAAAJy39G1",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10517205429",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T11:44:01Z"
    },
    {
      "event": "reviewed",
      "id": 1691790241,
      "node_id": "PRR_kwDOAN28mc5k1quh",
      "url": null,
      "actor": null,
      "commit_id": "ec98a85061eb9d5bf853470a469ab841f3da7916",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1500#pullrequestreview-1691790241",
      "submitted_at": "2023-10-23T06:35:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1500"
    },
    {
      "event": "commented",
      "id": 1775541954,
      "node_id": "IC_kwDOAN28mc5p1J7C",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/1775541954",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-23T16:11:38Z",
      "updated_at": "2023-10-23T16:11:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Alternatively, but slightly even more complicating the cases, since the first two fields (version, locktime), are not very valuable without anything else (especially since we have `OP_CLTV`), we could introduce four special-cased bytes to mimick other popular SIGHASH modes: 0x00, 0x01, 0x02 and 0x03. Though locktime might be useful with `OP_TX` at some point. So I would argue against that. Mimicking \"regular\" sighashes isn't super useful in the first place because any system that expects to use regular sighashes can use current regular schnorr keys.",
      "user": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1500#issuecomment-1775541954",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1500"
    },
    {
      "event": "mentioned",
      "id": 10749745486,
      "node_id": "MEE_lADOAN28mc5ydFO8zwAAAAKAvBlO",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749745486",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T06:36:54Z"
    },
    {
      "event": "subscribed",
      "id": 10749745493,
      "node_id": "SE_lADOAN28mc5ydFO8zwAAAAKAvBlV",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749745493",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T06:36:54Z"
    },
    {
      "event": "mentioned",
      "id": 10749745509,
      "node_id": "MEE_lADOAN28mc5ydFO8zwAAAAKAvBll",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749745509",
      "actor": {
        "login": "sanket1729",
        "id": 6881849,
        "node_id": "MDQ6VXNlcjY4ODE4NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6881849?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sanket1729",
        "html_url": "https://github.com/sanket1729",
        "followers_url": "https://api.github.com/users/sanket1729/followers",
        "following_url": "https://api.github.com/users/sanket1729/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sanket1729/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sanket1729/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sanket1729/subscriptions",
        "organizations_url": "https://api.github.com/users/sanket1729/orgs",
        "repos_url": "https://api.github.com/users/sanket1729/repos",
        "events_url": "https://api.github.com/users/sanket1729/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sanket1729/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T06:36:54Z"
    },
    {
      "event": "subscribed",
      "id": 10749745519,
      "node_id": "SE_lADOAN28mc5ydFO8zwAAAAKAvBlv",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749745519",
      "actor": {
        "login": "sanket1729",
        "id": 6881849,
        "node_id": "MDQ6VXNlcjY4ODE4NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6881849?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sanket1729",
        "html_url": "https://github.com/sanket1729",
        "followers_url": "https://api.github.com/users/sanket1729/followers",
        "following_url": "https://api.github.com/users/sanket1729/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sanket1729/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sanket1729/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sanket1729/subscriptions",
        "organizations_url": "https://api.github.com/users/sanket1729/orgs",
        "repos_url": "https://api.github.com/users/sanket1729/repos",
        "events_url": "https://api.github.com/users/sanket1729/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sanket1729/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T06:36:54Z"
    },
    {
      "event": "mentioned",
      "id": 10749745526,
      "node_id": "MEE_lADOAN28mc5ydFO8zwAAAAKAvBl2",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749745526",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T06:36:54Z"
    },
    {
      "event": "subscribed",
      "id": 10749745536,
      "node_id": "SE_lADOAN28mc5ydFO8zwAAAAKAvBmA",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749745536",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T06:36:54Z"
    },
    {
      "event": "reviewed",
      "id": 1694118285,
      "node_id": "PRR_kwDOAN28mc5k-jGN",
      "url": null,
      "actor": null,
      "commit_id": "ec98a85061eb9d5bf853470a469ab841f3da7916",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "sennhann29",
        "id": 139481458,
        "node_id": "U_kgDOCFBRcg",
        "avatar_url": "https://avatars.githubusercontent.com/u/139481458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sennhann29",
        "html_url": "https://github.com/sennhann29",
        "followers_url": "https://api.github.com/users/sennhann29/followers",
        "following_url": "https://api.github.com/users/sennhann29/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sennhann29/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sennhann29/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sennhann29/subscriptions",
        "organizations_url": "https://api.github.com/users/sennhann29/orgs",
        "repos_url": "https://api.github.com/users/sennhann29/repos",
        "events_url": "https://api.github.com/users/sennhann29/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sennhann29/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1500#pullrequestreview-1694118285",
      "submitted_at": "2023-10-24T06:41:07Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/1500"
    },
    {
      "event": "mentioned",
      "id": 10749961308,
      "node_id": "MEE_lADOAN28mc5ydFO8zwAAAAKAv2Rc",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749961308",
      "actor": {
        "login": "sennhann29",
        "id": 139481458,
        "node_id": "U_kgDOCFBRcg",
        "avatar_url": "https://avatars.githubusercontent.com/u/139481458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sennhann29",
        "html_url": "https://github.com/sennhann29",
        "followers_url": "https://api.github.com/users/sennhann29/followers",
        "following_url": "https://api.github.com/users/sennhann29/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sennhann29/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sennhann29/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sennhann29/subscriptions",
        "organizations_url": "https://api.github.com/users/sennhann29/orgs",
        "repos_url": "https://api.github.com/users/sennhann29/repos",
        "events_url": "https://api.github.com/users/sennhann29/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sennhann29/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T07:05:02Z"
    },
    {
      "event": "subscribed",
      "id": 10749961323,
      "node_id": "SE_lADOAN28mc5ydFO8zwAAAAKAv2Rr",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/10749961323",
      "actor": {
        "login": "sennhann29",
        "id": 139481458,
        "node_id": "U_kgDOCFBRcg",
        "avatar_url": "https://avatars.githubusercontent.com/u/139481458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sennhann29",
        "html_url": "https://github.com/sennhann29",
        "followers_url": "https://api.github.com/users/sennhann29/followers",
        "following_url": "https://api.github.com/users/sennhann29/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sennhann29/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sennhann29/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sennhann29/subscriptions",
        "organizations_url": "https://api.github.com/users/sennhann29/orgs",
        "repos_url": "https://api.github.com/users/sennhann29/repos",
        "events_url": "https://api.github.com/users/sennhann29/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sennhann29/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T07:05:02Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKDcxMDczZmY5YTY4NzNhNzNjZmQ3NTJlZjNkZTNlZTlmZjVlOTE2ZjE",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
      "tree": {
        "sha": "a3a7691a9848c1ee6f470537e7f0c159a91efea2",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/a3a7691a9848c1ee6f470537e7f0c159a91efea2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a3a7691a9848c1ee6f470537e7f0c159a91efea2\nparent e918b50731397872ad2922a1b08a5a4cd1d6d546\nauthor Steven Roose <steven@stevenroose.org> 1694013395 +0100\ncommitter Steven Roose <steven@stevenroose.org> 1702283822 +0000\n\nAdd BIP for OP_TXHASH and OP_CHECKTXHASHVERIFY\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE3hDoJimoytVbcAuXLyqI1/jWjocFAmV2yi4ACgkQLyqI1/jW\njocJRw//YwVk2hvQS7/85AT5LVspEu/44HCExgm8bWYq0Kafrn2HyzdpnOcsquyD\niTyueKjiKY+OpDna5GhkwbIGBdxKEBxviDr0dE2kwRoNuI1BokGRH/XKPVzBiTTO\nQ1HXWGTs8ia+v0dgwLeXewJTZACPwDbjO//00WEBYOozsV4wvoTDjj7rb6YUGpKG\n7hPhKe7S0qQP3ntkmEHE11wbcX3UEr7iAkLUACJRZ4OQKJBvVlgEcqxfoPd24W5i\ndVWuWf2c/XviDR3WXWXM5xxvxcXe864NGkRJ/C+8YGpArogjX1zQtofZ84Ed4L4i\nARHHj11+pAxV2GYPlu2O8M6C2XS6JJdcvx5el8r1QQdJQilWoe0FpPPgO88GHpYD\nFudMCR9J4zNBnMujMGB1wKx8clpBIUwOVtg9uMAISMPHM1/tntSrz/QcWfp0tt+/\npavzwpfvh9nFHEV87x2MN4BTeqItUcQssKKYkC5U94f97NDrlq8KgDAi9GcOlBOO\nTDjCmgceS+GH5PCdKyOE8xvFaPb8VBR+YGmJXthpoySHW+VZSx8Z+5I5nqiIEZ7M\nYmm7vi7hV5KeT4dCHM1xF7iWfRSEV2l2IAF9hhmK4GsMvzAJx4Vz0IAHCFzOlZqB\nx8/j/tk0oNnaiUBTxU+9c2uvT/URltWIEf3kiaJ2EzhsXX18g2I=\n=wGwa\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/e918b50731397872ad2922a1b08a5a4cd1d6d546",
          "sha": "e918b50731397872ad2922a1b08a5a4cd1d6d546",
          "html_url": "https://github.com/bitcoin/bips/commit/e918b50731397872ad2922a1b08a5a4cd1d6d546"
        }
      ],
      "message": "Add BIP for OP_TXHASH and OP_CHECKTXHASHVERIFY",
      "committer": {
        "name": "Steven Roose",
        "email": "steven@stevenroose.org",
        "date": "2023-12-11T08:37:02Z"
      },
      "author": {
        "name": "Steven Roose",
        "email": "steven@stevenroose.org",
        "date": "2023-09-06T15:16:35Z"
      },
      "sha": "71073ff9a6873a73cfd752ef3de3ee9ff5e916f1"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11207030082,
      "node_id": "HRFPE_lADOAN28mc5ydFO8zwAAAAKb_bVC",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/11207030082",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T08:42:37Z"
    },
    {
      "event": "ready_for_review",
      "id": 11207031471,
      "node_id": "RFRE_lADOAN28mc5ydFO8zwAAAAKb_bqv",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/11207031471",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T08:42:44Z"
    },
    {
      "event": "commented",
      "id": 1849566150,
      "node_id": "IC_kwDOAN28mc5uPiPG",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/1849566150",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T08:44:00Z",
      "updated_at": "2023-12-11T08:44:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "I just pushed an updated version of this BIP. It has a reference implementation that produces test vectors that are tested against an implementation for Bitcoin Core and for rust-bitcoin.\r\n\r\nI think it should be ready for review. I have one small last TODO in the specification related to txfs malleability.",
      "user": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/1500#issuecomment-1849566150",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/1500"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368181858",
      "pull_request_review_id": 1691790241,
      "id": 1368181858,
      "node_id": "PRRC_kwDOAN28mc5RjMxi",
      "diff_hunk": "@@ -0,0 +1,659 @@\n+<pre>\n+  BIP: tbd\n+  Layer: Consensus (soft fork)\n+  Title: OP_TXHASH and OP_CHECKTXHASHVERIFY\n+  Author: Steven Roose <steven@roose.io>\n+  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-tbd\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2023-09-03\n+  License: BSD-3-Clause\n+</pre>\n+\n+==Abstract==\n+\n+This BIP proposes two new opcodes, OP_CHECKTXHASHVERIFY, to be activated\n+as a change to the semantics of OP_NOP4 in legacy script, segwit and tapscript;\n+and OP_TXHASH, to be activated as a change to the semantics of OP_SUCCESS189\n+in tapscript only.\n+\n+These new opcodes allow for non-interactive enforcement of certain properties\n+of transactions spending a certain UTXO. Together with something like \n+OP_CHECKSIGFROMSTACK (and maybe OP_CAT) it would also enable the emulation of\n+arbitrarily complex sighash types. More on the use cases in the Motivation\n+section of this BIP.\n+\n+\n+==Summary==\n+\n+OP_CHECKTXHASHVERIFY uses opcode OP_NOP4 (0xb3) as a soft fork upgrade.\n+\n+OP_CHECKTXHASHVERIFY does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element on the stack is at least 32 bytes long, fail otherwise.\n+* The first 32 bytes are interpreted as the TxHash and the remaining suffix\n+  bytes specify the TxFieldSelector.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The actual TxHash of the transaction at the current input index, calculated\n+  using the given TxFieldSelector must be equal to the first 32 bytes of the\n+  element on the stack, fail otherwise.\n+\n+\n+OP_TXHASH uses tapscript opcode OP_SUCCESS189 (0xbd) as a soft fork upgrade.\n+\n+OP_TXHASH does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element is interpreted as the TxFieldSelector and is popped off the stack.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The 32-byte TxHash of the transaction at the current input index,\n+  calculated using the given TxFieldSelector is pushed onto the stack.\n+\n+\n+The TxFieldSelector has the following semantics. We will give a brief conceptual\n+summary, followed by a reference implementation of the CalculateTxHash function.\n+\n+* There are two special cases for the TxFieldSelector:\n+  - the empty value, zero bytes long: it is set equal to 0xff|0xf6|0xbf|0xbf,\n+    the de-facto default value which means everything except the prevouts and\n+    the prevout scriptPubkeys.\n+  - the 0x00 byte: it is set equal to 0xff|0xff|0xbf|0xbf, which means \"ALL\"\n+    and is primarily useful to emulate SIGHASH_ALL when OP_TXHASH is used in\n+    combination with OP_CHECKSIGFROMSTACK.\n+\n+* The first byte of the TxFieldSelector has its 8 bits assigned as follows,\n+  from lowest to highest:\n+  1. version\n+  2. locktime\n+  3. current input index\n+  4. current input control block (only in case of tapscript spend)\n+  5. current script last OP_CODESEPARATOR position\n+  6. inputs\n+  7. outputs",
      "path": "bip-txhash.mediawiki",
      "position": null,
      "original_position": 73,
      "commit_id": "71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
      "original_commit_id": "ec98a85061eb9d5bf853470a469ab841f3da7916",
      "in_reply_to_id": null,
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please provide symbolic names for all these.  And then use them instead of 0xff|0xf6|0xbf|0xbf etc.  More verbose, but much clearer.",
      "created_at": "2023-10-23T06:29:52Z",
      "updated_at": "2023-10-23T06:35:52Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1500#discussion_r1368181858",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368181858"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1500"
        }
      },
      "start_line": null,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368182751",
      "pull_request_review_id": 1691790241,
      "id": 1368182751,
      "node_id": "PRRC_kwDOAN28mc5RjM_f",
      "diff_hunk": "@@ -0,0 +1,659 @@\n+<pre>\n+  BIP: tbd\n+  Layer: Consensus (soft fork)\n+  Title: OP_TXHASH and OP_CHECKTXHASHVERIFY\n+  Author: Steven Roose <steven@roose.io>\n+  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-tbd\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2023-09-03\n+  License: BSD-3-Clause\n+</pre>\n+\n+==Abstract==\n+\n+This BIP proposes two new opcodes, OP_CHECKTXHASHVERIFY, to be activated\n+as a change to the semantics of OP_NOP4 in legacy script, segwit and tapscript;\n+and OP_TXHASH, to be activated as a change to the semantics of OP_SUCCESS189\n+in tapscript only.\n+\n+These new opcodes allow for non-interactive enforcement of certain properties\n+of transactions spending a certain UTXO. Together with something like \n+OP_CHECKSIGFROMSTACK (and maybe OP_CAT) it would also enable the emulation of\n+arbitrarily complex sighash types. More on the use cases in the Motivation\n+section of this BIP.\n+\n+\n+==Summary==\n+\n+OP_CHECKTXHASHVERIFY uses opcode OP_NOP4 (0xb3) as a soft fork upgrade.\n+\n+OP_CHECKTXHASHVERIFY does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element on the stack is at least 32 bytes long, fail otherwise.\n+* The first 32 bytes are interpreted as the TxHash and the remaining suffix\n+  bytes specify the TxFieldSelector.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The actual TxHash of the transaction at the current input index, calculated\n+  using the given TxFieldSelector must be equal to the first 32 bytes of the\n+  element on the stack, fail otherwise.\n+\n+\n+OP_TXHASH uses tapscript opcode OP_SUCCESS189 (0xbd) as a soft fork upgrade.\n+\n+OP_TXHASH does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element is interpreted as the TxFieldSelector and is popped off the stack.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The 32-byte TxHash of the transaction at the current input index,\n+  calculated using the given TxFieldSelector is pushed onto the stack.\n+\n+\n+The TxFieldSelector has the following semantics. We will give a brief conceptual\n+summary, followed by a reference implementation of the CalculateTxHash function.\n+\n+* There are two special cases for the TxFieldSelector:\n+  - the empty value, zero bytes long: it is set equal to 0xff|0xf6|0xbf|0xbf,\n+    the de-facto default value which means everything except the prevouts and\n+    the prevout scriptPubkeys.\n+  - the 0x00 byte: it is set equal to 0xff|0xff|0xbf|0xbf, which means \"ALL\"\n+    and is primarily useful to emulate SIGHASH_ALL when OP_TXHASH is used in\n+    combination with OP_CHECKSIGFROMSTACK.\n+\n+* The first byte of the TxFieldSelector has its 8 bits assigned as follows,\n+  from lowest to highest:\n+  1. version\n+  2. locktime\n+  3. current input index\n+  4. current input control block (only in case of tapscript spend)\n+  5. current script last OP_CODESEPARATOR position\n+  6. inputs\n+  7. outputs\n+\n+* The last (highest) bit of the first byte, we will call the \"control bit\", and\n+  it can be used to control the behavior of the opcode. For OP_TXHASH and\n+  OP_CHECKTXHASHVERIFY, the control bit is used to determine whether the\n+  TxFieldSelector itself has to be included in the resulting hash. (For\n+  potential other uses of the TxFieldSelector (like a hypothetical OP_TX), this\n+  bit can be repurposed.)\n+\n+* If either \"inputs\" or \"outputs\" is set to 1, expect another byte with its 8\n+  bits assigning the following variables, from lowest to highest:\n+  * Specifying which fields of the inputs will be selected:\n+    1. prevouts\n+    2. sequences\n+    3. scriptSigs\n+    4. prevout scriptPubkeys\n+    5. prevout values\n+    6. taproot annexes (only in case of tapscript spend)\n+  * Specifying which fields of the outputs will be selected:\n+    7. scriptPubkeys\n+    8. values\n+\n+For both inputs and then outputs, do the following:\n+\n+* If the \"in/outputs\" field is set to 1, another additional byte is expected:\n+  * The highest bit indicates whether the \"number of in-/outputs\" should be\n+    committed to.\n+  * For the remaining bits, there are three exceptional values:\n+    - 0x00 means \"no in/outputs\" (hence only the number of them as 0x80)\n+    - 0x40 means \"select only the in/output of the current input index\".\n+    - 0x3f means \"select all in/outputs\".\n+  * The second highest bit is the \"specification mode\":\n+    - Set to 0 it means \"prefix mode\".\n+    - Set to 1 it means \"individual mode\".\n+  * The third highest bit is used to indicate the \"index size\", i.e. the number\n+    of bytes will be used to represent in/output indices.\n+  * In \"prefix mode\",\n+    - With \"index size\" set to 0, the remaining lowest 5 bits of the first byte\n+      will be interpreted as the number of leading in/outputs to select.\n+    - With \"index size\" set to 1, the remaining lowest 5 bits of the first byte\n+      together with the 8 bits of the next byte will be interpreted as the\n+      number of leading in/outputs to select.\n+  * In \"individual mode\", the remaining lowest 5 bits of the first byte will be\n+    interpreted as `n`, the number of individual in/outputs to select.\n+    - With \"index size\" set to 0, interpret the following `n` individual bytes\n+      as the indices of an individual in/outputs to select.\n+    - With \"index size\" set to 1, interpret the next `n` pairs of two bytes as\n+      the indices of individual in/outputs to select.\n+\n+\n+The function ValidateTxFieldSelector has the following semantics, it\n+effectively checks that the TxFieldSelector value is valid according to\n+above rules:\n+\n+* If there are 0 bytes, it becomes the default of 0xff|0xf6|0xff|0xff; succeed.\n+* If the first byte is exactly 0x00, the Script execution succeeds immediately.\n+  //TODO(stevenroose) is this valuable? it's the only \"exception case\" that\n+  could potentially be hooked for some future upgrade",
      "path": "bip-txhash.mediawiki",
      "position": null,
      "original_position": 130,
      "commit_id": "71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
      "original_commit_id": "ec98a85061eb9d5bf853470a469ab841f3da7916",
      "in_reply_to_id": null,
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not allow extra bytes at the end to mean OP_SUCCESS?",
      "created_at": "2023-10-23T06:31:09Z",
      "updated_at": "2023-10-23T06:35:52Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1500#discussion_r1368182751",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368182751"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1500"
        }
      },
      "start_line": null,
      "original_start_line": 128,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 130,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368904131",
      "pull_request_review_id": 1692925870,
      "id": 1368904131,
      "node_id": "PRRC_kwDOAN28mc5Rl9HD",
      "diff_hunk": "@@ -0,0 +1,659 @@\n+<pre>\n+  BIP: tbd\n+  Layer: Consensus (soft fork)\n+  Title: OP_TXHASH and OP_CHECKTXHASHVERIFY\n+  Author: Steven Roose <steven@roose.io>\n+  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-tbd\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2023-09-03\n+  License: BSD-3-Clause\n+</pre>\n+\n+==Abstract==\n+\n+This BIP proposes two new opcodes, OP_CHECKTXHASHVERIFY, to be activated\n+as a change to the semantics of OP_NOP4 in legacy script, segwit and tapscript;\n+and OP_TXHASH, to be activated as a change to the semantics of OP_SUCCESS189\n+in tapscript only.\n+\n+These new opcodes allow for non-interactive enforcement of certain properties\n+of transactions spending a certain UTXO. Together with something like \n+OP_CHECKSIGFROMSTACK (and maybe OP_CAT) it would also enable the emulation of\n+arbitrarily complex sighash types. More on the use cases in the Motivation\n+section of this BIP.\n+\n+\n+==Summary==\n+\n+OP_CHECKTXHASHVERIFY uses opcode OP_NOP4 (0xb3) as a soft fork upgrade.\n+\n+OP_CHECKTXHASHVERIFY does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element on the stack is at least 32 bytes long, fail otherwise.\n+* The first 32 bytes are interpreted as the TxHash and the remaining suffix\n+  bytes specify the TxFieldSelector.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The actual TxHash of the transaction at the current input index, calculated\n+  using the given TxFieldSelector must be equal to the first 32 bytes of the\n+  element on the stack, fail otherwise.\n+\n+\n+OP_TXHASH uses tapscript opcode OP_SUCCESS189 (0xbd) as a soft fork upgrade.\n+\n+OP_TXHASH does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element is interpreted as the TxFieldSelector and is popped off the stack.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The 32-byte TxHash of the transaction at the current input index,\n+  calculated using the given TxFieldSelector is pushed onto the stack.\n+\n+\n+The TxFieldSelector has the following semantics. We will give a brief conceptual\n+summary, followed by a reference implementation of the CalculateTxHash function.\n+\n+* There are two special cases for the TxFieldSelector:\n+  - the empty value, zero bytes long: it is set equal to 0xff|0xf6|0xbf|0xbf,\n+    the de-facto default value which means everything except the prevouts and\n+    the prevout scriptPubkeys.\n+  - the 0x00 byte: it is set equal to 0xff|0xff|0xbf|0xbf, which means \"ALL\"\n+    and is primarily useful to emulate SIGHASH_ALL when OP_TXHASH is used in\n+    combination with OP_CHECKSIGFROMSTACK.\n+\n+* The first byte of the TxFieldSelector has its 8 bits assigned as follows,\n+  from lowest to highest:\n+  1. version\n+  2. locktime\n+  3. current input index\n+  4. current input control block (only in case of tapscript spend)\n+  5. current script last OP_CODESEPARATOR position\n+  6. inputs\n+  7. outputs",
      "path": "bip-txhash.mediawiki",
      "position": null,
      "original_position": 73,
      "commit_id": "71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
      "original_commit_id": "ec98a85061eb9d5bf853470a469ab841f3da7916",
      "in_reply_to_id": 1368181858,
      "user": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah that's why I did the textual clarification. In the ref impl I have constants for them. I could add them into the BIP text as well, makes sense.",
      "created_at": "2023-10-23T15:50:58Z",
      "updated_at": "2023-10-23T15:50:58Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1500#discussion_r1368904131",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368904131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1500"
        }
      },
      "start_line": null,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368912187",
      "pull_request_review_id": 1692939088,
      "id": 1368912187,
      "node_id": "PRRC_kwDOAN28mc5Rl_E7",
      "diff_hunk": "@@ -0,0 +1,659 @@\n+<pre>\n+  BIP: tbd\n+  Layer: Consensus (soft fork)\n+  Title: OP_TXHASH and OP_CHECKTXHASHVERIFY\n+  Author: Steven Roose <steven@roose.io>\n+  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-tbd\n+  Status: Draft\n+  Type: Standards Track\n+  Created: 2023-09-03\n+  License: BSD-3-Clause\n+</pre>\n+\n+==Abstract==\n+\n+This BIP proposes two new opcodes, OP_CHECKTXHASHVERIFY, to be activated\n+as a change to the semantics of OP_NOP4 in legacy script, segwit and tapscript;\n+and OP_TXHASH, to be activated as a change to the semantics of OP_SUCCESS189\n+in tapscript only.\n+\n+These new opcodes allow for non-interactive enforcement of certain properties\n+of transactions spending a certain UTXO. Together with something like \n+OP_CHECKSIGFROMSTACK (and maybe OP_CAT) it would also enable the emulation of\n+arbitrarily complex sighash types. More on the use cases in the Motivation\n+section of this BIP.\n+\n+\n+==Summary==\n+\n+OP_CHECKTXHASHVERIFY uses opcode OP_NOP4 (0xb3) as a soft fork upgrade.\n+\n+OP_CHECKTXHASHVERIFY does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element on the stack is at least 32 bytes long, fail otherwise.\n+* The first 32 bytes are interpreted as the TxHash and the remaining suffix\n+  bytes specify the TxFieldSelector.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The actual TxHash of the transaction at the current input index, calculated\n+  using the given TxFieldSelector must be equal to the first 32 bytes of the\n+  element on the stack, fail otherwise.\n+\n+\n+OP_TXHASH uses tapscript opcode OP_SUCCESS189 (0xbd) as a soft fork upgrade.\n+\n+OP_TXHASH does the following:\n+\n+* There is at least one element on the stack, fail otherwise.\n+* The element is interpreted as the TxFieldSelector and is popped off the stack.\n+* If ValidateTxFieldSelector fails for the provided TxFieldSelector, fail.\n+* The 32-byte TxHash of the transaction at the current input index,\n+  calculated using the given TxFieldSelector is pushed onto the stack.\n+\n+\n+The TxFieldSelector has the following semantics. We will give a brief conceptual\n+summary, followed by a reference implementation of the CalculateTxHash function.\n+\n+* There are two special cases for the TxFieldSelector:\n+  - the empty value, zero bytes long: it is set equal to 0xff|0xf6|0xbf|0xbf,\n+    the de-facto default value which means everything except the prevouts and\n+    the prevout scriptPubkeys.\n+  - the 0x00 byte: it is set equal to 0xff|0xff|0xbf|0xbf, which means \"ALL\"\n+    and is primarily useful to emulate SIGHASH_ALL when OP_TXHASH is used in\n+    combination with OP_CHECKSIGFROMSTACK.\n+\n+* The first byte of the TxFieldSelector has its 8 bits assigned as follows,\n+  from lowest to highest:\n+  1. version\n+  2. locktime\n+  3. current input index\n+  4. current input control block (only in case of tapscript spend)\n+  5. current script last OP_CODESEPARATOR position\n+  6. inputs\n+  7. outputs\n+\n+* The last (highest) bit of the first byte, we will call the \"control bit\", and\n+  it can be used to control the behavior of the opcode. For OP_TXHASH and\n+  OP_CHECKTXHASHVERIFY, the control bit is used to determine whether the\n+  TxFieldSelector itself has to be included in the resulting hash. (For\n+  potential other uses of the TxFieldSelector (like a hypothetical OP_TX), this\n+  bit can be repurposed.)\n+\n+* If either \"inputs\" or \"outputs\" is set to 1, expect another byte with its 8\n+  bits assigning the following variables, from lowest to highest:\n+  * Specifying which fields of the inputs will be selected:\n+    1. prevouts\n+    2. sequences\n+    3. scriptSigs\n+    4. prevout scriptPubkeys\n+    5. prevout values\n+    6. taproot annexes (only in case of tapscript spend)\n+  * Specifying which fields of the outputs will be selected:\n+    7. scriptPubkeys\n+    8. values\n+\n+For both inputs and then outputs, do the following:\n+\n+* If the \"in/outputs\" field is set to 1, another additional byte is expected:\n+  * The highest bit indicates whether the \"number of in-/outputs\" should be\n+    committed to.\n+  * For the remaining bits, there are three exceptional values:\n+    - 0x00 means \"no in/outputs\" (hence only the number of them as 0x80)\n+    - 0x40 means \"select only the in/output of the current input index\".\n+    - 0x3f means \"select all in/outputs\".\n+  * The second highest bit is the \"specification mode\":\n+    - Set to 0 it means \"prefix mode\".\n+    - Set to 1 it means \"individual mode\".\n+  * The third highest bit is used to indicate the \"index size\", i.e. the number\n+    of bytes will be used to represent in/output indices.\n+  * In \"prefix mode\",\n+    - With \"index size\" set to 0, the remaining lowest 5 bits of the first byte\n+      will be interpreted as the number of leading in/outputs to select.\n+    - With \"index size\" set to 1, the remaining lowest 5 bits of the first byte\n+      together with the 8 bits of the next byte will be interpreted as the\n+      number of leading in/outputs to select.\n+  * In \"individual mode\", the remaining lowest 5 bits of the first byte will be\n+    interpreted as `n`, the number of individual in/outputs to select.\n+    - With \"index size\" set to 0, interpret the following `n` individual bytes\n+      as the indices of an individual in/outputs to select.\n+    - With \"index size\" set to 1, interpret the next `n` pairs of two bytes as\n+      the indices of individual in/outputs to select.\n+\n+\n+The function ValidateTxFieldSelector has the following semantics, it\n+effectively checks that the TxFieldSelector value is valid according to\n+above rules:\n+\n+* If there are 0 bytes, it becomes the default of 0xff|0xf6|0xff|0xff; succeed.\n+* If the first byte is exactly 0x00, the Script execution succeeds immediately.\n+  //TODO(stevenroose) is this valuable? it's the only \"exception case\" that\n+  could potentially be hooked for some future upgrade",
      "path": "bip-txhash.mediawiki",
      "position": null,
      "original_position": 130,
      "commit_id": "71073ff9a6873a73cfd752ef3de3ee9ff5e916f1",
      "original_commit_id": "ec98a85061eb9d5bf853470a469ab841f3da7916",
      "in_reply_to_id": 1368182751,
      "user": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@roconnor-blockstream  has previously warned about non-trivial OP_SUCCESS semantics. Though the current SUCCESS semantics are \"any OP_SUCCESS opcode *occurring in the script* means SUCCESS\", but we could have different semantics that allow any opcode internally to trigger \"instant success\", but (1) that are very different semantics and will require entirely different code and (2) it becomes way harder to reason about.\r\n\r\nIIRC, @sanket1729 also noted that such SUCCESS semantics make reasoning about scripts for things like miniscript way harder.\r\n\r\nActually this BIP seems outdated, I have to push a small update. I decided to propose to make the `0x00` special case mean \"ALL\" to make this more ergonomic to use as a sighash together with CSFS. (\"ALL\" isn't valuable as a template check because it contains the prevout scriptPubkey which should contain the hash) Other suggestions welcome.",
      "created_at": "2023-10-23T15:57:30Z",
      "updated_at": "2023-10-23T15:57:30Z",
      "html_url": "https://github.com/bitcoin/bips/pull/1500#discussion_r1368912187",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/1368912187"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/1500"
        }
      },
      "start_line": null,
      "original_start_line": 128,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 130,
      "side": "RIGHT"
    }
  ]
}