{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bips/pulls/2079",
    "id": 3160836345,
    "node_id": "PR_kwDOAN28mc68Zoj5",
    "html_url": "https://github.com/bitcoin/bips/pull/2079",
    "diff_url": "https://github.com/bitcoin/bips/pull/2079.diff",
    "patch_url": "https://github.com/bitcoin/bips/pull/2079.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/2079",
    "commits_url": "https://api.github.com/repos/bitcoin/bips/pulls/2079/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bips/pulls/2079/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bips/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bips/issues/2079/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/dfd4e1b779f4b9e10fc8604d816efbb475430621",
    "number": 2079,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "BIP Draft: Optimal Batch Proofs for Utreexo",
    "user": {
      "login": "EntropyMaBoyy",
      "id": 220534372,
      "node_id": "U_kgDODSUWZA",
      "avatar_url": "https://avatars.githubusercontent.com/u/220534372?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EntropyMaBoyy",
      "html_url": "https://github.com/EntropyMaBoyy",
      "followers_url": "https://api.github.com/users/EntropyMaBoyy/followers",
      "following_url": "https://api.github.com/users/EntropyMaBoyy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/EntropyMaBoyy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/EntropyMaBoyy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/EntropyMaBoyy/subscriptions",
      "organizations_url": "https://api.github.com/users/EntropyMaBoyy/orgs",
      "repos_url": "https://api.github.com/users/EntropyMaBoyy/repos",
      "events_url": "https://api.github.com/users/EntropyMaBoyy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/EntropyMaBoyy/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "This draft proposes a deterministic, canonical, and bandwidth-optimal batch proof format for Utreexo accumulator forests.\r\n\r\nThe proposal defines a canonical ordering of proof elements and a bitmap-guided verification stream that eliminates redundant hashes while preserving full verifiability and non-malleability.\r\n\r\nThe specification includes normative pseudocode, explicit failure modes, and reference test vectors. A Python reference implementation was used to validate all vectors.\r\n\r\nThis proposal does not modify consensus rules and is intended for use by wallets, light clients, and Utreexo-based systems.\r\n\r\nFeedback is welcome, particularly regarding serialization choices and deployment considerations.\r\n",
    "labels": [
      {
        "id": 275845989,
        "node_id": "MDU6TGFiZWwyNzU4NDU5ODk=",
        "url": "https://api.github.com/repos/bitcoin/bips/labels/New%20BIP",
        "name": "New BIP",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2026-01-09T20:37:53Z",
    "updated_at": "2026-01-09T21:41:37Z",
    "mergeable": true,
    "mergeable_state": "clean",
    "merged": false,
    "merge_commit_sha": "a8c0f807f8d0dc25dc61cbd49bdbba8fbbb85ab5",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "EntropyMaBoyy:bip-utreexo-batch-proofs",
      "ref": "bip-utreexo-batch-proofs",
      "sha": "dfd4e1b779f4b9e10fc8604d816efbb475430621",
      "user": {
        "login": "EntropyMaBoyy",
        "id": 220534372,
        "node_id": "U_kgDODSUWZA",
        "avatar_url": "https://avatars.githubusercontent.com/u/220534372?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/EntropyMaBoyy",
        "html_url": "https://github.com/EntropyMaBoyy",
        "followers_url": "https://api.github.com/users/EntropyMaBoyy/followers",
        "following_url": "https://api.github.com/users/EntropyMaBoyy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/EntropyMaBoyy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/EntropyMaBoyy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/EntropyMaBoyy/subscriptions",
        "organizations_url": "https://api.github.com/users/EntropyMaBoyy/orgs",
        "repos_url": "https://api.github.com/users/EntropyMaBoyy/repos",
        "events_url": "https://api.github.com/users/EntropyMaBoyy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/EntropyMaBoyy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1131317511,
        "node_id": "R_kgDOQ26JBw",
        "name": "bips",
        "full_name": "EntropyMaBoyy/bips",
        "owner": {
          "login": "EntropyMaBoyy",
          "id": 220534372,
          "node_id": "U_kgDODSUWZA",
          "avatar_url": "https://avatars.githubusercontent.com/u/220534372?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/EntropyMaBoyy",
          "html_url": "https://github.com/EntropyMaBoyy",
          "followers_url": "https://api.github.com/users/EntropyMaBoyy/followers",
          "following_url": "https://api.github.com/users/EntropyMaBoyy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/EntropyMaBoyy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/EntropyMaBoyy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/EntropyMaBoyy/subscriptions",
          "organizations_url": "https://api.github.com/users/EntropyMaBoyy/orgs",
          "repos_url": "https://api.github.com/users/EntropyMaBoyy/repos",
          "events_url": "https://api.github.com/users/EntropyMaBoyy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/EntropyMaBoyy/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/EntropyMaBoyy/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": true,
        "url": "https://api.github.com/repos/EntropyMaBoyy/bips",
        "archive_url": "https://api.github.com/repos/EntropyMaBoyy/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/EntropyMaBoyy/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/EntropyMaBoyy/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/EntropyMaBoyy/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/EntropyMaBoyy/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/EntropyMaBoyy/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/EntropyMaBoyy/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/EntropyMaBoyy/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/EntropyMaBoyy/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/EntropyMaBoyy/bips/contributors",
        "deployments_url": "https://api.github.com/repos/EntropyMaBoyy/bips/deployments",
        "downloads_url": "https://api.github.com/repos/EntropyMaBoyy/bips/downloads",
        "events_url": "https://api.github.com/repos/EntropyMaBoyy/bips/events",
        "forks_url": "https://api.github.com/repos/EntropyMaBoyy/bips/forks",
        "git_commits_url": "https://api.github.com/repos/EntropyMaBoyy/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/EntropyMaBoyy/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/EntropyMaBoyy/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/EntropyMaBoyy/bips.git",
        "issue_comment_url": "https://api.github.com/repos/EntropyMaBoyy/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/EntropyMaBoyy/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/EntropyMaBoyy/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/EntropyMaBoyy/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/EntropyMaBoyy/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/EntropyMaBoyy/bips/languages",
        "merges_url": "https://api.github.com/repos/EntropyMaBoyy/bips/merges",
        "milestones_url": "https://api.github.com/repos/EntropyMaBoyy/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/EntropyMaBoyy/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/EntropyMaBoyy/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/EntropyMaBoyy/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:EntropyMaBoyy/bips.git",
        "stargazers_url": "https://api.github.com/repos/EntropyMaBoyy/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/EntropyMaBoyy/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/EntropyMaBoyy/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/EntropyMaBoyy/bips/subscription",
        "tags_url": "https://api.github.com/repos/EntropyMaBoyy/bips/tags",
        "teams_url": "https://api.github.com/repos/EntropyMaBoyy/bips/teams",
        "trees_url": "https://api.github.com/repos/EntropyMaBoyy/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/EntropyMaBoyy/bips.git",
        "hooks_url": "https://api.github.com/repos/EntropyMaBoyy/bips/hooks",
        "svn_url": "https://github.com/EntropyMaBoyy/bips",
        "homepage": "",
        "language": "Wikitext",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 18538,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-09T20:24:14Z",
        "created_at": "2026-01-09T20:09:00Z",
        "updated_at": "2026-01-09T20:22:36Z",
        "allow_forking": true
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1a75a3dc13948e6636e293141b3eed6b794c11e5",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 14531737,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDUzMTczNw==",
        "name": "bips",
        "full_name": "bitcoin/bips",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bips",
        "archive_url": "https://api.github.com/repos/bitcoin/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bips/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bips/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bips/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bips/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bips/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bips.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bips/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bips/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bips.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bips/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bips/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bips/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bips.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bips/hooks",
        "svn_url": "https://github.com/bitcoin/bips",
        "homepage": "",
        "language": "Wikitext",
        "forks_count": 5864,
        "stargazers_count": 10483,
        "watchers_count": 10483,
        "size": 18532,
        "default_branch": "master",
        "open_issues_count": 75,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": false,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-09T03:18:06Z",
        "created_at": "2013-11-19T17:18:41Z",
        "updated_at": "2026-01-09T18:27:55Z",
        "allow_forking": true
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bips/pulls/2079"
      }
    },
    "author_association": "NONE",
    "draft": false,
    "additions": 248,
    "deletions": 0,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 0,
    "comments": 1
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAN28mdoAKGRmZDRlMWI3NzlmNGI5ZTEwZmM4NjA0ZDgxNmVmYmI0NzU0MzA2MjE",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/dfd4e1b779f4b9e10fc8604d816efbb475430621",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/dfd4e1b779f4b9e10fc8604d816efbb475430621",
      "tree": {
        "sha": "99c433af8cb5c6591dae74e123c905542d5c71dd",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/99c433af8cb5c6591dae74e123c905542d5c71dd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 99c433af8cb5c6591dae74e123c905542d5c71dd\nparent 1a75a3dc13948e6636e293141b3eed6b794c11e5\nauthor EntropyMaBoyy <ruizlucas2606@gmail.com> 1767990142 -0300\ncommitter GitHub <noreply@github.com> 1767990142 -0300\n\nCreate bip-xxxx.md",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJpYWN+CRC1aQ7uu5UhlAAA1DoQACb2foarFQig3hYs/jlPFu61\n00IWQ1Npc+/wqpIfi1CeADfFILNwaQ+4rvskg7E6MD0wX1/edGU24xXST0zfViiV\nMwFFthmgUWhy0KQi/+9AeC0Ozrs8YZWDonB9/QiVRUfxt0OqqDzj1E0k5PcZhBC9\ngaIjwBcLw6+JeQeDOzkq7eFkieXergdxmtJF5mklXPVPZqOm9sihCzEDCxQfFZ+4\nko62qnkqfpZx2noT6SF/IikgHpVX15WibjVdH9ExCRg0Z45aQ83TuxrcjF9GKG8b\nwfYFAD9NX5sbm/C5UIs6m7VWh78vQ/D9ZbD/2ABFBcu/Y5xBGhLVHBuSwgGZTNpl\npUsXcn6uLOvEfPGBFuR9T3rG8f3a2PgGu9MUvG/kKecIDhoVyqk6lL3YWs1+x+zW\nZZiA/O3tn//xYuzwkUtl6G5Dr6jV1W8c93giRNC9Fhb4ocTwt3JOWlUfhPt5Ya6X\nVO877wj2ZsmU3jmN6U9Vjhkui2aJCvHC5/N0zyJPBzx3nqZVeZOCh/b4Byx4PeNb\nOVSLU5KxxFHCTAEtInKvC3xegBiAu6kfBbQuujsXqBmgP8CBeZ37FS8y7O545WnI\naHw8N9OfMmpXM6RzVDNxEm+VjQHHUwMYbmFbjwvYyBC/FLsS2oDrvk/7MIL6vZvs\nIF6kIzWXM/sBp10TgJLr\n=sl4c\n-----END PGP SIGNATURE-----\n"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/1a75a3dc13948e6636e293141b3eed6b794c11e5",
          "sha": "1a75a3dc13948e6636e293141b3eed6b794c11e5",
          "html_url": "https://github.com/bitcoin/bips/commit/1a75a3dc13948e6636e293141b3eed6b794c11e5"
        }
      ],
      "message": "Create bip-xxxx.md",
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2026-01-09T20:22:22Z"
      },
      "author": {
        "name": "EntropyMaBoyy",
        "email": "ruizlucas2606@gmail.com",
        "date": "2026-01-09T20:22:22Z"
      },
      "sha": "dfd4e1b779f4b9e10fc8604d816efbb475430621"
    },
    {
      "event": "reviewed",
      "id": 3645542856,
      "node_id": "PRR_kwDOAN28mc7ZSpHI",
      "url": null,
      "actor": null,
      "commit_id": "dfd4e1b779f4b9e10fc8604d816efbb475430621",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-09T20:53:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hello Lucas,\r\n\r\nI don’t think I have seen this idea discussed on the Bitcoin mailing list. Could you please provide the link to the thread where your idea was previously discussed?\r\nThe document has various formatting issues, and at first glance, the text doesn’t seem to align well with the Utreexo proposals that are being discussed in https://github.com/bitcoin/bips/pull/1923. Could you please tell us a little more about your process and how your proposal fits into the bigger picture regarding Utreexo?",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/2079#pullrequestreview-3645542856",
      "submitted_at": "2026-01-09T20:53:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bips/pulls/2079"
    },
    {
      "event": "labeled",
      "id": 21955774405,
      "node_id": "LE_lADOAN28mc7iZUYGzwAAAAUcqofF",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/21955774405",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-09T20:54:46Z",
      "label": {
        "name": "New BIP",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 3730662740,
      "node_id": "IC_kwDOAN28mc7eXWVU",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/3730662740",
      "actor": {
        "login": "EntropyMaBoyy",
        "id": 220534372,
        "node_id": "U_kgDODSUWZA",
        "avatar_url": "https://avatars.githubusercontent.com/u/220534372?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/EntropyMaBoyy",
        "html_url": "https://github.com/EntropyMaBoyy",
        "followers_url": "https://api.github.com/users/EntropyMaBoyy/followers",
        "following_url": "https://api.github.com/users/EntropyMaBoyy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/EntropyMaBoyy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/EntropyMaBoyy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/EntropyMaBoyy/subscriptions",
        "organizations_url": "https://api.github.com/users/EntropyMaBoyy/orgs",
        "repos_url": "https://api.github.com/users/EntropyMaBoyy/repos",
        "events_url": "https://api.github.com/users/EntropyMaBoyy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/EntropyMaBoyy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-09T21:41:37Z",
      "updated_at": "2026-01-09T21:41:37Z",
      "author_association": "NONE",
      "body": "Hi Murch,\r\n\r\nThanks for the quick feedback. You're absolutely right to flag the\r\ndisconnect with PR #1923. I've reviewed Calvin Kim's proposal and can now\r\narticulate the technical friction clearly:\r\n\r\nCore Difference: Implicit vs. Explicit Path Encoding\r\n\r\n- #1923 (Utreexo Standard): Uses implicit path derivation. The verifier\r\ncalculates traversal order from leaf indices and `num_leaves`, saving\r\nbandwidth by deducing structure mathematically. This is optimal for full\r\nUtreexo nodes that maintain the accumulator state (`Stump`).\r\n\r\n- My Proposal (BIP-XXXX): Uses an explicit bitmap. The verifier follows a\r\nsimple FIFO stack algorithm with no index calculations. This costs 1 bit\r\nper internal node but eliminates the need for `num_leaves` or tree topology\r\nawareness.\r\n\r\nThe \"Stateless Verifier\" Use Case\r\n\r\nMy target is ultra-light clients that want to verify a single proof without\r\nsyncing the accumulator. For example:\r\n- Hardware wallets receiving a one-off payment proof.\r\n- Cross-protocol bridges where the verifier doesn't track Bitcoin's UTXO\r\nset state.\r\n- Environments where even small indexing logic is a security/complexity\r\nrisk (e.g., firmware).\r\n\r\nIn these cases, transmitting a small bitmap is a deliberate trade-off:\r\nbandwidth for verifier simplicity and zero state.\r\n\r\nProcess Question\r\n\r\nI now realize I may have jumped the gun. I haven't posted to the Bitcoin\r\nmailing list yet—should I initiate discussion there first, even if this is\r\npositioned as a complementary (not competing) format? Or would it be more\r\nproductive to propose this as an optional \"stateless mode\" extension within\r\n#1923's framework?\r\n\r\nCleaned Pseudocode for Reference\r\n\r\nBelow is the final, tested implementation that aligns with the BIP's\r\nsecurity model (SHA256, exact consumption, no malleability):\r\n\r\n```python\r\nimport hashlib\r\nfrom collections import deque\r\nfrom typing import List, Deque\r\n\r\n#\r\n-----------------------------------------------------------------------------\r\n# Constants & Hash Function\r\n#\r\n-----------------------------------------------------------------------------\r\n\r\nBIT_LEFT = 0 # Bitmap 0: H(a || b)\r\nBIT_RIGHT = 1 # Bitmap 1: H(b || a)\r\n\r\ndef sha256(data: bytes) -> bytes:\r\n    \"\"\"Cryptographic hash function as specified by BIP.\"\"\"\r\n    return hashlib.sha256(data).digest()\r\n\r\n#\r\n-----------------------------------------------------------------------------\r\n# Single Tree Proof Verification\r\n#\r\n-----------------------------------------------------------------------------\r\n\r\ndef verify_single_tree_proof(\r\n    leaves: List[bytes],\r\n    hashes: List[bytes],\r\n    bitmap: List[int],\r\n    expected_root: bytes\r\n) -> bool:\r\n    \"\"\"\r\n    Verifies a deterministic batch proof for one Merkle tree.\r\n\r\n    Args:\r\n        leaves: Leaf hashes to prove (target nodes).\r\n        hashes: Canonical sibling hashes (deduplicated, height-sorted).\r\n        bitmap: Explicit L/R composition instructions (0=Left, 1=Right).\r\n        expected_root: Known tree root for validation.\r\n\r\n    Returns:\r\n        True iff proof is valid and consumes all elements exactly.\r\n    \"\"\"\r\n    if not leaves:\r\n        return False\r\n\r\n    # Initialize FIFO queue (not a stack) for sequential composition\r\n    queue: Deque[bytes] = deque(leaves)\r\n    hash_idx = 0\r\n    bit_idx = 0\r\n\r\n    # Reconstruct root until one element remains\r\n    while len(queue) > 1:\r\n        # Exhaustion check: must have exactly enough elements\r\n        if hash_idx >= len(hashes) or bit_idx >= len(bitmap):\r\n            return False\r\n\r\n        a = queue.popleft() # Current accumulated hash\r\n        b = hashes[hash_idx] # Next sibling hash\r\n\r\n        # Compose based on explicit bitmap direction\r\n        if bitmap[bit_idx] == BIT_LEFT:\r\n            c = sha256(a + b)\r\n        else: # BIT_RIGHT\r\n            c = sha256(b + a)\r\n\r\n        queue.append(c)\r\n        hash_idx += 1\r\n        bit_idx += 1\r\n\r\n    # Exact consumption is mandatory for non-malleability\r\n    if hash_idx != len(hashes) or bit_idx != len(bitmap):\r\n        return False\r\n\r\n    # Final root equality check\r\n    return queue[0] == expected_root\r\n\r\n#\r\n-----------------------------------------------------------------------------\r\n# Forest Batch Proof Verification\r\n#\r\n-----------------------------------------------------------------------------\r\n\r\nclass TreeProof:\r\n    \"\"\"Container for per-tree proof elements.\"\"\"\r\n    def __init__(self, leaves, hashes, bitmap, expected_root):\r\n        self.leaves = leaves\r\n        self.hashes = hashes\r\n        self.bitmap = bitmap\r\n        self.expected_root = expected_root\r\n\r\ndef verify_forest_batch_proof(forest_proofs: List[TreeProof]) -> bool:\r\n    \"\"\"\r\n    Verifies independence of proofs across a Utreexo forest.\r\n    Each tree is validated in isolation; no cross-tree replay allowed.\r\n    \"\"\"\r\n    for tree_proof in forest_proofs:\r\n        if not verify_single_tree_proof(\r\n            tree_proof.leaves,\r\n            tree_proof.hashes,\r\n            tree_proof.bitmap,\r\n            tree_proof.expected_root\r\n        ):\r\n            return False\r\n    return True\r\n```\r\n\r\nEl vie, 9 de ene de 2026, 5:54 p. m., murchandamus ***@***.***>\r\nescribió:\r\n\r\n> ***@***.**** commented on this pull request.\r\n>\r\n> Hello Lucas,\r\n>\r\n> I don’t think I have seen this idea discussed on the Bitcoin mailing list.\r\n> Could you please provide the link to the thread where your idea was\r\n> previously discussed?\r\n> The document has various formatting issues, and at first glance, the text\r\n> doesn’t seem to align well with the Utreexo proposals that are being\r\n> discussed in #1923 <https://github.com/bitcoin/bips/pull/1923>. Could you\r\n> please tell us a little more about your process and how your proposal fits\r\n> into the bigger picture regarding Utreexo?\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/bitcoin/bips/pull/2079#pullrequestreview-3645542856>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/BUSRMZC2XA3O3C3XR7ZE2HT4GAIPLAVCNFSM6AAAAACRHFG7NOVHI2DSMVQWIX3LMV43YUDVNRWFEZLROVSXG5CSMV3GSZLXHMZTMNBVGU2DEOBVGY>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n",
      "user": {
        "login": "EntropyMaBoyy",
        "id": 220534372,
        "node_id": "U_kgDODSUWZA",
        "avatar_url": "https://avatars.githubusercontent.com/u/220534372?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/EntropyMaBoyy",
        "html_url": "https://github.com/EntropyMaBoyy",
        "followers_url": "https://api.github.com/users/EntropyMaBoyy/followers",
        "following_url": "https://api.github.com/users/EntropyMaBoyy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/EntropyMaBoyy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/EntropyMaBoyy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/EntropyMaBoyy/subscriptions",
        "organizations_url": "https://api.github.com/users/EntropyMaBoyy/orgs",
        "repos_url": "https://api.github.com/users/EntropyMaBoyy/repos",
        "events_url": "https://api.github.com/users/EntropyMaBoyy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/EntropyMaBoyy/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bips/pull/2079#issuecomment-3730662740",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/2079"
    }
  ],
  "comments": []
}