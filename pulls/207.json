{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bips/pulls/207",
    "id": 45848267,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDU4NDgyNjc=",
    "html_url": "https://github.com/bitcoin/bips/pull/207",
    "diff_url": "https://github.com/bitcoin/bips/pull/207.diff",
    "patch_url": "https://github.com/bitcoin/bips/pull/207.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/207",
    "commits_url": "https://api.github.com/repos/bitcoin/bips/pulls/207/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bips/pulls/207/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bips/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bips/issues/207/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/602e72125637ed90b75009e10fb5ba8a9cab3198",
    "number": 207,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "versionbits: the BIP.",
    "user": {
      "login": "rustyrussell",
      "id": 775844,
      "node_id": "MDQ6VXNlcjc3NTg0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rustyrussell",
      "html_url": "https://github.com/rustyrussell",
      "followers_url": "https://api.github.com/users/rustyrussell/followers",
      "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
      "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
      "repos_url": "https://api.github.com/users/rustyrussell/repos",
      "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-September/010998.html\n\nSigned-off-by: Rusty Russell rusty@rustcorp.com.au\n",
    "labels": [],
    "created_at": "2015-09-24T00:37:59Z",
    "updated_at": "2015-09-27T06:43:16Z",
    "closed_at": "2015-09-27T06:43:16Z",
    "mergeable_state": "unknown",
    "merged_at": "2015-09-27T06:43:16Z",
    "merge_commit_sha": "4f43a1df61c2cdfe49635d0e9a63894ddd2e3606",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "rustyrussell:master",
      "ref": "master",
      "sha": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 43034589,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MzAzNDU4OQ==",
        "name": "bips",
        "full_name": "rustyrussell/bips",
        "owner": {
          "login": "rustyrussell",
          "id": 775844,
          "node_id": "MDQ6VXNlcjc3NTg0NA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/rustyrussell",
          "html_url": "https://github.com/rustyrussell",
          "followers_url": "https://api.github.com/users/rustyrussell/followers",
          "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
          "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
          "repos_url": "https://api.github.com/users/rustyrussell/repos",
          "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/rustyrussell/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": true,
        "url": "https://api.github.com/repos/rustyrussell/bips",
        "archive_url": "https://api.github.com/repos/rustyrussell/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/rustyrussell/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/rustyrussell/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/rustyrussell/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/rustyrussell/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/rustyrussell/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/rustyrussell/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/rustyrussell/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/rustyrussell/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/rustyrussell/bips/contributors",
        "deployments_url": "https://api.github.com/repos/rustyrussell/bips/deployments",
        "downloads_url": "https://api.github.com/repos/rustyrussell/bips/downloads",
        "events_url": "https://api.github.com/repos/rustyrussell/bips/events",
        "forks_url": "https://api.github.com/repos/rustyrussell/bips/forks",
        "git_commits_url": "https://api.github.com/repos/rustyrussell/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/rustyrussell/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/rustyrussell/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/rustyrussell/bips.git",
        "issue_comment_url": "https://api.github.com/repos/rustyrussell/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/rustyrussell/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/rustyrussell/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/rustyrussell/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/rustyrussell/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/rustyrussell/bips/languages",
        "merges_url": "https://api.github.com/repos/rustyrussell/bips/merges",
        "milestones_url": "https://api.github.com/repos/rustyrussell/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/rustyrussell/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/rustyrussell/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/rustyrussell/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:rustyrussell/bips.git",
        "stargazers_url": "https://api.github.com/repos/rustyrussell/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/rustyrussell/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/rustyrussell/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/rustyrussell/bips/subscription",
        "tags_url": "https://api.github.com/repos/rustyrussell/bips/tags",
        "teams_url": "https://api.github.com/repos/rustyrussell/bips/teams",
        "trees_url": "https://api.github.com/repos/rustyrussell/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/rustyrussell/bips.git",
        "hooks_url": "https://api.github.com/repos/rustyrussell/bips/hooks",
        "svn_url": "https://github.com/rustyrussell/bips",
        "homepage": "bitcoin.org",
        "language": "Python",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 8974,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2020-07-28T06:00:15Z",
        "created_at": "2015-09-24T00:19:24Z",
        "updated_at": "2016-01-11T09:56:19Z"
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e413cd49dec89e2881dd4a91e2f34e7e29382502",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 14531737,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDUzMTczNw==",
        "name": "bips",
        "full_name": "bitcoin/bips",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bips",
        "description": "Bitcoin Improvement Proposals",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bips",
        "archive_url": "https://api.github.com/repos/bitcoin/bips/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bips/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bips/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bips/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bips/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bips/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bips/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bips/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bips/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bips/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bips/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bips/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bips/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bips/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bips/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bips/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bips/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bips.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bips/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bips/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bips/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bips/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bips/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bips/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bips/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bips/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bips/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bips/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bips/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bips.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bips/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bips/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bips/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bips/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bips/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bips/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bips/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bips.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bips/hooks",
        "svn_url": "https://github.com/bitcoin/bips",
        "homepage": "",
        "language": "Wikitext",
        "forks_count": 5178,
        "stargazers_count": 8116,
        "watchers_count": 8116,
        "size": 13694,
        "default_branch": "master",
        "open_issues_count": 115,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": false,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-08T12:03:37Z",
        "created_at": "2013-11-19T17:18:41Z",
        "updated_at": "2023-06-12T10:53:19Z"
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 167,
    "deletions": 0,
    "changed_files": 1,
    "commits": 4,
    "review_comments": 8,
    "comments": 2
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTQ1MzE3Mzc6YmU4NjQ0NGI4ODI2YTZkY2I0NDYwMmUyNGVkMWQxMzE2MjA0ZjJhNg==",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/be86444b8826a6dcb44602e24ed1d1316204f2a6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/be86444b8826a6dcb44602e24ed1d1316204f2a6",
      "tree": {
        "sha": "c0b9a080cbd7b9019eb69c78089bc7558c66e0a5",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/c0b9a080cbd7b9019eb69c78089bc7558c66e0a5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/e413cd49dec89e2881dd4a91e2f34e7e29382502",
          "sha": "e413cd49dec89e2881dd4a91e2f34e7e29382502",
          "html_url": "https://github.com/bitcoin/bips/commit/e413cd49dec89e2881dd4a91e2f34e7e29382502"
        }
      ],
      "message": "versionbits: the BIP.\n\nSigned-off-by: Rusty Russell <rusty@rustcorp.com.au>",
      "committer": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-24T00:32:51Z"
      },
      "author": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-24T00:32:51Z"
      },
      "sha": "be86444b8826a6dcb44602e24ed1d1316204f2a6"
    },
    {
      "event": "commented",
      "id": 142867561,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mjg2NzU2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/142867561",
      "actor": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-24T09:30:32Z",
      "updated_at": "2015-09-24T09:30:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Needs copyright attribution.\n",
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/207#issuecomment-142867561",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/207"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzI1Njk6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTQ1MzE3Mzc6ZmVjZmU1YmZhYzFkOGE4NWI2ZWU5NDE1MjAxNTczZjg5MmI0MjFlMg==",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/fecfe5bfac1d8a85b6ee9415201573f892b421e2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/fecfe5bfac1d8a85b6ee9415201573f892b421e2",
      "tree": {
        "sha": "1d5bbc15089908226fe0dedd26ee39037a4d7760",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/1d5bbc15089908226fe0dedd26ee39037a4d7760"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/be86444b8826a6dcb44602e24ed1d1316204f2a6",
          "sha": "be86444b8826a6dcb44602e24ed1d1316204f2a6",
          "html_url": "https://github.com/bitcoin/bips/commit/be86444b8826a6dcb44602e24ed1d1316204f2a6"
        }
      ],
      "message": "Formatting feedback & copyright from btcdrak.\n\nSigned-off-by: Rusty Russell <rusty@rustcorp.com.au>",
      "committer": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-25T01:27:56Z"
      },
      "author": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-25T01:27:56Z"
      },
      "sha": "fecfe5bfac1d8a85b6ee9415201573f892b421e2"
    },
    {
      "event": "commented",
      "id": 143100168,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE0MzEwMDE2OA==",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/comments/143100168",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-25T01:52:14Z",
      "updated_at": "2015-09-25T01:52:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "BIP 009\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bips/pull/207#issuecomment-143100168",
      "issue_url": "https://api.github.com/repos/bitcoin/bips/issues/207"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTQ1MzE3Mzc6ZjI3OGMwMmNiY2MxOGIyMGQ3ZWIxYzY4NjUzZTQzNjhmMzg1MmY1Yw==",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "tree": {
        "sha": "38dabe889d44dd97bfbc9816f543074f94bff9ad",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/38dabe889d44dd97bfbc9816f543074f94bff9ad"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/fecfe5bfac1d8a85b6ee9415201573f892b421e2",
          "sha": "fecfe5bfac1d8a85b6ee9415201573f892b421e2",
          "html_url": "https://github.com/bitcoin/bips/commit/fecfe5bfac1d8a85b6ee9415201573f892b421e2"
        }
      ],
      "message": "Bip number assigned: 9.\n\nSigned-off-by: Rusty Russell <rusty@rustcorp.com.au>",
      "committer": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-25T02:46:11Z"
      },
      "author": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-25T02:46:11Z"
      },
      "sha": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzI1NzE6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzI1NzM6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzI1NzY6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzI1Nzg6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTQ1MzE3Mzc6NjAyZTcyMTI1NjM3ZWQ5MGI3NTAwOWUxMGZiNWJhOGE5Y2FiMzE5OA==",
      "url": "https://api.github.com/repos/bitcoin/bips/git/commits/602e72125637ed90b75009e10fb5ba8a9cab3198",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bips/commit/602e72125637ed90b75009e10fb5ba8a9cab3198",
      "tree": {
        "sha": "5897e9335cd3de6b3df7bfb4186006b22b3ff57e",
        "url": "https://api.github.com/repos/bitcoin/bips/git/trees/5897e9335cd3de6b3df7bfb4186006b22b3ff57e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bips/git/commits/f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
          "sha": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
          "html_url": "https://github.com/bitcoin/bips/commit/f278c02cbcc18b20d7eb1c68653e4368f3852f5c"
        }
      ],
      "message": "More btcdrak feedback.\n\nSigned-off-by: Rusty Russell <rusty@rustcorp.com.au>",
      "committer": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-27T05:52:45Z"
      },
      "author": {
        "name": "Rusty Russell",
        "email": "rusty@rustcorp.com.au",
        "date": "2015-09-27T05:52:45Z"
      },
      "sha": "602e72125637ed90b75009e10fb5ba8a9cab3198"
    },
    {
      "event": "referenced",
      "id": 420088444,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyMDA4ODQ0NA==",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/420088444",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0299e466e37b77a5524d10593477677397b3ca24",
      "commit_url": "https://api.github.com/repos/bitcoin/bips/commits/0299e466e37b77a5524d10593477677397b3ca24",
      "created_at": "2015-09-27T06:43:16Z"
    },
    {
      "event": "merged",
      "id": 420088445,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDIwMDg4NDQ1",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/420088445",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0299e466e37b77a5524d10593477677397b3ca24",
      "commit_url": "https://api.github.com/repos/bitcoin/bips/commits/0299e466e37b77a5524d10593477677397b3ca24",
      "created_at": "2015-09-27T06:43:16Z"
    },
    {
      "event": "closed",
      "id": 420088448,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDIwMDg4NDQ4",
      "url": "https://api.github.com/repos/bitcoin/bips/issues/events/420088448",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-27T06:43:16Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40301878",
      "pull_request_review_id": null,
      "id": 40301878,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzAxODc4",
      "diff_hunk": "@@ -0,0 +1,162 @@\n+  BIP: ??\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.\n+\n+==Motivation==\n+\n+BIP 34 introduced a mechanism for doing soft-forking changes without predefined flag timestamp (or flag block height), instead relying on measuring miner support indicated by a higher version number in block headers. As it relies on comparing version numbers as integers however, it only supports one single change being rolled out at once, requiring coordination between proposals, and does not allow for permanent rejection: as long as one soft fork is not fully rolled out, no future one can be scheduled.\n+\n+In addition, BIP 34 made the integer comparison (nVersion >= 2) a consensus rule after its 95% threshold was reached, removing 2<sup>31</sup>+2 values from the set of valid version numbers (all negative numbers, as nVersion is interpreted as a signed integer, as well as 0 and 1). This indicates another downside this approach: every upgrade permanently restricts the set of allowed nVersion field values. This approach was later reused in BIP 66, which further removed nVersion = 2 as valid option. As will be shown further, this is unnecessary. \n+\n+==Specification==\n+\n+===Mechanism===\n+\n+'''Bit flags'''\n+We are permitting several independent soft forks to be deployed in parallel. For each, a bit B is chosen from the set {0,1,2,...,28}, which is not currently in use for any other ongoing soft fork. Miners signal intent to enforce the new rules associated with the proposed soft fork by setting bit 1<sup>B</sup> in nVersion to 1 in their blocks.\n+\n+'''High bits'''\n+The highest 3 bits are set to 001, so the range of actually possible nVersion values is [0x20000000...0x3FFFFFFF], inclusive. This leaves two future upgrades for different mechanisms (top bits 010 and 011), while complying to the constraints set by BIP34 and BIP66. Having more than 29 available bits for parallel soft forks does not add anything anyway, as the (nVersion >= 3) requirement already makes that impossible.\n+\n+'''States'''\n+With every softfork proposal we associate a state BState, which begins\n+at ''defined'', and can be ''locked-in'', ''activated'',\n+or ''failed''.  Transitions are considered after each\n+retarget period.\n+\n+'''Soft Fork Support'''\n+Software which supports the change should begin by setting B in all blocks\n+mined until it is resolved.\n+\n+ <nowiki>if (BState == defined) {\n+     SetBInBlock();\n+ }\n+\n+'''Success: Lock-in Threshold'''\n+If bit B is set in 1916 (1512 on testnet) or\n+more of the 2016 blocks within a retarget period, it is considered\n+''locked-in''.  Miners should stop setting bit B.\n+\n+ <nowiki>if (NextBlockHeight % 2016 == 0) {\n+    if (BState == defined && Previous2016BlocksCountB() >= 1916) {\n+        BState = locked-in;\n+        BActiveHeight = NextBlockHeight + 2016;\n+    }\n+ }\n+\n+'''Success: Activation Delay'''\n+The consensus rules related to ''locked-in'' soft fork will be enforced in\n+the second retarget period; ie. there is a one retarget period in\n+which the remaining 5% can upgrade.  At the that activation block and\n+after, the bit B may be reused for a different soft fork.\n+\n+ <nowiki>if (BState == locked-in && NextBlockHeight == BActiveHeight) {\n+    BState = activated;\n+    ApplyRulesForBFromNextBlock();\n+    /* B can be reused, immediately */\n+ }\n+\n+'''Failure: Timeout'''\n+A soft fork proposal should include a ''timeout''.  This is measured\n+as the beginning of a calendar year as per this table (suggested\n+three years from drafting the soft fork proposal):\n+\n+{|\n+! Timeout Year\n+! >= Seconds\n+! Timeout Year\n+! >= Seconds\n+|-\n+|2018\n+|1514764800\n+|2026\n+|1767225600\n+|-\n+|2019\n+|1546300800\n+|2027\n+|1798761600\n+|-\n+|2020\n+|1577836800\n+|2028\n+|1830297600\n+|-\n+|2021\n+|1609459200\n+|2029\n+|1861920000\n+|-\n+|2022\n+|1640995200\n+|2030\n+|1893456000\n+|-\n+|2023\n+|1672531200\n+|2031\n+|1924992000\n+|-\n+|2024\n+|1704067200\n+|2032\n+|1956528000\n+|-\n+|2025\n+|1735689600\n+|2033\n+|1988150400\n+|}\n+\n+If the soft fork still not ''locked-in'' and the\n+GetMedianTimePast() of a block following a retarget period is at or\n+past this timeout, miners should cease setting this bit.\n+\n+ <nowiki>if (NextBlockHeight % 2016 == 0) {",
      "path": "bip-wuille-todd-maxwell-russell.mediawiki",
      "position": null,
      "original_position": 123,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "be86444b8826a6dcb44602e24ed1d1316204f2a6",
      "in_reply_to_id": null,
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You dont need this tag if you indent the code block 4 spaces in\n",
      "created_at": "2015-09-24T09:47:24Z",
      "updated_at": "2015-09-27T05:53:00Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40301878",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40301878"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40412153",
      "pull_request_review_id": null,
      "id": 40412153,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEyMTUz",
      "diff_hunk": "@@ -0,0 +1,167 @@\n+<pre>\n+  BIP: 9\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.",
      "path": "bip-0009.mediawiki",
      "position": null,
      "original_position": 12,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "in_reply_to_id": null,
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel\n\nallowing multiple backward-compatible changes (further called called \"soft forks\") to be deployed in parallel\n\ns/being/to be/\n",
      "created_at": "2015-09-25T09:11:05Z",
      "updated_at": "2015-09-27T05:53:00Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40412153",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40412153"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40412503",
      "pull_request_review_id": null,
      "id": 40412503,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEyNTAz",
      "diff_hunk": "@@ -0,0 +1,167 @@\n+<pre>\n+  BIP: 9\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.\n+\n+==Motivation==\n+\n+BIP 34 introduced a mechanism for doing soft-forking changes without predefined flag timestamp (or flag block height), instead relying on measuring miner support indicated by a higher version number in block headers. As it relies on comparing version numbers as integers however, it only supports one single change being rolled out at once, requiring coordination between proposals, and does not allow for permanent rejection: as long as one soft fork is not fully rolled out, no future one can be scheduled.",
      "path": "bip-0009.mediawiki",
      "position": null,
      "original_position": 16,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "in_reply_to_id": null,
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/without predefined flag/without a predefined flag/\n",
      "created_at": "2015-09-25T09:16:23Z",
      "updated_at": "2015-09-27T05:53:00Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40412503",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40412503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40412796",
      "pull_request_review_id": null,
      "id": 40412796,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEyNzk2",
      "diff_hunk": "@@ -0,0 +1,167 @@\n+<pre>\n+  BIP: 9\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.\n+\n+==Motivation==\n+\n+BIP 34 introduced a mechanism for doing soft-forking changes without predefined flag timestamp (or flag block height), instead relying on measuring miner support indicated by a higher version number in block headers. As it relies on comparing version numbers as integers however, it only supports one single change being rolled out at once, requiring coordination between proposals, and does not allow for permanent rejection: as long as one soft fork is not fully rolled out, no future one can be scheduled.\n+\n+In addition, BIP 34 made the integer comparison (nVersion >= 2) a consensus rule after its 95% threshold was reached, removing 2<sup>31</sup>+2 values from the set of valid version numbers (all negative numbers, as nVersion is interpreted as a signed integer, as well as 0 and 1). This indicates another downside this approach: every upgrade permanently restricts the set of allowed nVersion field values. This approach was later reused in BIP 66, which further removed nVersion = 2 as valid option. As will be shown further, this is unnecessary. \n+\n+==Specification==\n+\n+===Mechanism===\n+\n+'''Bit flags'''\n+We are permitting several independent soft forks to be deployed in parallel. For each, a bit B is chosen from the set {0,1,2,...,28}, which is not currently in use for any other ongoing soft fork. Miners signal intent to enforce the new rules associated with the proposed soft fork by setting bit 1<sup>B</sup> in nVersion to 1 in their blocks.\n+\n+'''High bits'''\n+The highest 3 bits are set to 001, so the range of actually possible nVersion values is [0x20000000...0x3FFFFFFF], inclusive. This leaves two future upgrades for different mechanisms (top bits 010 and 011), while complying to the constraints set by BIP34 and BIP66. Having more than 29 available bits for parallel soft forks does not add anything anyway, as the (nVersion >= 3) requirement already makes that impossible.\n+\n+'''States'''\n+With every softfork proposal we associate a state BState, which begins\n+at ''defined'', and can be ''locked-in'', ''activated'',\n+or ''failed''.  Transitions are considered after each\n+retarget period.\n+\n+'''Soft Fork Support'''\n+Software which supports the change should begin by setting B in all blocks\n+mined until it is resolved.\n+\n+    if (BState == defined) {\n+        SetBInBlock();\n+    }\n+\n+'''Success: Lock-in Threshold'''\n+If bit B is set in 1916 (1512 on testnet) or\n+more of the 2016 blocks within a retarget period, it is considered\n+''locked-in''.  Miners should stop setting bit B.\n+\n+    if (NextBlockHeight % 2016 == 0) {\n+        if (BState == defined && Previous2016BlocksCountB() >= 1916) {\n+            BState = locked-in;\n+            BActiveHeight = NextBlockHeight + 2016;\n+        }\n+    }\n+\n+'''Success: Activation Delay'''\n+The consensus rules related to ''locked-in'' soft fork will be enforced in\n+the second retarget period; ie. there is a one retarget period in\n+which the remaining 5% can upgrade.  At the that activation block and\n+after, the bit B may be reused for a different soft fork.\n+\n+    if (BState == locked-in && NextBlockHeight == BActiveHeight) {\n+        BState = activated;\n+        ApplyRulesForBFromNextBlock();\n+        /* B can be reused, immediately */\n+     }\n+\n+'''Failure: Timeout'''\n+A soft fork proposal should include a ''timeout''.  This is measured\n+as the beginning of a calendar year as per this table (suggested\n+three years from drafting the soft fork proposal):\n+\n+{|\n+! Timeout Year\n+! >= Seconds\n+! Timeout Year\n+! >= Seconds\n+|-\n+|2018\n+|1514764800\n+|2026\n+|1767225600\n+|-\n+|2019\n+|1546300800\n+|2027\n+|1798761600\n+|-\n+|2020\n+|1577836800\n+|2028\n+|1830297600\n+|-\n+|2021\n+|1609459200\n+|2029\n+|1861920000\n+|-\n+|2022\n+|1640995200\n+|2030\n+|1893456000\n+|-\n+|2023\n+|1672531200\n+|2031\n+|1924992000\n+|-\n+|2024\n+|1704067200\n+|2032\n+|1956528000\n+|-\n+|2025\n+|1735689600\n+|2033\n+|1988150400\n+|}\n+\n+If the soft fork still not ''locked-in'' and the\n+GetMedianTimePast() of a block following a retarget period is at or\n+past this timeout, miners should cease setting this bit.\n+\n+    if (NextBlockHeight % 2016 == 0) {\n+        if (BState == defined && GetMedianTimePast(nextblock) >= BFinalYear) {\n+             BState = failed;\n+        }\n+    }\n+\n+After another retarget period (to allow detection of buggy miners),\n+the bit may be reused.\n+\n+'''Warning system'''\n+To support upgrade warnings, an extra \"unknown upgrade\" is tracked, using the \"implicit bit\" mask = (block.nVersion & ~expectedVersion) != 0. Mask will be non-zero whenever an unexpected bit is set in nVersion.  Whenever lock-in for the unknown upgrade is detected, the software should warn loudly about the upcoming soft fork.  It should warn even more loudly after the next retarget period.\n+\n+'''Forks'''\n+It should be noted that the states are maintained along block chain\n+branches, but may need recomputation when a reorganization happens.\n+\n+===Support for future changes===\n+\n+The mechanism described above is very generic, and variations are possible for future soft forks. Here are some ideas that can be taken into account.\n+\n+'''Modified thresholds'''\n+The 95% threshold (based on in BIP 34) does not have to be maintained for eternity, but changes should take the effect on the warning system into account. In particular, having a lock-in threshold that is incompatible with the one used for the warning system may have long-term effects, as the warning system cannot rely on a permanently detectable condition anymore.\n+\n+'''Conflicting soft forks'''\n+At some point, two mutually exclusive soft forks may be proposed. The naive way to deal with this is to never create software that implements both, but that is a making a bet that at least one side is guaranteed to lose. Better would be to encode \"soft fork X cannot be locked-in\" as consensus rule for the conflicting soft fork - allowing software that supports both, but can never trigger conflicting changes.",
      "path": "bip-0009.mediawiki",
      "position": null,
      "original_position": 148,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "in_reply_to_id": null,
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/is a making a bet/is making a bet/\n",
      "created_at": "2015-09-25T09:20:34Z",
      "updated_at": "2015-09-27T05:53:00Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40412796",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40412796"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40413032",
      "pull_request_review_id": null,
      "id": 40413032,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzMDMy",
      "diff_hunk": "@@ -0,0 +1,167 @@\n+<pre>\n+  BIP: 9\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.\n+\n+==Motivation==\n+\n+BIP 34 introduced a mechanism for doing soft-forking changes without predefined flag timestamp (or flag block height), instead relying on measuring miner support indicated by a higher version number in block headers. As it relies on comparing version numbers as integers however, it only supports one single change being rolled out at once, requiring coordination between proposals, and does not allow for permanent rejection: as long as one soft fork is not fully rolled out, no future one can be scheduled.\n+\n+In addition, BIP 34 made the integer comparison (nVersion >= 2) a consensus rule after its 95% threshold was reached, removing 2<sup>31</sup>+2 values from the set of valid version numbers (all negative numbers, as nVersion is interpreted as a signed integer, as well as 0 and 1). This indicates another downside this approach: every upgrade permanently restricts the set of allowed nVersion field values. This approach was later reused in BIP 66, which further removed nVersion = 2 as valid option. As will be shown further, this is unnecessary. \n+\n+==Specification==\n+\n+===Mechanism===\n+\n+'''Bit flags'''\n+We are permitting several independent soft forks to be deployed in parallel. For each, a bit B is chosen from the set {0,1,2,...,28}, which is not currently in use for any other ongoing soft fork. Miners signal intent to enforce the new rules associated with the proposed soft fork by setting bit 1<sup>B</sup> in nVersion to 1 in their blocks.\n+\n+'''High bits'''\n+The highest 3 bits are set to 001, so the range of actually possible nVersion values is [0x20000000...0x3FFFFFFF], inclusive. This leaves two future upgrades for different mechanisms (top bits 010 and 011), while complying to the constraints set by BIP34 and BIP66. Having more than 29 available bits for parallel soft forks does not add anything anyway, as the (nVersion >= 3) requirement already makes that impossible.\n+\n+'''States'''\n+With every softfork proposal we associate a state BState, which begins\n+at ''defined'', and can be ''locked-in'', ''activated'',\n+or ''failed''.  Transitions are considered after each\n+retarget period.\n+\n+'''Soft Fork Support'''\n+Software which supports the change should begin by setting B in all blocks\n+mined until it is resolved.\n+\n+    if (BState == defined) {\n+        SetBInBlock();\n+    }\n+\n+'''Success: Lock-in Threshold'''\n+If bit B is set in 1916 (1512 on testnet) or\n+more of the 2016 blocks within a retarget period, it is considered\n+''locked-in''.  Miners should stop setting bit B.\n+\n+    if (NextBlockHeight % 2016 == 0) {\n+        if (BState == defined && Previous2016BlocksCountB() >= 1916) {\n+            BState = locked-in;\n+            BActiveHeight = NextBlockHeight + 2016;\n+        }\n+    }\n+\n+'''Success: Activation Delay'''\n+The consensus rules related to ''locked-in'' soft fork will be enforced in\n+the second retarget period; ie. there is a one retarget period in\n+which the remaining 5% can upgrade.  At the that activation block and\n+after, the bit B may be reused for a different soft fork.\n+\n+    if (BState == locked-in && NextBlockHeight == BActiveHeight) {\n+        BState = activated;\n+        ApplyRulesForBFromNextBlock();\n+        /* B can be reused, immediately */\n+     }\n+\n+'''Failure: Timeout'''\n+A soft fork proposal should include a ''timeout''.  This is measured\n+as the beginning of a calendar year as per this table (suggested\n+three years from drafting the soft fork proposal):",
      "path": "bip-0009.mediawiki",
      "position": null,
      "original_position": 71,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "in_reply_to_id": null,
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "three years seems a bit long. 2 maybe, but not more imo. Were there any calculations or data this was based on?\n",
      "created_at": "2015-09-25T09:23:53Z",
      "updated_at": "2015-09-27T05:53:00Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40413032",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40413032"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40502044",
      "pull_request_review_id": null,
      "id": 40502044,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAyMDQ0",
      "diff_hunk": "@@ -0,0 +1,167 @@\n+<pre>\n+  BIP: 9\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.",
      "path": "bip-0009.mediawiki",
      "position": null,
      "original_position": 12,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "in_reply_to_id": null,
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "฿tcDrak notifications@github.com writes:\n\n> > @@ -0,0 +1,167 @@\n> > +<pre>\n> > -  BIP: 9\n> > -  Title: Version bits with timeout and delay\n> > -  Author: Pieter Wuille pieter.wuille@gmail.com, Peter Todd pete@petertodd.org, Greg Maxwell greg@xiph.org, Rusty Russell rusty@rustcorp.com.au\n> > -  Status: Draft\n> > -  Type: Informational Track\n> > -  Created: 2015-10-04\n> >   +</pre>\n> >   +\n> >   +==Abstract==\n> >   +\n> >   +This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.\n> > \n> > allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel\n> \n> allowing multiple backward-compatible changes (further called called \"soft forks\") to be deployed in parallel\n> \n> s/being/to be/\n\nAnd s/called called/called/ :)\n\nThanks,\nRusty.\n",
      "created_at": "2015-09-27T06:34:24Z",
      "updated_at": "2015-09-27T06:34:24Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40502044",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40502044"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40502045",
      "pull_request_review_id": null,
      "id": 40502045,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAyMDQ1",
      "diff_hunk": "@@ -0,0 +1,167 @@\n+<pre>\n+  BIP: 9\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.\n+\n+==Motivation==\n+\n+BIP 34 introduced a mechanism for doing soft-forking changes without predefined flag timestamp (or flag block height), instead relying on measuring miner support indicated by a higher version number in block headers. As it relies on comparing version numbers as integers however, it only supports one single change being rolled out at once, requiring coordination between proposals, and does not allow for permanent rejection: as long as one soft fork is not fully rolled out, no future one can be scheduled.",
      "path": "bip-0009.mediawiki",
      "position": null,
      "original_position": 16,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "in_reply_to_id": null,
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "฿tcDrak notifications@github.com writes:\n\n> s/without predefined flag/without a predefined flag/\n\nApplied, with the others.  Thanks.\n\nCheers,\nRusty.\n",
      "created_at": "2015-09-27T06:34:24Z",
      "updated_at": "2015-09-27T06:34:24Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40502045",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40502045"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40502046",
      "pull_request_review_id": null,
      "id": 40502046,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAyMDQ2",
      "diff_hunk": "@@ -0,0 +1,167 @@\n+<pre>\n+  BIP: 9\n+  Title: Version bits with timeout and delay\n+  Author: Pieter Wuille <pieter.wuille@gmail.com>, Peter Todd <pete@petertodd.org>, Greg Maxwell <greg@xiph.org>, Rusty Russell <rusty@rustcorp.com.au>\n+  Status: Draft\n+  Type: Informational Track\n+  Created: 2015-10-04\n+</pre>\n+\n+==Abstract==\n+\n+This document specifies a proposed change to the semantics of the 'version' field in Bitcoin blocks, allowing multiple backward-compatible changes (further called called \"soft forks\") being deployed in parallel. It relies on interpreting the version field as a bit vector, where each bit can be used to track an independent change. These are tallied each retarget period. Once the consensus change succeeds or times out, there is a \"fallow\" pause after which the bit can be reused for later changes.\n+\n+==Motivation==\n+\n+BIP 34 introduced a mechanism for doing soft-forking changes without predefined flag timestamp (or flag block height), instead relying on measuring miner support indicated by a higher version number in block headers. As it relies on comparing version numbers as integers however, it only supports one single change being rolled out at once, requiring coordination between proposals, and does not allow for permanent rejection: as long as one soft fork is not fully rolled out, no future one can be scheduled.\n+\n+In addition, BIP 34 made the integer comparison (nVersion >= 2) a consensus rule after its 95% threshold was reached, removing 2<sup>31</sup>+2 values from the set of valid version numbers (all negative numbers, as nVersion is interpreted as a signed integer, as well as 0 and 1). This indicates another downside this approach: every upgrade permanently restricts the set of allowed nVersion field values. This approach was later reused in BIP 66, which further removed nVersion = 2 as valid option. As will be shown further, this is unnecessary. \n+\n+==Specification==\n+\n+===Mechanism===\n+\n+'''Bit flags'''\n+We are permitting several independent soft forks to be deployed in parallel. For each, a bit B is chosen from the set {0,1,2,...,28}, which is not currently in use for any other ongoing soft fork. Miners signal intent to enforce the new rules associated with the proposed soft fork by setting bit 1<sup>B</sup> in nVersion to 1 in their blocks.\n+\n+'''High bits'''\n+The highest 3 bits are set to 001, so the range of actually possible nVersion values is [0x20000000...0x3FFFFFFF], inclusive. This leaves two future upgrades for different mechanisms (top bits 010 and 011), while complying to the constraints set by BIP34 and BIP66. Having more than 29 available bits for parallel soft forks does not add anything anyway, as the (nVersion >= 3) requirement already makes that impossible.\n+\n+'''States'''\n+With every softfork proposal we associate a state BState, which begins\n+at ''defined'', and can be ''locked-in'', ''activated'',\n+or ''failed''.  Transitions are considered after each\n+retarget period.\n+\n+'''Soft Fork Support'''\n+Software which supports the change should begin by setting B in all blocks\n+mined until it is resolved.\n+\n+    if (BState == defined) {\n+        SetBInBlock();\n+    }\n+\n+'''Success: Lock-in Threshold'''\n+If bit B is set in 1916 (1512 on testnet) or\n+more of the 2016 blocks within a retarget period, it is considered\n+''locked-in''.  Miners should stop setting bit B.\n+\n+    if (NextBlockHeight % 2016 == 0) {\n+        if (BState == defined && Previous2016BlocksCountB() >= 1916) {\n+            BState = locked-in;\n+            BActiveHeight = NextBlockHeight + 2016;\n+        }\n+    }\n+\n+'''Success: Activation Delay'''\n+The consensus rules related to ''locked-in'' soft fork will be enforced in\n+the second retarget period; ie. there is a one retarget period in\n+which the remaining 5% can upgrade.  At the that activation block and\n+after, the bit B may be reused for a different soft fork.\n+\n+    if (BState == locked-in && NextBlockHeight == BActiveHeight) {\n+        BState = activated;\n+        ApplyRulesForBFromNextBlock();\n+        /* B can be reused, immediately */\n+     }\n+\n+'''Failure: Timeout'''\n+A soft fork proposal should include a ''timeout''.  This is measured\n+as the beginning of a calendar year as per this table (suggested\n+three years from drafting the soft fork proposal):",
      "path": "bip-0009.mediawiki",
      "position": null,
      "original_position": 71,
      "commit_id": "602e72125637ed90b75009e10fb5ba8a9cab3198",
      "original_commit_id": "f278c02cbcc18b20d7eb1c68653e4368f3852f5c",
      "in_reply_to_id": null,
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "฿tcDrak notifications@github.com writes:\n\n> > +'''Success: Activation Delay'''\n> > +The consensus rules related to ''locked-in'' soft fork will be enforced in\n> > +the second retarget period; ie. there is a one retarget period in\n> > +which the remaining 5% can upgrade.  At the that activation block and\n> > +after, the bit B may be reused for a different soft fork.\n> > +\n> > -    if (BState == locked-in && NextBlockHeight == BActiveHeight) {\n> > -        BState = activated;\n> > -        ApplyRulesForBFromNextBlock();\n> > -        /\\* B can be reused, immediately */\n> > -     }\n> >   +\n> >   +'''Failure: Timeout'''\n> >   +A soft fork proposal should include a ''timeout''.  This is measured\n> >   +as the beginning of a calendar year as per this table (suggested\n> >   +three years from drafting the soft fork proposal):\n> \n> three years seems a bit long. 2 maybe, but not more imo.\n\nThe proposal is to add 3 to the calendar year, thus 2-3 years.\nI clarified this as:\n\n A soft fork proposal should include a ''timeout''.  This is measured as\n the beginning of a calendar year as per this table (suggest adding\n three to the current calendar year when drafting the soft fork\n proposal):\n\nIt can take a year to actually get from first drafting of a BIP to\nactual deployed code.  For example, the versionbits bip is 9 months old\nalready, and still doesn't have code.\n\nLooking at BIP66, the code was released 16 February.  It was activated\non 4 July, about 5 months later.\n\nCheers,\nRusty.\n",
      "created_at": "2015-09-27T06:34:24Z",
      "updated_at": "2015-09-27T06:34:24Z",
      "html_url": "https://github.com/bitcoin/bips/pull/207#discussion_r40502046",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/comments/40502046"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bips/pulls/207"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}